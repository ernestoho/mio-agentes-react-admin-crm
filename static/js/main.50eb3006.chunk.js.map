{"version":3,"sources":["dataGenerator/tags.ts","dataGenerator/utils.ts","dataGenerator/companies.ts","dataGenerator/contacts.ts","dataGenerator/contactNotes.ts","dataGenerator/tasks.ts","dataGenerator/deals.ts","dataGenerator/dealNotes.ts","dataProvider.ts","dataGenerator/index.ts","dataGenerator/sales.ts","dataGenerator/finalize.ts","authProvider.ts","Header.tsx","Layout.tsx","contacts/Avatar.tsx","tags/colors.ts","contacts/TagsListEdit.tsx","contacts/ContactAside.tsx","companies/LogoField.tsx","misc/Status.tsx","notes/StatusSelector.tsx","notes/NewNote.tsx","notes/Note.tsx","notes/NotesIterator.tsx","contacts/ContactShow.tsx","contacts/TagsList.tsx","contacts/ContactListFilter.tsx","contacts/ContactList.tsx","contacts/ContactEdit.tsx","contacts/ContactCreate.tsx","contacts/index.tsx","companies/sectors.ts","companies/CompanyAvatar.tsx","companies/CompanyCard.tsx","companies/GridList.tsx","companies/sizes.ts","companies/CompanyListFilter.tsx","companies/CompanyList.tsx","companies/CompanyCreate.tsx","companies/CompanyAside.tsx","deals/stages.ts","companies/CompanyShow.tsx","companies/CompanyEdit.tsx","companies/index.ts","deals/DealCard.tsx","deals/DealColumn.tsx","deals/DealListContent.tsx","deals/types.ts","deals/DealCreate.tsx","deals/ContactList.tsx","deals/DealShow.tsx","deals/OnlyMineInput.tsx","deals/DealList.tsx","deals/index.ts","dashboard/Welcome.tsx","dashboard/DealsChart.tsx","dashboard/HotContacts.tsx","dashboard/LatestNotes.tsx","dashboard/DealsPipeline.tsx","dashboard/Dashboard.tsx","App.js","reportWebVitals.js","index.js"],"names":["tags","id","name","color","weightedBoolean","likelyhood","faker","random","number","randomDate","minDate","maxDate","minTs","Date","getTime","now","range","randomRange","max","ts","Math","sqrt","sectors","sizes","regex","genders","status","maxContacts","1","10","50","250","500","type","stages","baseDataProvider","fakerestDataProvider","db","sales","randomSales","Array","from","keys","map","first_name","firstName","last_name","lastName","email","internet","generateSales","companies","company","companyName","logo","sector","arrayElement","size","linkedIn","toLowerCase","replace","website","url","phone_number","phone","phoneNumber","address","streetAddress","zipcode","zipCode","city","stateAbbr","nb_contacts","nb_deals","sales_id","created_at","toISOString","generateCompanies","contacts","numberOfContacts","has_avatar","gender","avatar","undefined","title","fakerCompany","bsAdjective","first_seen","last_seen","charAt","toUpperCase","substr","company_id","phone_number1","phone_number2","background","lorem","sentence","acquisition","has_newsletter","arrayElements","tag","nb_notes","generateContacts","contactNotes","contact","date","contact_id","text","paragraphs","min","generateContactNotes","deals","filter","lowercaseName","words","slice","contact_ids","stage","description","amount","updated_at","start_at","add","months","index","forEach","deal","generateDeals","dealNotes","deal_id","generateDealNotes","tasks","due_date","generateTasks","sort","a","b","valueOf","note","finalize","generateData","dataProvider","Proxy","get","target","resource","params","Promise","resolve","setTimeout","authProvider","login","username","localStorage","setItem","logout","removeItem","checkError","checkAuth","getItem","reject","getPermissions","getIdentity","fullName","useStyles","makeStyles","root","flexGrow","width","height","Header","classes","match","useRouteMatch","currentPath","path","className","AppBar","position","Toolbar","variant","Box","flex","display","justifyContent","alignItems","src","alt","Typography","component","Tabs","value","aria-label","Tab","label","Link","to","LoadingIndicator","UserMenu","Logout","button","Layout","props","state","hasError","errorMessage","errorInfo","history","listen","setState","this","theme","children","ThemeProvider","createMuiTheme","CssBaseline","Container","Error","error","Notification","Component","withRouter","Avatar","record","colors","TagsListEdit","useState","open","setOpen","newTagName","setNewTagName","newTagColor","setNewTagColor","anchorEl","setAnchorEl","version","setVersion","disabled","setDisabled","useGetList","page","perPage","field","order","allTags","data","ids","useGetMany","enabled","length","loaded","useUpdate","update","useCreate","create","unselectedTagIds","includes","handleAddTag","handleOpenCreateDialog","mt","mb","Chip","onDelete","tagId","handleDeleteTag","style","backgroundColor","border","icon","onClick","event","currentTarget","Menu","Boolean","onClose","MenuItem","Dialog","aria-labelledby","onSubmit","onSuccess","v","DialogTitle","DialogContent","autoFocus","fullWidth","onChange","flexWrap","selected","handleClick","DialogActions","Button","borderRadius","margin","RoundButton","ContactAside","link","ml","minWidth","textAlign","EditButton","basePath","ShowButton","Divider","EmailField","source","TextField","DateField","options","year","month","day","ReferenceField","reference","FunctionField","render","ReferenceManyField","TasksIterator","useListContext","loading","List","task","ListItem","disableGutters","image","objectFit","sizeInPixel","medium","small","LogoField","process","getColorFromStatus","Status","bgcolor","StatusSelector","setStatus","select","clsx","marginTop","spacing","marginBottom","toolbar","marginRight","paddingTop","NewNote","showStatus","useRecordContext","useResourceContext","setText","setDate","refresh","useRefresh","notify","useNotify","identity","useGetIdentity","preventDefault","foreignKeyMapping","multiline","rows","metadata","palette","secondary","textarea","paddingLeft","paddingRight","paddingBottom","lineHeight","buttons","cancel","content","padding","paragraph","fontFamily","typography","fontSize","body1","marginLeft","visibility","flexDirection","Note","isLast","isHover","setHover","isEditing","setEditing","noteText","setNoteText","useDelete","mutationMode","handleDelete","onMouseEnter","onMouseLeave","showTime","locales","dateStyle","timeStyle","FilledInput","split","Tooltip","IconButton","NotesIterator","ContactShowContent","useShowContext","Card","CardContent","ColoredChipField","ChipField","TagsList","ReferenceArrayField","SingleFieldList","linkType","ContactListFilter","FilterLiveSearch","FilterList","FilterListItem","last_seen_gte","endOfYesterday","last_seen_lte","startOfWeek","startOfMonth","subMonths","cursor","ContactListContent","onToggleItem","selectedIds","SimpleListLoading","hasLeftAvatarOrIcon","hasSecondaryText","ListItemIcon","Checkbox","edge","checked","tabIndex","disableRipple","e","stopPropagation","ListItemAvatar","ListItemText","primary","ListItemSecondaryAction","formatDistance","useActionStyles","createButton","ContactListActions","TopToolbar","SortButton","fields","ExportButton","CreateButton","Spacer","ContactEditContent","useEditContext","FormWithRedirect","redirect","formProps","mr","TextInput","ReferenceInput","AutocompleteInput","optionText","BooleanInput","ContactCreateContent","useCreateContext","save","validate","required","list","actions","aside","pagination","Pagination","rowsPerPageOptions","filterDefaultValues","show","ShowBase","edit","EditBase","CreateBase","transform","img","large","CompanyAvatar","imgProps","paper","stats","singleStat","statIcon","CompanyCard","elevation","setElevation","linkToRecord","underline","Paper","SelectField","choices","gridList","gap","grey","LoadingGridList","nbChildren","fn","key","_","LoadedGridList","GridList","CompanyListFilter","CompanyListActions","inline","CustomLayout","maxWidth","CustomDivider","CompanyAside","href","stageNames","opportunity","won","lost","delayed","stageChoices","CompanyShowContent","setValue","indicatorColor","textColor","newValue","TabPanel","other","role","hidden","ContactsIterator","RouterLink","CreateRelatedContactButton","pathname","startIcon","DealsIterator","toLocaleString","notation","currency","currencyDisplay","minimumSignificantDigits","Create","SimpleForm","SelectInput","formClassName","helperText","cardContent","cardText","DealCard","useRedirect","draggableId","String","provided","snapshot","draggableProps","dragHandleProps","ref","innerRef","opacity","isDragging","gutterBottom","borderTopLeftRadius","borderTopRightRadius","droppable","DealColumn","dealIds","align","droppableId","droppableProvided","droppableProps","isDraggingOver","placeholder","initialDeals","reduce","obj","getDealsByColumn","columns","acc","push","DealListContent","currentSort","filterValues","setDeals","useContext","DataProviderContext","useMutation","payload","useEffect","newDeals","isEqual","onDragEnd","result","destination","column","sourceDeal","destinationDeal","splice","Number","getList","columnDeals","all","previousData","sourceColumn","destinationColumn","sourceDeals","destinationDeals","pop","typeChoices","DealCreate","useDataProvider","then","oldDeal","initialValues","defaultValue","NumberInput","ul","listStyle","li","ContactList","dialog","top","DealShow","DealShowContent","format","minHeight","whiteSpace","OnlyMineInput","alwaysOn","useListFilterContext","displayedFilters","setFilters","FormControlLabel","control","Switch","newFilterValues","defaultProps","DealFilters","Filter","SearchInput","DealActions","context","filters","Welcome","CardActions","multiplier","DealsChart","setMonths","dealsByMonth","amountByMonth","Object","pending","indexBy","right","bottom","left","valueScale","indexScale","round","enableGridX","enableGridY","enableLabel","axisTop","tickSize","tickPadding","axisBottom","legendPosition","legendOffset","axisLeft","axisRight","abs","tickValues","markers","axis","lineStyle","strokeOpacity","textStyle","fill","legend","legendOrientation","stroke","strokeWidth","HotContacts","isInteger","contactData","contactIds","contactTotal","total","contactsLoaded","SimpleList","primaryText","secondaryText","addSuffix","leftAvatar","noteTextText","overflow","LatestNotes","contactNotesData","contactNotesIds","contactNotesLoaded","dealNotesData","dealNotesIds","dealNotesLoaded","allNotes","concat","Deal","Contact","DealsPipeline","stage_neq","unorderedIds","setIds","orderedIds","Dashboard","defaultTheme","App","Admin","layout","dashboard","Resource","ListGuesser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.50eb3006.chunk.js","sourcesContent":["// --champagne-pink: #eddcd2ff;\n// --linen: #fff1e6ff;\n// --pale-pink: #fde2e4ff;\n// --mimi-pink: #fad2e1ff;\n// --powder-blue: #c5deddff;\n// --mint-cream: #dbe7e4ff;\n// --isabelline: #f0efebff;\n// --alice-blue: #d6e2e9ff;\n// --beau-blue: #bcd4e6ff;\n// --pale-cerulean: #99c1deff;\n\nconst tags = [\n  { id: 0, name: \"football-fan\", color: \"#eddcd2\" },\n  { id: 1, name: \"holiday-card\", color: \"#fff1e6\" },\n  { id: 2, name: \"influencer\", color: \"#fde2e4\" },\n  { id: 3, name: \"manager\", color: \"#fad2e1\" },\n  { id: 4, name: \"musician\", color: \"#c5dedd\" },\n  { id: 5, name: \"vip\", color: \"#dbe7e4\" },\n];\n\nexport const generateTags = (db) => {\n  return [...tags];\n};\n","import faker from \"faker/locale/en\";\n\nexport const weightedArrayElement = (values, weights) =>\n  faker.random.arrayElement(\n    values.reduce(\n      (acc, value, index) => acc.concat(new Array(weights[index]).fill(value)),\n      []\n    )\n  );\n\nexport const weightedBoolean = (likelyhood) =>\n  faker.random.number(99) < likelyhood;\n\nexport const randomDate = (minDate?: Date, maxDate?: Date) => {\n  const minTs =\n    minDate instanceof Date\n      ? minDate.getTime()\n      : Date.now() - 5 * 365 * 24 * 60 * 60 * 1000; // 5 years\n  const maxTs = maxDate instanceof Date ? maxDate.getTime() : Date.now();\n  const range = maxTs - minTs;\n  const randomRange = faker.random.number({ max: range });\n  // move it more towards today to account for traffic increase\n  const ts = Math.sqrt(randomRange / range) * range;\n  return new Date(minTs + ts);\n};\n\nexport const randomFloat = (min, max) =>\n  parseFloat(faker.random.number({ min, max, precision: 0.01 }).toFixed(2));\n","import { company, internet, address, phone, random } from \"faker/locale/en_US\";\nimport { randomDate } from \"./utils\";\n\nimport { Db } from \"./types\";\nimport { Company } from '../types';\n\nconst sectors = [\n  \"Communication Services\",\n  \"Consumer Discretionary\",\n  \"Consumer Staples\",\n  \"Energy\",\n  \"Financials\",\n  \"Health Care\",\n  \"Industrials\",\n  \"Information Technology\",\n  \"Materials\",\n  \"Real Estate\",\n  \"Utilities\",\n];\n\nconst sizes = [1, 10, 50, 250, 500];\n\nconst regex = /\\W+/;\n\nexport const generateCompanies = (db: Db): Company[] => {\n  return Array.from(Array(55).keys()).map((id) => {\n    const name = company.companyName();\n    return {\n      id,\n      name: name,\n      logo: `/logos/${id}.png`,\n      sector: random.arrayElement(sectors),\n      size: random.arrayElement(sizes),\n      linkedIn: `https://www.linkedin.com/company/${name\n        .toLowerCase()\n        .replace(regex, \"_\")}`,\n      website: internet.url(),\n      phone_number: phone.phoneNumber(),\n      address: address.streetAddress(),\n      zipcode: address.zipCode(),\n      city: address.city(),\n      stateAbbr: address.stateAbbr(),\n      nb_contacts: 0,\n      nb_deals: 0,\n      // at least 1/3rd of companies for Jane Doe\n      sales_id: random.number(2) === 0 ? 0 : random.arrayElement(db.sales).id,\n      created_at:  randomDate().toISOString(),\n    };\n  });\n};\n","import {\n  name,\n  internet,\n  random,\n  company as fakerCompany,\n  phone,\n  lorem,\n} from \"faker/locale/en_US\";\n\nimport { randomDate, weightedBoolean } from \"./utils\";\nimport { Db } from \"./types\";\nimport { Contact } from \"../types\";\n\nconst genders = [\"male\", \"female\"];\nconst status = [\"cold\", \"cold\", \"cold\", \"warm\", \"warm\", \"hot\", \"in-contract\"];\nconst maxContacts = {\n  1: 1,\n  10: 4,\n  50: 12,\n  250: 25,\n  500: 50,\n};\n\nexport const generateContacts = (db: Db): Contact[] => {\n  const nbAvailblePictures = 223;\n  let numberOfContacts = 0;\n\n  return Array.from(Array(500).keys()).map((id) => {\n    const has_avatar =\n      weightedBoolean(25) && numberOfContacts < nbAvailblePictures;\n    const gender = random.arrayElement(genders);\n    const first_name = name.firstName(gender as any);\n    const last_name = name.lastName();\n    const email = internet.email(first_name, last_name);\n    const avatar = has_avatar\n      ? \"https://marmelab.com/posters/avatar-\" +\n        (223 - numberOfContacts) +\n        \".jpeg\"\n      : undefined;\n    const title = fakerCompany.bsAdjective();\n\n    if (has_avatar) {\n      numberOfContacts++;\n    }\n\n    // choose company with people left to know\n    let company;\n    do {\n      company = random.arrayElement(db.companies);\n    } while (company.nb_contacts >= maxContacts[company.size]);\n    company.nb_contacts++;\n\n    const first_seen = randomDate(company.created_at).toISOString();\n    const last_seen = first_seen;\n\n    return {\n      id,\n      first_name,\n      last_name,\n      gender,\n      title: title.charAt(0).toUpperCase() + title.substr(1),\n      company_id: company.id,\n      email,\n      phone_number1: phone.phoneNumber(),\n      phone_number2: phone.phoneNumber(),\n      background: lorem.sentence(),\n      acquisition: random.arrayElement([\"inbound\", \"outbound\"]),\n      avatar,\n      first_seen: first_seen,\n      last_seen: last_seen,\n      has_newsletter: weightedBoolean(30),\n      status: random.arrayElement(status),\n      tags: random\n        .arrayElements(db.tags, random.arrayElement([0, 0, 0, 1, 1, 2]))\n        .map((tag) => tag.id), // finalize\n      sales_id: company.sales_id,\n      nb_notes: 0,\n    };\n  });\n};\n","import { random, lorem } from \"faker/locale/en_US\";\n\nimport { Db } from \"./types\";\nimport { ContactNote } from \"../types\";\nimport { randomDate } from \"./utils\";\n\nconst type = [\"Email\", \"Call\", \"Call\", \"Call\", \"Call\", \"Meeting\", \"Reminder\"];\nconst status = [\"cold\", \"cold\", \"cold\", \"warm\", \"warm\", \"hot\", \"in-contract\"];\n\nexport const generateContactNotes = (db: Db): ContactNote[] => {\n  return Array.from(Array(1200).keys()).map((id) => {\n    const contact = random.arrayElement(db.contacts);\n    const date = randomDate(new Date(contact.first_seen)).toISOString();\n    contact.nb_notes++;\n    contact.last_seen = date > contact.last_seen ? date : contact.last_seen;\n    return {\n      id,\n      contact_id: contact.id,\n      type: random.arrayElement(type),\n      text: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n      date,\n      sales_id: contact.sales_id,\n      status: random.arrayElement(status),\n    };\n  });\n};\n","import { random, lorem } from \"faker/locale/en_US\";\n\nimport { Db } from \"./types\";\nimport { randomDate } from \"./utils\";\n\nconst type = [\n  \"Email\",\n  \"Email\",\n  \"Email\",\n  \"Email\",\n  \"Email\",\n  \"Email\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Call\",\n  \"Demo\",\n  \"Lunch\",\n  \"Meeting\",\n  \"Follow-up\",\n  \"Follow-up\",\n  \"Thank you\",\n  \"Ship\",\n  \"None\",\n];\n\nexport const generateTasks = (db: Db) => {\n  return Array.from(Array(400).keys()).map((id) => {\n    const contact = random.arrayElement(db.contacts);\n    return {\n      id,\n      contact_id: contact.id,\n      type: random.arrayElement(type),\n      text: lorem.sentence(),\n      due_date: randomDate(new Date(contact.first_seen)),\n      sales_id: contact.sales_id,\n    };\n  });\n};\n","import { random, lorem } from \"faker/locale/en_US\";\nimport { add } from 'date-fns'\n\nimport { Db } from \"./types\";\nimport { Deal } from \"../types\";\nimport { randomDate } from \"./utils\";\n\nconst type = [\n  \"Other\",\n  \"Copywriting\",\n  \"Print project\",\n  \"UI Design\",\n  \"Website design\",\n];\nconst stages = [\n  \"opportunity\",\n  \"proposal-sent\",\n  \"in-negociation\",\n  \"won\",\n  \"lost\",\n  \"delayed\",\n];\n//const tags = [\"new deal\", \"upsell\", \"SAV\"];\n\nexport const generateDeals = (db: Db): Deal[] => {\n  const deals = Array.from(Array(50).keys()).map((id) => {\n    const company = random.arrayElement(db.companies);\n    company.nb_deals++;\n    const contacts = random.arrayElements(\n      db.contacts.filter((contact) => contact.company_id === company.id),\n      random.number({ min: 1, max: 3 })\n    );\n    const lowercaseName = lorem.words();\n    const created_at = randomDate(new Date(company.created_at)).toISOString();\n    return {\n      id,\n      name: lowercaseName[0].toUpperCase() + lowercaseName.slice(1),\n      company_id: company.id,\n      contact_ids: contacts.map((contact) => contact.id),\n      type: random.arrayElement(type),\n      stage: random.arrayElement(stages),\n      description: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n      amount: random.number(1000) * 100,\n      created_at: created_at,\n      updated_at: randomDate(new Date(created_at)).toISOString(),\n      start_at: randomDate(new Date(), add(new Date(), { months: 6 })).toISOString(),\n      sales_id: company.sales_id,\n      index: 0,\n      nb_notes: 0,\n    };\n  });\n  // compute index based on stage\n  stages.forEach((stage) => {\n    deals\n      .filter((deal) => deal.stage === stage)\n      .forEach((deal, index) => {\n        deals[deal.id].index = index;\n      });\n  });\n  return deals;\n};\n","import { random, lorem } from \"faker/locale/en_US\";\n\nimport { Db } from \"./types\";\nimport { randomDate } from \"./utils\";\n\nconst type = [\"Email\", \"Call\", \"Call\", \"Call\", \"Call\", \"Meeting\", \"Reminder\"];\n\nexport const generateDealNotes = (db: Db) => {\n  return Array.from(Array(300).keys()).map((id) => {\n    const deal = random.arrayElement(db.deals);\n    deal.nb_notes++;\n    return {\n      id,\n      deal_id: deal.id,\n      type: random.arrayElement(type),\n      text: lorem.paragraphs(random.number({ min: 1, max: 4 })),\n      date: randomDate(new Date(db.companies[deal.company_id].created_at)).toISOString(),\n      sales_id: deal.sales_id,\n    };\n  });\n};\n","import fakerestDataProvider from \"ra-data-fakerest\";\n\nimport generateData from \"./dataGenerator\";\n\nconst baseDataProvider = fakerestDataProvider(generateData(), true);\n\nexport const dataProvider = new Proxy(baseDataProvider, {\n  get: (target, name: string) => (resource, params) =>\n    new Promise((resolve) =>\n      setTimeout(() => resolve(baseDataProvider[name](resource, params)), 300)\n    ),\n});\n","/* eslint-disable import/no-anonymous-default-export */\nimport { generateSales } from \"./sales\";\nimport { generateTags } from \"./tags\";\nimport { generateCompanies } from \"./companies\";\nimport { generateContacts } from \"./contacts\";\nimport { generateContactNotes } from \"./contactNotes\";\nimport { generateTasks } from \"./tasks\";\nimport { generateDeals } from \"./deals\";\nimport { generateDealNotes } from \"./dealNotes\";\nimport { finalize } from \"./finalize\";\nimport { Db } from \"./types\";\n\nexport default (): Db => {\n  const db = {} as Db;\n  db.sales = generateSales(db);\n  db.tags = generateTags(db);\n  db.companies = generateCompanies(db);\n  db.contacts = generateContacts(db);\n  db.contactNotes = generateContactNotes(db);\n  db.deals = generateDeals(db);\n  db.dealNotes = generateDealNotes(db)\n  db.tasks = generateTasks(db);\n  finalize(db);\n\n  return db;\n};\n","import { name, internet } from \"faker/locale/en_US\";\n\nimport { Db } from \"./types\";\n\nexport const generateSales = (db: Db) => {\n  const randomSales = Array.from(Array(10).keys()).map((id) => {\n    const first_name = name.firstName();\n    const last_name = name.lastName();\n    const email = internet.email(first_name, last_name);\n\n    return {\n      id: id + 1,\n      first_name,\n      last_name,\n      email,\n    };\n  });\n  return [\n    {\n      id: 0,\n      first_name: \"Jane\",\n      last_name: \"Doe\",\n      email: \"janedoe@atomic.dev\",\n    },\n    ...randomSales,\n  ];\n};\n","import { Db } from \"./types\";\n\nexport const finalize = (db: Db) => {\n  // set contact status according to latest note\n  db.contactNotes\n    .sort((a, b) => new Date(a.date).valueOf() - new Date(b.date).valueOf())\n    .forEach((note) => {\n      db.contacts[note.contact_id].status = note.status;\n    });\n};\n","import { AuthProvider } from \"react-admin\";\n\nexport const authProvider: AuthProvider = {\n  login: ({ username }) => {\n    localStorage.setItem(\"username\", username);\n    // accept all username/password combinations\n    return Promise.resolve();\n  },\n  logout: () => {\n    localStorage.removeItem(\"username\");\n    return Promise.resolve();\n  },\n  checkError: () => Promise.resolve(),\n  checkAuth: () =>\n    localStorage.getItem(\"username\") ? Promise.resolve() : Promise.reject(),\n  getPermissions: () => Promise.reject(\"Unknown method\"),\n  getIdentity: () =>\n    Promise.resolve({\n      id: 0,\n      fullName: \"Jane Doe\",\n      avatar:\n        \"data:image/jpeg;base64,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\",\n    }),\n};\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Tabs, Tab, Toolbar, AppBar, Box, Typography } from \"@material-ui/core\";\nimport { Link, useRouteMatch } from \"react-router-dom\";\nimport { UserMenu, Logout, LoadingIndicator } from \"react-admin\";\n\nconst useStyles = makeStyles({\n  root: {\n    flexGrow: 1,\n  },\n  logo: {\n    width: 50,\n    height: 43.54,\n  },\n});\n\nconst Header = () => {\n  const classes = useStyles();\n  const match = useRouteMatch([\"/contacts\", \"/companies\", \"/deals\"]);\n  const currentPath = match?.path ?? \"/\";\n\n  return (\n    <nav className={classes.root}>\n      <AppBar position=\"static\" color=\"primary\">\n        <Toolbar variant=\"dense\">\n          <Box flex={1} display=\"flex\" justifyContent=\"space-between\">\n            <Box display=\"flex\" alignItems=\"center\">\n              <img\n                className={classes.logo}\n                src={\n                  \"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\"\n                }\n                alt=\"Bosch Logo\"\n              />\n              <Typography component=\"span\" variant=\"h5\">\n                Atomic CRM\n              </Typography>\n            </Box>\n            <Box>\n              <Tabs value={currentPath} aria-label=\"Navigation Tabs\">\n                <Tab label={\"Dashboard\"} component={Link} to=\"/\" value=\"/\" />\n                <Tab\n                  label={\"Contacts\"}\n                  component={Link}\n                  to=\"/contacts\"\n                  value=\"/contacts\"\n                />\n                <Tab\n                  label={\"Companies\"}\n                  component={Link}\n                  to=\"/companies\"\n                  value=\"/companies\"\n                />\n                <Tab\n                  label={\"Deals\"}\n                  component={Link}\n                  to=\"/deals\"\n                  value=\"/deals\"\n                />\n              </Tabs>\n            </Box>\n            <Box display=\"flex\">\n              <LoadingIndicator />\n              <UserMenu logout={<Logout button />} />\n            </Box>\n          </Box>\n        </Toolbar>\n      </AppBar>\n    </nav>\n  );\n};\n\nexport default Header;\n","import React, { Component, ErrorInfo, HtmlHTMLAttributes } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { RouteComponentProps, withRouter } from \"react-router-dom\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport { CssBaseline, Container } from \"@material-ui/core\";\nimport { CoreLayoutProps } from \"react-admin\";\n\nimport { Notification, Error } from \"react-admin\";\nimport Header from \"./Header\";\n\nclass Layout extends Component<LayoutProps, LayoutState> {\n  state = { hasError: false, errorMessage: undefined, errorInfo: undefined };\n\n  constructor(props) {\n    super(props);\n    /**\n     * Reset the error state upon navigation\n     *\n     * @see https://stackoverflow.com/questions/48121750/browser-navigation-broken-by-use-of-react-error-boundaries\n     */\n    props.history.listen(() => {\n      if (this.state.hasError) {\n        this.setState({ hasError: false });\n      }\n    });\n  }\n\n  componentDidCatch(errorMessage, errorInfo) {\n    this.setState({ hasError: true, errorMessage, errorInfo });\n  }\n\n  render() {\n    const { theme, title, children } = this.props;\n    const { hasError, errorMessage, errorInfo } = this.state;\n    return (\n      <ThemeProvider theme={createMuiTheme(theme)}>\n        <CssBaseline />\n        <Header />\n        <Container>\n          <main id=\"main-content\">\n            {hasError ? (\n              <Error\n                error={(errorMessage as unknown) as string} // FIXME\n                errorInfo={errorInfo}\n                title={title as string}\n              />\n            ) : (\n              children\n            )}\n          </main>\n        </Container>\n        <Notification />\n      </ThemeProvider>\n    );\n  }\n\n  static propTypes = {\n    children: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n    title: PropTypes.node.isRequired,\n  };\n}\n\nexport interface LayoutProps\n  extends CoreLayoutProps,\n    Omit<HtmlHTMLAttributes<HTMLDivElement>, \"title\">,\n    RouteComponentProps {}\n\nexport interface LayoutState {\n  hasError: boolean;\n  errorMessage?: string;\n  errorInfo?: ErrorInfo;\n}\n\nexport default withRouter(Layout);\n","import { Avatar as MuiAvatar } from \"@material-ui/core\";\n\nexport const Avatar = ({ record }) => (\n  <MuiAvatar src={record.avatar}>\n    {record.first_name.charAt(0)}\n    {record.last_name.charAt(0)}\n  </MuiAvatar>\n);\n","export const colors = [\n  \"#eddcd2\",\n  \"#fff1e6\",\n  \"#fde2e4\",\n  \"#fad2e1\",\n  \"#c5dedd\",\n  \"#dbe7e4\",\n  \"#f0efeb\",\n  \"#d6e2e9\",\n  \"#bcd4e6\",\n  \"#99c1de\",\n];\n","import { useState } from \"react\";\nimport {\n  useGetMany,\n  useCreate,\n  useUpdate,\n  useGetList,\n  Identifier,\n} from \"react-admin\";\nimport {\n  Chip,\n  Box,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  MenuItem,\n  Menu,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ControlPointIcon from \"@material-ui/icons/ControlPoint\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport { colors } from \"../tags/colors\";\n\nexport const TagsListEdit = ({ record }) => {\n  const [open, setOpen] = useState(false);\n  const [newTagName, setNewTagName] = useState(\"\");\n  const [newTagColor, setNewTagColor] = useState(colors[0]);\n  const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n  const [version, setVersion] = useState(0); // used to force the refresh of useGetList without refreshing the whole page\n  const [disabled, setDisabled] = useState(false);\n\n  const { data: allTags, ids } = useGetList(\n    \"tags\",\n    { page: 1, perPage: 10 },\n    { field: \"name\", order: \"ASC\" },\n    {},\n    { version } as any // FIXME UseDataProviderOptions don't allow [key: string]: any\n  );\n  const { data: tags, loaded } = useGetMany(\"tags\", record.tags, {\n    enabled: record.tags && record.tags.length > 0,\n  });\n  const [update] = useUpdate();\n  const [create] = useCreate();\n\n  const unselectedTagIds = ids && ids.filter((id) => !record.tags.includes(id));\n\n  const handleOpen = (event: React.MouseEvent<HTMLDivElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const handleDeleteTag = (id: Identifier) => {\n    const tags: Identifier[] = record.tags.filter(\n      (tagId: Identifier) => tagId !== id\n    );\n    update(\"contacts\", record.id, { tags }, record);\n  };\n\n  const handleAddTag = (id: Identifier) => {\n    const tags: Identifier[] = [...record.tags, id];\n    update(\"contacts\", record.id, { tags }, record);\n    setAnchorEl(null);\n  };\n\n  const handleOpenCreateDialog = () => {\n    setOpen(true);\n    setAnchorEl(null);\n    setDisabled(false);\n  };\n\n  const handleNewTagNameChange = (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setNewTagName(event.target.value);\n  };\n\n  const handleCreateTag = () => {\n    setDisabled(true);\n    create(\n      \"tags\",\n      { name: newTagName, color: newTagColor },\n      {\n        onSuccess: ({ data }) => {\n          update(\n            \"contacts\",\n            record.id,\n            { tags: [...record.tags, data.id] },\n            record,\n            {\n              onSuccess: () => {\n                setNewTagName(\"\");\n                setNewTagColor(colors[0]);\n                setOpen(false);\n\n                setVersion((v) => v + 1);\n              },\n            }\n          );\n        },\n      }\n    );\n  };\n\n  if (!loaded || !tags) return null;\n  return (\n    <>\n      {tags.map((tag) => (\n        <Box mt={1} mb={1} key={tag.id}>\n          <Chip\n            size=\"small\"\n            variant=\"outlined\"\n            onDelete={() => handleDeleteTag(tag.id)}\n            label={tag.name}\n            style={{ backgroundColor: tag.color, border: 0 }}\n          />\n        </Box>\n      ))}\n      <Box mt={1}>\n        <Chip\n          icon={<ControlPointIcon />}\n          size=\"small\"\n          variant=\"outlined\"\n          onClick={handleOpen}\n          label=\"Add tag\"\n          color=\"primary\"\n        />\n      </Box>\n      <Menu open={Boolean(anchorEl)} onClose={handleClose} anchorEl={anchorEl}>\n        {unselectedTagIds?.map((id) => (\n          <MenuItem key={id} onClick={() => handleAddTag(id)}>\n            <Chip\n              size=\"small\"\n              variant=\"outlined\"\n              label={allTags && allTags[id].name}\n              style={{\n                backgroundColor: allTags && allTags[id].color,\n                border: 0,\n              }}\n              onClick={() => handleAddTag(id)}\n            />\n          </MenuItem>\n        ))}\n        <MenuItem onClick={handleOpenCreateDialog}>\n          <Chip\n            icon={<EditIcon />}\n            size=\"small\"\n            variant=\"outlined\"\n            onClick={handleOpenCreateDialog}\n            color=\"primary\"\n            label=\"Create new tag\"\n          />\n        </MenuItem>\n      </Menu>\n      <Dialog\n        open={open}\n        onClose={() => setOpen(false)}\n        aria-labelledby=\"form-dialog-title\"\n      >\n        <form onSubmit={handleCreateTag}>\n          <DialogTitle id=\"form-dialog-title\">Create a new tag</DialogTitle>\n          <DialogContent>\n            <TextField\n              autoFocus\n              label=\"Tag name\"\n              fullWidth\n              value={newTagName}\n              onChange={handleNewTagNameChange}\n            />\n            <Box display=\"flex\" flexWrap=\"wrap\" width={230} mt={2}>\n              {colors.map((color) => (\n                <RoundButton\n                  key={color}\n                  color={color}\n                  selected={color === newTagColor}\n                  handleClick={() => {\n                    setNewTagColor(color);\n                  }}\n                />\n              ))}\n            </Box>\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={() => setOpen(false)} color=\"primary\">\n              Cancel\n            </Button>\n            <Button type=\"submit\" color=\"primary\" disabled={disabled}>\n              Add tag\n            </Button>\n          </DialogActions>\n        </form>\n      </Dialog>\n    </>\n  );\n};\n\nconst useStyles = makeStyles({\n  root: {\n    width: 30,\n    height: 30,\n    borderRadius: 15,\n    display: \"inline-block\",\n    margin: 8,\n  },\n});\nconst RoundButton = ({ color, handleClick, selected }) => {\n  const classes = useStyles();\n  return (\n    <button\n      type=\"button\"\n      className={classes.root}\n      style={{\n        backgroundColor: color,\n        border: selected ? \"2px solid grey\" : \"none\",\n      }}\n      onClick={handleClick}\n    />\n  );\n};\n","import {\n  TextField,\n  EmailField,\n  DateField,\n  ReferenceManyField,\n  EditButton,\n  ShowButton,\n  useListContext,\n  ReferenceField,\n  FunctionField,\n} from \"react-admin\";\nimport { Box, Typography, Divider, List, ListItem } from \"@material-ui/core\";\nimport { TagsListEdit } from \"./TagsListEdit\";\n\nexport const ContactAside = ({ record, link = \"edit\" }: any) => (\n  <Box ml={4} width={250} minWidth={250}>\n    <Box textAlign=\"center\" mb={2}>\n      {link === \"edit\" ? (\n        <EditButton basePath=\"/contacts\" record={record} label=\"Edit Contact\" />\n      ) : (\n        <ShowButton basePath=\"/contacts\" record={record} label=\"Show Contact\" />\n      )}\n    </Box>\n\n    <Typography variant=\"subtitle2\">Personal info</Typography>\n    <Divider />\n\n    <Box mt={2}>\n      <EmailField source=\"email\" />\n    </Box>\n\n    <Box mt={1}>\n      <TextField source=\"phone_number1\" />{\" \"}\n      <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n        Work\n      </Typography>\n    </Box>\n\n    <Box mb={1}>\n      <TextField source=\"phone_number2\" />{\" \"}\n      <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n        Home\n      </Typography>\n    </Box>\n\n    <Box mb={3}>\n      <Typography variant=\"body2\">\n        {record.gender === \"male\" ? \"He/Him\" : \"She/Her\"}\n      </Typography>\n    </Box>\n\n    <Typography variant=\"subtitle2\">Background</Typography>\n    <Divider />\n\n    <Box mt={2}>{record && record.background}</Box>\n    <Box mt={1} mb={3}>\n      <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n        Added on\n      </Typography>{\" \"}\n      <DateField\n        source=\"first_seen\"\n        options={{ year: \"numeric\", month: \"long\", day: \"numeric\" }}\n        color=\"textSecondary\"\n      />\n      <br />\n      <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n        Last seen on\n      </Typography>{\" \"}\n      <DateField\n        source=\"last_seen\"\n        options={{ year: \"numeric\", month: \"long\", day: \"numeric\" }}\n        color=\"textSecondary\"\n      />\n      <br />\n      <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n        Followed by\n      </Typography>{\" \"}\n      <ReferenceField resource=\"contacts\" source=\"sales_id\" reference=\"sales\">\n        <FunctionField\n          source=\"last_name\"\n          render={(record) => `${record.first_name} ${record.last_name}`}\n        />\n      </ReferenceField>\n    </Box>\n\n    <Box mb={3}>\n      <Typography variant=\"subtitle2\">Tags</Typography>\n      <Divider />\n      <TagsListEdit record={record} />\n    </Box>\n\n    <ReferenceManyField\n      resource=\"contacts\"\n      target=\"contact_id\"\n      reference=\"tasks\"\n    >\n      <TasksIterator />\n    </ReferenceManyField>\n  </Box>\n);\n\nconst TasksIterator = () => {\n  const { data, ids, loading } = useListContext();\n  if (loading || ids.length === 0) return null;\n  return (\n    <Box>\n      <Typography variant=\"subtitle2\">Tasks</Typography>\n      <Divider />\n\n      <List>\n        {ids.map((id) => {\n          const task = data[id];\n          return (\n            <ListItem key={id} disableGutters>\n              <Box>\n                <Typography variant=\"body2\">{task.text}</Typography>\n                <Typography variant=\"body2\" color=\"textSecondary\">\n                  due <DateField source=\"due_date\" record={task} />\n                </Typography>\n              </Box>\n            </ListItem>\n          );\n        })}\n      </List>\n    </Box>\n  );\n};\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  image: {\n    objectFit: \"contain\",\n  },\n});\n\nconst sizeInPixel = {\n  medium: 42,\n  small: 20,\n};\n\nexport const LogoField = ({\n  record,\n  source,\n  size = \"medium\",\n}: {\n  record?: { logo: string; name: string };\n  source?: string;\n  size?: \"small\" | \"medium\";\n}) => {\n  const classes = useStyles();\n  if (!record) return null;\n  return (\n    <img\n      src={process.env.PUBLIC_URL + record.logo}\n      alt={record.name}\n      title={record.name}\n      width={sizeInPixel[size]}\n      height={sizeInPixel[size]}\n      className={classes.image}\n    />\n  );\n};\n","import { Box } from \"@material-ui/core\";\n\nconst getColorFromStatus = (status) =>\n  status === \"cold\"\n    ? \"#7dbde8\"\n    : status === \"warm\"\n    ? \"#e8cb7d\"\n    : status === \"hot\"\n    ? \"#e88b7d\"\n    : status === \"in-contract\"\n    ? \"#a4e87d\"\n    : \"#000\";\n\nexport const Status = ({ status }) => (\n  <Box\n    width={10}\n    height={10}\n    display=\"inline-block\"\n    borderRadius={5}\n    bgcolor={getColorFromStatus(status)}\n    component=\"span\"\n  />\n);\n","import { TextField, MenuItem } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport { Status } from \"../misc/Status\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: 150,\n  },\n});\n\nexport const StatusSelector = ({ status, setStatus, className = \"\" }) => {\n  const classes = useStyles();\n  return (\n    <TextField\n      select\n      value={status}\n      onChange={(event: React.ChangeEvent<{ value: unknown }>) => {\n        setStatus(event.target.value);\n      }}\n      variant=\"filled\"\n      label={false}\n      margin=\"none\"\n      size=\"small\"\n      className={clsx(className, classes.root)}\n    >\n      <MenuItem value=\"cold\">\n        Cold <Status status=\"cold\" />\n      </MenuItem>\n      <MenuItem value=\"warm\">\n        Warm <Status status=\"warm\" />\n      </MenuItem>\n      <MenuItem value=\"hot\">\n        Hot <Status status=\"hot\" />\n      </MenuItem>\n      <MenuItem value=\"in-contract\">\n        In Contract <Status status=\"in-contract\" />\n      </MenuItem>\n    </TextField>\n  );\n};\n","import { useState, FormEvent } from \"react\";\nimport {\n  useRecordContext,\n  useCreate,\n  useUpdate,\n  useRefresh,\n  useNotify,\n  useGetIdentity,\n  Identifier,\n  useResourceContext,\n} from \"react-admin\";\nimport { TextField as TextInput, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { StatusSelector } from \"./StatusSelector\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(1),\n  },\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginTop: theme.spacing(1),\n  },\n  small: {\n    marginRight: \"1em\",\n    \"& .MuiFilledInput-input\": {\n      paddingTop: 10,\n    },\n  },\n}));\n\nexport const NewNote = ({\n  showStatus,\n  reference,\n}: {\n  showStatus?: boolean;\n  reference: \"contacts\" | \"deals\";\n}) => {\n  const classes = useStyles();\n  const record = useRecordContext();\n  const resource = useResourceContext();\n  const [text, setText] = useState(\"\");\n  const [status, setStatus] = useState(record && record.status);\n  const [date, setDate] = useState(new Date().toISOString().slice(0, -1));\n  const [create, { loading }] = useCreate();\n  const [update] = useUpdate();\n  // FIXME: use refetch instead when ReferenceManyField exposes it in the ListContext\n  const refresh = useRefresh();\n  const notify = useNotify();\n  const { identity } = useGetIdentity();\n  if (!record || !identity) return null;\n\n  const handleSubmit = (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const data: any = {\n      [foreignKeyMapping[reference]]: record.id,\n      sales_id: identity.id,\n      date,\n      text,\n    };\n    if (showStatus) {\n      data.status = status;\n    }\n    update(\n      reference,\n      ((record && record.id) as unknown) as Identifier,\n      {\n        last_seen: date,\n        status,\n        nb_notes: record.nb_notes + 1,\n      },\n      record\n    );\n    create(resource, data, {\n      onSuccess: () => {\n        setText(\"\");\n        notify(\"Note added successfully\");\n        refresh();\n      },\n    });\n    return false;\n  };\n  return (\n    <div className={classes.root}>\n      <form onSubmit={handleSubmit}>\n        <TextInput\n          label=\"Add a note\"\n          variant=\"filled\"\n          size=\"small\"\n          fullWidth\n          multiline\n          value={text}\n          onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n            setText(event.target.value)\n          }\n          rows={3}\n        />\n        <div className={classes.toolbar}>\n          <span>\n            {text ? (\n              <>\n                {showStatus && (\n                  <StatusSelector\n                    status={status}\n                    setStatus={setStatus}\n                    className={classes.small}\n                  />\n                )}\n                <TextInput\n                  type=\"datetime-local\"\n                  variant=\"filled\"\n                  size=\"small\"\n                  value={date}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    setDate(event.target.value);\n                  }}\n                  className={classes.small}\n                />\n              </>\n            ) : null}\n          </span>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!text || loading}\n          >\n            Add this note\n          </Button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nconst foreignKeyMapping = {\n  contacts: \"contact_id\",\n  deals: \"deal_id\",\n};\n","import React, { useState } from \"react\";\nimport {\n  TextField,\n  ReferenceField,\n  DateField,\n  useResourceContext,\n  useDelete,\n  useUpdate,\n  useNotify,\n} from \"react-admin\";\nimport {\n  Typography,\n  Tooltip,\n  IconButton,\n  FilledInput,\n  Button,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport TrashIcon from \"@material-ui/icons/Delete\";\n\nimport { Status } from \"../misc/Status\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(2),\n  },\n  metadata: {\n    marginBottom: theme.spacing(1),\n    color: theme.palette.text.secondary,\n  },\n  textarea: {\n    paddingTop: 16,\n    paddingLeft: 14,\n    paddingRight: 60,\n    paddingBottom: 14,\n    lineHeight: 1.3,\n  },\n  buttons: {\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    marginTop: theme.spacing(1),\n  },\n  cancel: {\n    marginRight: theme.spacing(1),\n  },\n  content: {\n    backgroundColor: \"#edf3f0\",\n    padding: \"0 1em\",\n    borderRadius: 10,\n    display: \"flex\",\n    alignItems: \"stretch\",\n    marginBottom: theme.spacing(1),\n  },\n  text: {\n    flex: 1,\n  },\n  paragraph: {\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.body1.fontSize,\n    lineHeight: 1.3,\n    marginBottom: theme.spacing(2.4),\n  },\n  toolbar: {\n    marginLeft: theme.spacing(2),\n    visibility: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n  },\n}));\n\nexport const Note = ({\n  showStatus,\n  note,\n  isLast,\n}: {\n  showStatus?: boolean;\n  note: any;\n  isLast: boolean;\n}) => {\n  const [isHover, setHover] = useState(false);\n  const [isEditing, setEditing] = useState(false);\n  const [noteText, setNoteText] = useState(note.text);\n  const resource = useResourceContext();\n  const notify = useNotify();\n  const classes = useStyles();\n\n  const [handleDelete] = useDelete(resource, note.id, note, {\n    mutationMode: \"undoable\",\n    onSuccess: () => notify(\"Note deleted\", undefined, undefined, true),\n  });\n\n  const [update, { loading }] = useUpdate();\n\n  const handleEnterEditMode = () => {\n    setEditing(true);\n  };\n\n  const handleCancelEdit = () => {\n    setEditing(false);\n    setNoteText(note.text);\n  };\n\n  const handleTextChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setNoteText(event.target.value);\n  };\n\n  const handleNoteUpdate = () => {\n    update(resource, note.id, { text: noteText }, note, {\n      onSuccess: () => {\n        setEditing(false);\n        setNoteText(note.text);\n      },\n    });\n  };\n\n  return (\n    <div\n      className={classes.root}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n    >\n      <div className={classes.metadata}>\n        <ReferenceField\n          record={note}\n          resource=\"contactNotes\"\n          source=\"sales_id\"\n          reference=\"sales\"\n          basePath=\"/contactNotes\"\n        >\n          <TextField source=\"first_name\" variant=\"body1\" />\n        </ReferenceField>{\" \"}\n        <Typography component=\"span\" variant=\"body1\">\n          added a note on{\" \"}\n        </Typography>\n        <DateField\n          source=\"date\"\n          record={note}\n          variant=\"body1\"\n          showTime\n          locales=\"en\"\n          options={{\n            dateStyle: \"full\",\n            timeStyle: \"short\",\n          }}\n        />{\" \"}\n        {showStatus && <Status status={note.status} />}\n      </div>\n      {isEditing ? (\n        <form onSubmit={handleNoteUpdate}>\n          <FilledInput\n            value={noteText}\n            onChange={handleTextChange}\n            fullWidth\n            multiline\n            className={classes.textarea}\n            autoFocus\n          />\n          <div className={classes.buttons}>\n            <Button\n              className={classes.cancel}\n              onClick={handleCancelEdit}\n              color=\"primary\"\n            >\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={loading}\n            >\n              Update Note\n            </Button>\n          </div>\n        </form>\n      ) : (\n        <div className={classes.content}>\n          <div className={classes.text}>\n            {note.text.split(\"\\n\").map((paragraph, index) => (\n              <p className={classes.paragraph} key={index}>\n                {paragraph}\n              </p>\n            ))}\n          </div>\n          <div\n            className={classes.toolbar}\n            style={{ visibility: isHover ? \"visible\" : \"hidden\" }}\n          >\n            <Tooltip title=\"Edit note\">\n              <IconButton size=\"small\" onClick={handleEnterEditMode}>\n                <EditIcon />\n              </IconButton>\n            </Tooltip>\n            <Tooltip title=\"Delete note\">\n              <IconButton size=\"small\" onClick={handleDelete}>\n                <TrashIcon />\n              </IconButton>\n            </Tooltip>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useListContext } from \"react-admin\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { Note } from \"./Note\";\nimport { NewNote } from \"./NewNote\";\n\nconst useStyles = makeStyles({\n  root: {\n    marginTop: \"0.5em\",\n  },\n});\n\nexport const NotesIterator = ({\n  showStatus,\n  reference,\n}: {\n  showStatus?: boolean;\n  reference: \"contacts\" | \"deals\";\n}) => {\n  const classes = useStyles();\n  const { data, ids, loaded } = useListContext();\n  if (!loaded) return null;\n  return (\n    <>\n      <NewNote showStatus={showStatus} reference={reference} />\n      <div className={classes.root}>\n        {ids.map((id, index) => (\n          <Note\n            note={data[id]}\n            isLast={index === ids.length - 1}\n            showStatus={showStatus}\n            key={index}\n          />\n        ))}\n      </div>\n    </>\n  );\n};\n","import {\n  ShowBase,\n  TextField,\n  ReferenceField,\n  ReferenceManyField,\n  useShowContext,\n} from \"react-admin\";\nimport { Box, Card, CardContent, Typography } from \"@material-ui/core\";\n\nimport { Avatar } from \"./Avatar\";\nimport { ContactAside } from \"./ContactAside\";\nimport { LogoField } from \"../companies/LogoField\";\nimport { NotesIterator } from \"../notes\";\n\nexport const ContactShow = (props) => (\n  <ShowBase {...props}>\n    <ContactShowContent />\n  </ShowBase>\n);\n\nconst ContactShowContent = () => {\n  const { record, loaded } = useShowContext();\n  if (!loaded || !record) return null;\n  return (\n    <Box mt={2} display=\"flex\">\n      <Box flex=\"1\">\n        <Card>\n          <CardContent>\n            <Box display=\"flex\">\n              <Avatar record={record} />\n              <Box ml={2} flex=\"1\">\n                <Typography variant=\"h5\">\n                  {record.first_name} {record.last_name}\n                </Typography>\n                <Typography variant=\"body2\">\n                  {record.title} at{\" \"}\n                  <ReferenceField\n                    source=\"company_id\"\n                    reference=\"companies\"\n                    link=\"show\"\n                  >\n                    <TextField source=\"name\" />\n                  </ReferenceField>\n                </Typography>\n              </Box>\n              <Box>\n                <ReferenceField\n                  source=\"company_id\"\n                  reference=\"companies\"\n                  link=\"show\"\n                >\n                  <LogoField />\n                </ReferenceField>\n              </Box>\n            </Box>\n            <ReferenceManyField\n              target=\"contact_id\"\n              reference=\"contactNotes\"\n              sort={{ field: \"date\", order: \"DESC\" }}\n            >\n              <NotesIterator showStatus reference=\"contacts\" />\n            </ReferenceManyField>\n          </CardContent>\n        </Card>\n      </Box>\n      <ContactAside record={record} />\n    </Box>\n  );\n};\n","import { ReferenceArrayField, SingleFieldList, ChipField } from \"react-admin\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst ColoredChipField = ({ record, ...props }: any) =>\n  record ? (\n    <ChipField\n      record={record}\n      {...props}\n      style={{ backgroundColor: record.color, border: 0 }}\n      component=\"span\"\n    />\n  ) : null;\n\nconst useStyles = makeStyles({\n  root: {\n    display: \"inline-block\",\n  },\n});\n\nexport const TagsList = ({ record }) => {\n  const classes = useStyles();\n  if (!record) return null;\n  return (\n    <ReferenceArrayField\n      record={record}\n      basePath=\"/contacts\"\n      resource=\"contacts\"\n      source=\"tags\"\n      reference=\"tags\"\n      className={classes.root}\n    >\n      <SingleFieldList linkType={false} component=\"span\">\n        <ColoredChipField source=\"name\" variant=\"outlined\" size=\"small\" />\n      </SingleFieldList>\n    </ReferenceArrayField>\n  );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport {\n  FilterList,\n  FilterLiveSearch,\n  FilterListItem,\n  useGetIdentity,\n  useGetList,\n} from \"react-admin\";\nimport { Box, Chip } from \"@material-ui/core\";\nimport AccessTimeIcon from \"@material-ui/icons/AccessTime\";\nimport TrendingUpIcon from \"@material-ui/icons/TrendingUp\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\nimport { endOfYesterday, startOfWeek, startOfMonth, subMonths } from \"date-fns\";\n\nimport { Status } from \"../misc/Status\";\n\nexport const ContactListFilter = () => {\n  const { identity } = useGetIdentity();\n  const { data, ids } = useGetList(\n    \"tags\",\n    { page: 1, perPage: 10 },\n    { field: \"name\", order: \"ASC\" }\n  );\n  return (\n    <Box width=\"15em\" order=\"-1\" marginRight=\"1em\">\n      <FilterLiveSearch />\n      <FilterList label=\"Last seen\" icon={<AccessTimeIcon />}>\n        <FilterListItem\n          label=\"Today\"\n          value={{\n            last_seen_gte: endOfYesterday().toISOString(),\n            last_seen_lte: undefined,\n          }}\n        />\n        <FilterListItem\n          label=\"This week\"\n          value={{\n            last_seen_gte: startOfWeek(new Date()).toISOString(),\n            last_seen_lte: undefined,\n          }}\n        />\n        <FilterListItem\n          label=\"Before this week\"\n          value={{\n            last_seen_gte: undefined,\n            last_seen_lte: startOfWeek(new Date()).toISOString(),\n          }}\n        />\n        <FilterListItem\n          label=\"Before this month\"\n          value={{\n            last_seen_gte: undefined,\n            last_seen_lte: startOfMonth(new Date()).toISOString(),\n          }}\n        />\n        <FilterListItem\n          label=\"Before last month\"\n          value={{\n            last_seen_gte: undefined,\n            last_seen_lte: subMonths(startOfMonth(new Date()), 1).toISOString(),\n          }}\n        />\n      </FilterList>\n      <FilterList label=\"Status\" icon={<TrendingUpIcon />}>\n        <FilterListItem\n          label={\n            <>\n              Cold <Status status=\"cold\" />\n            </>\n          }\n          value={{\n            status: \"cold\",\n          }}\n        />\n        <FilterListItem\n          label={\n            <>\n              Warm <Status status=\"warm\" />\n            </>\n          }\n          value={{\n            status: \"warm\",\n          }}\n        />\n        <FilterListItem\n          label={\n            <>\n              Hot <Status status=\"hot\" />\n            </>\n          }\n          value={{\n            status: \"hot\",\n          }}\n        />\n        <FilterListItem\n          label={\n            <>\n              In contract <Status status=\"in-contract\" />\n            </>\n          }\n          value={{\n            status: \"in-contract\",\n          }}\n        />\n      </FilterList>\n      <FilterList label=\"Tags\" icon={<LocalOfferIcon />}>\n        {ids &&\n          data &&\n          ids.map((id) => (\n            <FilterListItem\n              key={id}\n              label={\n                <Chip\n                  label={data[id]?.name}\n                  size=\"small\"\n                  style={{\n                    backgroundColor: data[id]?.color,\n                    border: 0,\n                    cursor: \"pointer\",\n                  }}\n                />\n              }\n              value={{ tags: [id] }}\n            />\n          ))}\n      </FilterList>\n      <FilterList label=\"Account manager\" icon={<SupervisorAccountIcon />}>\n        <FilterListItem\n          label=\"Me\"\n          value={{\n            sales_id: identity && identity.id,\n          }}\n        />\n      </FilterList>\n    </Box>\n  );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport {\n  List as RaList,\n  SimpleListLoading,\n  ReferenceField,\n  TextField,\n  useListContext,\n  ExportButton,\n  SortButton,\n  TopToolbar,\n  CreateButton,\n  Pagination,\n  useGetIdentity,\n} from \"react-admin\";\nimport {\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemIcon,\n  ListItemSecondaryAction,\n  ListItemText,\n  Checkbox,\n  Typography,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport { formatDistance } from \"date-fns\";\n\nimport { Avatar } from \"./Avatar\";\nimport { Status } from \"../misc/Status\";\nimport { TagsList } from \"./TagsList\";\nimport { ContactListFilter } from \"./ContactListFilter\";\n\nconst ContactListContent = (props) => {\n  const { data, ids, loaded, onToggleItem, selectedIds } = useListContext(\n    props\n  );\n  const now = Date.now();\n  if (loaded === false) {\n    return <SimpleListLoading hasLeftAvatarOrIcon hasSecondaryText />;\n  }\n\n  return (\n    <List>\n      {ids.map((id) => {\n        const contact = data[id];\n        return (\n          <ListItem\n            button\n            key={id}\n            component={Link}\n            to={`/contacts/${id}/show`}\n          >\n            <ListItemIcon>\n              <Checkbox\n                edge=\"start\"\n                checked={selectedIds.includes(id)}\n                tabIndex={-1}\n                disableRipple\n                onClick={(e) => {\n                  e.stopPropagation();\n                  onToggleItem(id);\n                }}\n              />\n            </ListItemIcon>\n            <ListItemAvatar>\n              <Avatar record={contact} />\n            </ListItemAvatar>\n            <ListItemText\n              primary={`${contact.first_name} ${contact.last_name}`}\n              secondary={\n                <>\n                  {contact.title} at{\" \"}\n                  <ReferenceField\n                    record={contact}\n                    source=\"company_id\"\n                    reference=\"companies\"\n                    basePath=\"/companies\"\n                    link={false}\n                  >\n                    <TextField source=\"name\" />\n                  </ReferenceField>{\" \"}\n                  {contact.nb_notes && `- ${contact.nb_notes} notes `}\n                  <TagsList record={contact} />\n                </>\n              }\n            />\n            <ListItemSecondaryAction>\n              <Typography variant=\"body2\" color=\"textSecondary\">\n                last activity {formatDistance(new Date(contact.last_seen), now)}{\" \"}\n                ago <Status status={contact.status} />\n              </Typography>\n            </ListItemSecondaryAction>\n          </ListItem>\n        );\n      })}\n    </List>\n  );\n};\n\nconst useActionStyles = makeStyles((theme) => ({\n  createButton: {\n    marginLeft: theme.spacing(2),\n  },\n}));\nconst ContactListActions = (props) => {\n  const classes = useActionStyles();\n  return (\n    <TopToolbar>\n      <SortButton fields={[\"last_name\", \"first_name\", \"last_seen\"]} />\n      <ExportButton />\n      <CreateButton\n        basePath=\"/contacts\"\n        variant=\"contained\"\n        label=\"New Contact\"\n        className={classes.createButton}\n      />\n    </TopToolbar>\n  );\n};\n\nexport const ContactList = (props) => {\n  const { identity } = useGetIdentity();\n  return identity ? (\n    <RaList\n      {...props}\n      actions={<ContactListActions />}\n      aside={<ContactListFilter />}\n      perPage={25}\n      pagination={<Pagination rowsPerPageOptions={[10, 25, 50, 100]} />}\n      filterDefaultValues={{ sales_id: identity?.id }}\n      sort={{ field: \"last_seen\", order: \"DESC\" }}\n    >\n      <ContactListContent />\n    </RaList>\n  ) : null;\n};\n","import React from \"react\";\nimport {\n  EditBase,\n  TextInput,\n  ReferenceInput,\n  AutocompleteInput,\n  BooleanInput,\n  FormWithRedirect,\n  Toolbar,\n  useEditContext,\n} from \"react-admin\";\nimport { Card, CardContent, Divider, Box } from \"@material-ui/core\";\n\nimport { Avatar } from \"./Avatar\";\nimport { ContactAside } from \"./ContactAside\";\n\nconst Spacer = () => <Box width={20} component=\"span\" />;\n\nconst ContactEditContent = () => {\n  const { record, loaded } = useEditContext();\n  if (!loaded || !record) return null;\n  return (\n    <Box mt={2} display=\"flex\">\n      <Box flex=\"1\">\n        <FormWithRedirect\n          record={record}\n          redirect=\"show\"\n          render={(formProps) => (\n            <Card>\n              <CardContent>\n                <Box>\n                  <Box display=\"flex\">\n                    <Box mr={2}>\n                      <Avatar record={record} />\n                    </Box>\n                    <Box flex=\"1\" mt={-1}>\n                      <Box display=\"flex\">\n                        <TextInput source=\"first_name\" />\n                        <Spacer />\n                        <TextInput source=\"last_name\" />\n                      </Box>\n                      <Box display=\"flex\">\n                        <TextInput source=\"title\" />\n                        <Spacer />\n                        <ReferenceInput\n                          source=\"company_id\"\n                          reference=\"companies\"\n                        >\n                          <AutocompleteInput optionText=\"name\" />\n                        </ReferenceInput>\n                      </Box>\n                      <Divider />\n                      <Box mt={2} width={430}>\n                        <TextInput source=\"email\" fullWidth />\n                      </Box>\n                      <Box display=\"flex\">\n                        <TextInput source=\"phone_number1\" />\n                        <Spacer />\n                        <TextInput source=\"phone_number2\" />\n                      </Box>\n                      <Divider />\n                      <Box mt={2} width={430}>\n                        <TextInput source=\"background\" multiline fullWidth />\n                        <TextInput source=\"avatar\" fullWidth />\n                        <BooleanInput source=\"has_newsletter\" />\n                      </Box>\n                    </Box>\n                  </Box>\n                </Box>\n              </CardContent>\n              <Toolbar {...formProps} />\n            </Card>\n          )}\n        />\n      </Box>\n      <ContactAside record={record} link=\"show\" />\n    </Box>\n  );\n};\n\nexport const ContactEdit = (props) => (\n  <EditBase {...props}>\n    <ContactEditContent />\n  </EditBase>\n);\n","import {\n  CreateBase,\n  TextInput,\n  ReferenceInput,\n  AutocompleteInput,\n  BooleanInput,\n  FormWithRedirect,\n  Toolbar,\n  required,\n  useCreateContext,\n} from \"react-admin\";\nimport { Card, CardContent, Divider, Box, Avatar } from \"@material-ui/core\";\n\nconst Spacer = () => <Box width={20} component=\"span\" />;\n\nexport const ContactCreate = (props) => (\n  <CreateBase\n    {...props}\n    transform={(data) => ({ ...data, last_seen: new Date(), tags: [] })}\n  >\n    <ContactCreateContent />\n  </CreateBase>\n);\n\nconst ContactCreateContent = () => {\n  const { save, record } = useCreateContext();\n  return (\n    <Box mt={2} display=\"flex\">\n      <Box flex=\"1\">\n        <FormWithRedirect\n          redirect=\"show\"\n          record={record as any}\n          save={save}\n          render={(formProps) => (\n            <Card>\n              <CardContent>\n                <Box>\n                  <Box display=\"flex\">\n                    <Box mr={2}>\n                      <Avatar />\n                    </Box>\n                    <Box flex=\"1\" mt={-1}>\n                      <Box display=\"flex\">\n                        <TextInput\n                          source=\"first_name\"\n                          validate={[required()]}\n                        />\n                        <Spacer />\n                        <TextInput source=\"last_name\" validate={[required()]} />\n                      </Box>\n                      <Box display=\"flex\">\n                        <TextInput source=\"title\" />\n                        <Spacer />\n                        <ReferenceInput\n                          source=\"company_id\"\n                          reference=\"companies\"\n                        >\n                          <AutocompleteInput optionText=\"name\" />\n                        </ReferenceInput>\n                      </Box>\n                      <Divider />\n                      <Box mt={2} width={430}>\n                        <TextInput source=\"email\" fullWidth />\n                      </Box>\n                      <Box display=\"flex\">\n                        <TextInput source=\"phone_number1\" />\n                        <Spacer />\n                        <TextInput source=\"phone_number2\" />\n                      </Box>\n                      <Divider />\n                      <Box mt={2} width={430}>\n                        <TextInput source=\"background\" multiline fullWidth />\n                        <TextInput source=\"avatar\" fullWidth />\n                        <BooleanInput source=\"has_newsletter\" />\n                      </Box>\n                    </Box>\n                  </Box>\n                </Box>\n              </CardContent>\n              <Toolbar {...formProps} />\n            </Card>\n          )}\n        />\n      </Box>\n    </Box>\n  );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport { ContactShow } from \"./ContactShow\";\nimport { ContactList } from \"./ContactList\";\nimport { ContactEdit } from \"./ContactEdit\";\nimport { ContactCreate } from \"./ContactCreate\";\n\nexport default {\n  list: ContactList,\n  show: ContactShow,\n  edit: ContactEdit,\n  create: ContactCreate,\n};\n","export const sectors = [\n  \"Communication Services\",\n  \"Consumer Discretionary\",\n  \"Consumer Staples\",\n  \"Energy\",\n  \"Financials\",\n  \"Health Care\",\n  \"Industrials\",\n  \"Information Technology\",\n  \"Materials\",\n  \"Real Estate\",\n  \"Utilities\",\n].map((sector) => ({ id: sector, name: sector }));\n","import { Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport { Company } from \"../types\";\n\nconst useStyles = makeStyles({\n  avatar: {\n    width: 60,\n    height: 60,\n    backgroundColor: \"aliceblue\",\n  },\n  img: {\n    objectFit: \"contain\",\n  },\n  small: {\n    width: 20,\n    height: 20,\n  },\n  large: {\n    width: 40,\n    height: 40,\n  },\n});\n\nexport const CompanyAvatar = ({\n  record,\n  size = \"large\",\n}: {\n  record?: Company;\n  size?: \"small\" | \"large\";\n}) => {\n  const classes = useStyles();\n  if (!record) return null;\n  return (\n    <Avatar\n      src={process.env.PUBLIC_URL + record.logo}\n      alt={record.name}\n      className={classes.avatar}\n      imgProps={{ className: clsx(classes.img, classes[size]) }}\n    />\n  );\n};\n","import { useState } from \"react\";\nimport { Paper, Typography, Link as MuiLink } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ContactsIcon from \"@material-ui/icons/AccountCircle\";\nimport DealIcon from \"@material-ui/icons/MonetizationOn\";\nimport { linkToRecord, SelectField } from \"react-admin\";\nimport { Link } from \"react-router-dom\";\n\nimport { sectors } from \"./sectors\";\nimport { CompanyAvatar } from \"./CompanyAvatar\";\nimport { Company } from \"../types\";\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    height: 200,\n    width: 193.5,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    padding: \"1em\",\n  },\n  identity: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  name: {\n    textAlign: \"center\",\n    marginTop: theme.spacing(1),\n  },\n  stats: {\n    display: \"flex\",\n    justifyContent: \"space-around\",\n    width: \"100%\",\n  },\n  singleStat: {\n    display: \"flex\",\n    alignItems: \"center\",\n  },\n  statIcon: {\n    marginRight: theme.spacing(1),\n  },\n}));\n\nexport const CompanyCard = ({ record }: { record: Company }) => {\n  const classes = useStyles();\n  const [elevation, setElevation] = useState(1);\n  return (\n    <MuiLink\n      component={Link}\n      to={linkToRecord(\"/companies\", record.id, \"show\")}\n      underline=\"none\"\n      onMouseEnter={() => setElevation(3)}\n      onMouseLeave={() => setElevation(1)}\n    >\n      <Paper className={classes.paper} elevation={elevation}>\n        <div className={classes.identity}>\n          <CompanyAvatar record={record} />\n          <div className={classes.name}>\n            <Typography variant=\"subtitle2\">{record.name}</Typography>\n            <SelectField\n              // @ts-ignore\n              color=\"textSecondary\"\n              source=\"sector\"\n              choices={sectors}\n              record={record}\n            />\n          </div>\n        </div>\n        <div className={classes.stats}>\n          <div className={classes.singleStat}>\n            <ContactsIcon color=\"disabled\" className={classes.statIcon} />\n            <div>\n              <Typography variant=\"subtitle2\" style={{ marginBottom: -8 }}>\n                {record.nb_contacts}\n              </Typography>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                {record.nb_contacts > 1 ? \"contacts\" : \"contact\"}\n              </Typography>\n            </div>\n          </div>\n          <div className={classes.singleStat}>\n            <DealIcon color=\"disabled\" className={classes.statIcon} />\n            <div>\n              <Typography variant=\"subtitle2\" style={{ marginBottom: -8 }}>\n                {record.nb_deals}\n              </Typography>\n              <Typography variant=\"caption\" color=\"textSecondary\">\n                {record.nb_deals > 1 ? \"deals\" : \"deal\"}\n              </Typography>\n            </div>\n          </div>\n        </div>\n      </Paper>\n    </MuiLink>\n  );\n};\n","import { Box, Paper } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useListContext, Identifier } from \"react-admin\";\n\nimport { CompanyCard } from \"./CompanyCard\";\nimport { Company } from \"../types\";\n\nconst useStyles = makeStyles((theme) => ({\n  gridList: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    width: 1008,\n    gap: 10,\n  },\n  paper: {\n    height: 200,\n    width: 194,\n    display: \"flex\",\n    flexDirection: \"column\",\n    backgroundColor: theme.palette.grey[200],\n  },\n}));\n\nconst times = (nbChildren: number, fn: (key: number) => any) =>\n  Array.from({ length: nbChildren }, (_, key) => fn(key));\n\nconst LoadingGridList = () => {\n  const classes = useStyles();\n  return (\n    <Box className={classes.gridList}>\n      {times(15, (key) => (\n        <Paper className={classes.paper} key={key} />\n      ))}\n    </Box>\n  );\n};\n\nconst LoadedGridList = () => {\n  const { ids, data } = useListContext<Company>();\n  const classes = useStyles();\n\n  if (!ids || !data) return null;\n\n  return (\n    <Box className={classes.gridList}>\n      {ids.map((id: Identifier) => (\n        <CompanyCard key={id} record={data[id]} />\n      ))}\n    </Box>\n  );\n};\n\nexport const GridList = () => {\n  const { loaded } = useListContext();\n  return loaded ? <LoadedGridList /> : <LoadingGridList />;\n};\n","export const sizes = [\n  { id: 1, name: \"1 employee\" },\n  { id: 10, name: \"2-9 employees\" },\n  { id: 50, name: \"10-49 employees\" },\n  { id: 250, name: \"50-249 employees\" },\n  { id: 500, name: \"250 or more employees\" },\n];\n","/* eslint-disable import/no-anonymous-default-export */\nimport {\n  FilterList,\n  FilterLiveSearch,\n  FilterListItem,\n  useGetIdentity,\n} from \"react-admin\";\nimport { Box } from \"@material-ui/core\";\nimport BusinessIcon from \"@material-ui/icons/Business\";\nimport LocalShippingIcon from \"@material-ui/icons/LocalShipping\";\nimport SupervisorAccountIcon from \"@material-ui/icons/SupervisorAccount\";\n\nimport { sizes } from \"./sizes\";\nimport { sectors } from \"./sectors\";\n\nexport const CompanyListFilter = () => {\n  const { identity } = useGetIdentity();\n  return (\n    <Box width=\"15em\" order=\"-1\" marginRight=\"1em\">\n      <FilterLiveSearch />\n\n      <FilterList label=\"Size\" icon={<BusinessIcon />}>\n        {sizes.map((size) => (\n          <FilterListItem\n            key={size.id}\n            label={size.name}\n            value={{ size: size.id }}\n          />\n        ))}\n      </FilterList>\n\n      <FilterList label=\"Sector\" icon={<LocalShippingIcon />}>\n        {sectors.map((sector) => (\n          <FilterListItem\n            key={sector.id}\n            label={sector.name}\n            value={{ sector: sector.id }}\n          />\n        ))}\n      </FilterList>\n\n      <FilterList label=\"Account manager\" icon={<SupervisorAccountIcon />}>\n        <FilterListItem\n          label=\"Me\"\n          value={{\n            sales_id: identity && identity.id,\n          }}\n        />\n      </FilterList>\n    </Box>\n  );\n};\n","import {\n  List,\n  TopToolbar,\n  ExportButton,\n  CreateButton,\n  Pagination,\n  useGetIdentity,\n} from \"react-admin\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { GridList } from \"./GridList\";\nimport { CompanyListFilter } from \"./CompanyListFilter\";\n\nexport const CompanyList = (props) => {\n  const { identity } = useGetIdentity();\n  return identity ? (\n    <List\n      {...props}\n      actions={<CompanyListActions />}\n      aside={<CompanyListFilter />}\n      filterDefaultValues={{ sales_id: identity?.id }}\n      pagination={<Pagination rowsPerPageOptions={[15, 25, 50, 100]} />}\n      perPage={25}\n      sort={{ field: \"name\", order: \"ASC\" }}\n      component=\"div\"\n    >\n      <GridList />\n    </List>\n  ) : null;\n};\n\nconst useActionStyles = makeStyles((theme) => ({\n  createButton: {\n    marginLeft: theme.spacing(2),\n  },\n}));\nconst CompanyListActions = (props) => {\n  const classes = useActionStyles();\n  return (\n    <TopToolbar>\n      <ExportButton />\n      <CreateButton\n        basePath=\"/companies\"\n        variant=\"contained\"\n        label=\"New Company\"\n        className={classes.createButton}\n      />\n    </TopToolbar>\n  );\n};\n","import {\n  Create,\n  ReferenceInput,\n  SimpleForm,\n  TextInput,\n  SelectInput,\n  required,\n} from \"react-admin\";\nimport { Box, CardContent, Divider, Avatar } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport BusinessIcon from \"@material-ui/icons/Business\";\nimport clsx from \"clsx\";\n\nimport { sectors } from \"./sectors\";\nimport { sizes } from \"./sizes\";\n\nconst useStyles = makeStyles({\n  inline: {\n    display: \"inline-block\",\n    marginLeft: \"1em\",\n    \"&.first-child\": {\n      marginLeft: 0,\n    },\n  },\n});\n\nexport const CompanyCreate = (props) => {\n  const classes = useStyles();\n  return (\n    <Create {...props} actions={false}>\n      <SimpleForm component={CustomLayout} redirect=\"show\">\n        <TextInput source=\"name\" validate={required()} fullWidth />\n        <SelectInput\n          source=\"sector\"\n          choices={sectors}\n          formClassName={clsx(classes.inline, \"first-child\")}\n        />\n        <SelectInput\n          source=\"size\"\n          choices={sizes}\n          formClassName={classes.inline}\n        />\n        <CustomDivider />\n        <TextInput source=\"address\" fullWidth helperText={false} />\n        <TextInput\n          source=\"city\"\n          formClassName={clsx(classes.inline, \"first-child\")}\n        />\n        <TextInput source=\"zipcode\" formClassName={classes.inline} />\n        <TextInput source=\"stateAbbr\" formClassName={classes.inline} />\n        <CustomDivider />\n        <TextInput source=\"website\" fullWidth helperText={false} />\n        <TextInput source=\"linkedIn\" fullWidth helperText={false} />\n        <TextInput source=\"logo\" fullWidth />\n        <CustomDivider />\n        <TextInput\n          source=\"phone_number\"\n          formClassName={clsx(classes.inline, \"first-child\")}\n          helperText={false}\n        />\n        <ReferenceInput\n          source=\"sales_id\"\n          reference=\"sales\"\n          label=\"Account manager\"\n          formClassName={classes.inline}\n          helperText={false}\n        >\n          <SelectInput\n            optionText={(sales) => `${sales.first_name} ${sales.last_name}`}\n          />\n        </ReferenceInput>\n      </SimpleForm>\n    </Create>\n  );\n};\n\nconst CustomLayout = (props) => (\n  <CardContent>\n    <Box display=\"flex\">\n      <Box paddingTop={1}>\n        <Avatar>\n          <BusinessIcon />\n        </Avatar>\n      </Box>\n      <Box ml={2} flex=\"1\" maxWidth={796}>\n        {props.children}\n      </Box>\n    </Box>\n  </CardContent>\n);\n\nconst CustomDivider = () => (\n  <Box mb={2}>\n    <Divider />\n  </Box>\n);\n","import {\n  TextField,\n  DateField,\n  FunctionField,\n  ReferenceField,\n  EditButton,\n  ShowButton,\n} from \"react-admin\";\nimport { Box, Typography, Divider, Link } from \"@material-ui/core\";\n\nimport { Company } from \"../types\";\n\nexport const CompanyAside = ({\n  record,\n  link = \"edit\",\n}: {\n  record?: Company;\n  link?: string;\n}) =>\n  record ? (\n    <Box ml={4} width={250} minWidth={250}>\n      <Box textAlign=\"center\" mb={2}>\n        {link === \"edit\" ? (\n          <EditButton\n            basePath=\"/companies\"\n            record={record}\n            label=\"Edit Company\"\n          />\n        ) : (\n          <ShowButton\n            basePath=\"/companies\"\n            record={record}\n            label=\"Show Company\"\n          />\n        )}\n      </Box>\n\n      <Typography variant=\"subtitle2\">Company info</Typography>\n      <Divider />\n\n      <Box mt={2}>\n        Website: <Link href={record.website}>{record.website}</Link>\n        <br />\n        LinkedIn: <Link href={record.linkedIn}>LinkedIn</Link>\n      </Box>\n\n      <Box mt={1}>\n        <TextField source=\"phone_number\" record={record} />{\" \"}\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n          Main\n        </Typography>\n      </Box>\n\n      <Box mt={1} mb={3}>\n        <TextField source=\"address\" />\n        <br />\n        <TextField source=\"city\" /> <TextField source=\"zipcode\" />{\" \"}\n        <TextField source=\"stateAbbr\" />\n      </Box>\n\n      <Typography variant=\"subtitle2\">Background</Typography>\n      <Divider />\n\n      <Box mt={1}>\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n          Added on\n        </Typography>{\" \"}\n        <DateField\n          source=\"created_at\"\n          options={{ year: \"numeric\", month: \"long\", day: \"numeric\" }}\n          color=\"textSecondary\"\n        />\n        <br />\n        <Typography component=\"span\" variant=\"body2\" color=\"textSecondary\">\n          Followed by\n        </Typography>{\" \"}\n        <ReferenceField\n          resource=\"companies\"\n          source=\"sales_id\"\n          reference=\"sales\"\n        >\n          <FunctionField\n            source=\"last_name\"\n            render={(record) => `${record.first_name} ${record.last_name}`}\n          />\n        </ReferenceField>\n      </Box>\n    </Box>\n  ) : null;\n","export const stages = [\n  \"opportunity\",\n  \"proposal-sent\",\n  \"in-negociation\",\n  \"won\",\n  \"lost\",\n  \"delayed\",\n];\n\nexport const stageNames = {\n  opportunity: \"Opportunity\",\n  \"proposal-sent\": \"Proposal Sent\",\n  \"in-negociation\": \"In Negociation\",\n  won: \"Won\",\n  lost: \"Lost\",\n  delayed: \"Delayed\",\n};\n\nexport const stageChoices = stages.map((type) => ({\n  id: type,\n  name: stageNames[type],\n}));\n","import { useState, ChangeEvent } from \"react\";\nimport {\n  ShowBase,\n  TextField,\n  ReferenceManyField,\n  SelectField,\n  useShowContext,\n  useRecordContext,\n  useListContext,\n} from \"react-admin\";\nimport {\n  Box,\n  Button,\n  Card,\n  CardContent,\n  Typography,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  ListItemSecondaryAction,\n  Tabs,\n  Tab,\n  Divider,\n} from \"@material-ui/core\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { formatDistance } from \"date-fns\";\n\nimport { Avatar } from \"../contacts/Avatar\";\nimport { Status } from \"../misc/Status\";\nimport { TagsList } from \"../contacts/TagsList\";\nimport { sizes } from \"./sizes\";\nimport { LogoField } from \"./LogoField\";\nimport { CompanyAside } from \"./CompanyAside\";\nimport { Company } from \"../types\";\nimport { stageNames } from \"../deals/stages\";\n\nexport const CompanyShow = (props) => (\n  <ShowBase {...props}>\n    <CompanyShowContent />\n  </ShowBase>\n);\n\nconst CompanyShowContent = (props) => {\n  const { record, loaded } = useShowContext<Company>();\n  const [value, setValue] = useState(0);\n  const handleChange = (event: ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n  };\n  if (!loaded || !record) return null;\n  return (\n    <Box mt={2} display=\"flex\">\n      <Box flex=\"1\">\n        <Card>\n          <CardContent>\n            <Box display=\"flex\" mb={1}>\n              <LogoField record={record as any} />\n              <Box ml={2} flex=\"1\">\n                <Typography variant=\"h5\">{record.name}</Typography>\n                <Typography variant=\"body2\">\n                  <TextField source=\"sector\" />,{\" \"}\n                  <SelectField source=\"size\" choices={sizes} />\n                </Typography>\n              </Box>\n            </Box>\n            <Tabs\n              value={value}\n              indicatorColor=\"primary\"\n              textColor=\"primary\"\n              onChange={handleChange}\n            >\n              {record.nb_contacts && (\n                <Tab\n                  label={\n                    record.nb_contacts === 1\n                      ? \"1 Contact\"\n                      : `${record.nb_contacts} Contacts`\n                  }\n                />\n              )}\n              {record.nb_deals && (\n                <Tab\n                  label={\n                    record.nb_deals === 1\n                      ? \"1 deal\"\n                      : `${record.nb_deals} Deals`\n                  }\n                />\n              )}\n            </Tabs>\n            <Divider />\n            <TabPanel value={value} index={0}>\n              <ReferenceManyField\n                reference=\"contacts\"\n                target=\"company_id\"\n                sort={{ field: \"last_name\", order: \"ASC\" }}\n              >\n                <ContactsIterator />\n              </ReferenceManyField>\n            </TabPanel>\n            <TabPanel value={value} index={1}>\n              <ReferenceManyField\n                reference=\"deals\"\n                target=\"company_id\"\n                sort={{ field: \"name\", order: \"ASC\" }}\n              >\n                <DealsIterator />\n              </ReferenceManyField>\n            </TabPanel>\n          </CardContent>\n        </Card>\n      </Box>\n      <CompanyAside record={record} />\n    </Box>\n  );\n};\n\ninterface TabPanelProps {\n  children?: React.ReactNode;\n  index: any;\n  value: any;\n}\n\nconst TabPanel = (props: TabPanelProps) => {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`wrapped-tabpanel-${index}`}\n      aria-labelledby={`wrapped-tab-${index}`}\n      {...other}\n    >\n      {children}\n    </div>\n  );\n};\n\nconst ContactsIterator = () => {\n  const { data, ids, loaded } = useListContext();\n  const record = useRecordContext();\n\n  const now = Date.now();\n  if (!loaded) return null;\n  return (\n    <Box>\n      <List>\n        {ids.map((id) => {\n          const contact = data[id];\n          return (\n            <ListItem\n              button\n              key={id}\n              component={RouterLink}\n              to={`/contacts/${id}/show`}\n            >\n              <ListItemAvatar>\n                <Avatar record={contact} />\n              </ListItemAvatar>\n              <ListItemText\n                primary={`${contact.first_name} ${contact.last_name}`}\n                secondary={\n                  <>\n                    {contact.title} <TagsList record={contact} />\n                  </>\n                }\n              />\n              <ListItemSecondaryAction>\n                <Typography\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                  component=\"span\"\n                >\n                  last activity{\" \"}\n                  {formatDistance(new Date(contact.last_seen), now)} ago{\" \"}\n                  <Status status={contact.status} />\n                </Typography>\n              </ListItemSecondaryAction>\n            </ListItem>\n          );\n        })}\n      </List>\n      <Box textAlign=\"center\" mt={1}>\n        <CreateRelatedContactButton record={record} />\n      </Box>\n    </Box>\n  );\n};\n\nconst CreateRelatedContactButton = ({ record }) => (\n  <Button\n    component={RouterLink}\n    to={{\n      pathname: \"/contacts/create\",\n      state: { record: { company_id: record.id } },\n    }}\n    color=\"primary\"\n    variant=\"contained\"\n    size=\"small\"\n    startIcon={<PersonAddIcon />}\n  >\n    Add contact\n  </Button>\n);\n\nconst DealsIterator = () => {\n  const { data, ids, loaded } = useListContext();\n\n  const now = Date.now();\n  if (!loaded) return null;\n  return (\n    <Box>\n      <List>\n        {ids.map((id) => {\n          const deal = data[id];\n          return (\n            <ListItem\n              button\n              key={id}\n              component={RouterLink}\n              to={`/deals/${id}/show`}\n            >\n              <ListItemText\n                primary={deal.name}\n                secondary={\n                  <>\n                    {stageNames[deal.stage]},{\" \"}\n                    {deal.amount.toLocaleString(\"en-US\", {\n                      notation: \"compact\",\n                      style: \"currency\",\n                      currency: \"USD\",\n                      currencyDisplay: \"narrowSymbol\",\n                      minimumSignificantDigits: 3,\n                    })}\n                    , {deal.type}\n                  </>\n                }\n              />\n              <ListItemSecondaryAction>\n                <Typography\n                  variant=\"body2\"\n                  color=\"textSecondary\"\n                  component=\"span\"\n                >\n                  last activity {formatDistance(new Date(deal.updated_at), now)}{\" \"}\n                  ago{\" \"}\n                </Typography>\n              </ListItemSecondaryAction>\n            </ListItem>\n          );\n        })}\n      </List>\n    </Box>\n  );\n};\n","import {\n  Edit,\n  ReferenceInput,\n  SimpleForm,\n  TextInput,\n  SelectInput,\n  useRecordContext,\n  required,\n} from \"react-admin\";\nimport { Box, CardContent, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport clsx from \"clsx\";\n\nimport { CompanyAside } from \"./CompanyAside\";\nimport { LogoField } from \"./LogoField\";\nimport { sectors } from \"./sectors\";\nimport { sizes } from \"./sizes\";\n\nconst useStyles = makeStyles({\n  inline: {\n    display: \"inline-block\",\n    marginLeft: \"1em\",\n    \"&.first-child\": {\n      marginLeft: 0,\n    },\n  },\n});\n\nexport const CompanyEdit = (props) => {\n  const classes = useStyles();\n  return (\n    <Edit {...props} aside={<CompanyAside link=\"show\" />} actions={false}>\n      <SimpleForm component={CustomLayout} redirect=\"show\">\n        <TextInput source=\"name\" validate={required()} fullWidth />\n        <SelectInput\n          source=\"sector\"\n          choices={sectors}\n          formClassName={clsx(classes.inline, \"first-child\")}\n        />\n        <SelectInput\n          source=\"size\"\n          choices={sizes}\n          formClassName={classes.inline}\n        />\n        <CustomDivider />\n        <TextInput source=\"address\" fullWidth helperText={false} />\n        <TextInput\n          source=\"city\"\n          formClassName={clsx(classes.inline, \"first-child\")}\n        />\n        <TextInput source=\"zipcode\" formClassName={classes.inline} />\n        <TextInput source=\"stateAbbr\" formClassName={classes.inline} />\n        <CustomDivider />\n        <TextInput source=\"website\" fullWidth helperText={false} />\n        <TextInput source=\"linkedIn\" fullWidth helperText={false} />\n        <TextInput source=\"logo\" fullWidth />\n        <CustomDivider />\n        <TextInput\n          source=\"phone_number\"\n          formClassName={clsx(classes.inline, \"first-child\")}\n          helperText={false}\n        />\n        <ReferenceInput\n          source=\"sales_id\"\n          reference=\"sales\"\n          label=\"Account manager\"\n          formClassName={classes.inline}\n          helperText={false}\n        >\n          <SelectInput\n            optionText={(sales) => `${sales.first_name} ${sales.last_name}`}\n          />\n        </ReferenceInput>\n      </SimpleForm>\n    </Edit>\n  );\n};\n\nconst CustomLayout = (props) => {\n  const record = useRecordContext(props);\n  return (\n    <CardContent>\n      <Box display=\"flex\">\n        <LogoField record={record as any} />\n        <Box ml={2} flex=\"1\" maxWidth={796}>\n          {props.children}\n        </Box>\n      </Box>\n    </CardContent>\n  );\n};\n\nconst CustomDivider = () => (\n  <Box mb={2}>\n    <Divider />\n  </Box>\n);\n","/* eslint-disable import/no-anonymous-default-export */\nimport { CompanyList } from \"./CompanyList\";\nimport { CompanyCreate } from \"./CompanyCreate\";\nimport { CompanyShow } from \"./CompanyShow\";\nimport { CompanyEdit } from \"./CompanyEdit\";\n\nexport default {\n  list: CompanyList,\n  create: CompanyCreate,\n  edit: CompanyEdit,\n  show: CompanyShow,\n};\n","import { ReferenceField, useRedirect } from \"react-admin\";\nimport { Card, Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Draggable } from \"react-beautiful-dnd\";\n\nimport { LogoField } from \"../companies/LogoField\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n  },\n  cardContent: {\n    padding: theme.spacing(1),\n    display: \"flex\",\n  },\n  cardText: {\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nexport const DealCard = ({ deal, index }) => {\n  const classes = useStyles();\n  const redirect = useRedirect();\n  if (!deal) return null;\n\n  const handleClick = () => {\n    redirect(`/deals/${deal.id}/show`);\n  };\n  return (\n    <Draggable draggableId={String(deal.id)} index={index}>\n      {(provided, snapshot) => (\n        <div\n          className={classes.root}\n          {...provided.draggableProps}\n          {...provided.dragHandleProps}\n          ref={provided.innerRef}\n          onClick={handleClick}\n        >\n          <Card\n            style={{\n              opacity: snapshot.isDragging ? 0.9 : 1,\n              transform: snapshot.isDragging ? \"rotate(-2deg)\" : \"\",\n            }}\n            elevation={snapshot.isDragging ? 3 : 1}\n          >\n            <div className={classes.cardContent}>\n              <ReferenceField\n                source=\"company_id\"\n                record={deal}\n                reference=\"companies\"\n                resource=\"deals\"\n                basePath=\"/deals\"\n              >\n                <LogoField size=\"small\" />\n              </ReferenceField>\n              <div className={classes.cardText}>\n                <Typography variant=\"body2\" gutterBottom>\n                  {deal.name}\n                </Typography>\n                <Typography variant=\"caption\" color=\"textSecondary\">\n                  {deal.amount.toLocaleString(\"en-US\", {\n                    notation: \"compact\",\n                    style: \"currency\",\n                    currency: \"USD\",\n                    currencyDisplay: \"narrowSymbol\",\n                    minimumSignificantDigits: 3,\n                  })}\n                  , {deal.type}\n                </Typography>\n              </div>\n            </div>\n          </Card>\n        </div>\n      )}\n    </Draggable>\n  );\n};\n","import { Typography } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { Droppable } from \"react-beautiful-dnd\";\n\nimport { DealCard } from \"./DealCard\";\nimport { stageNames } from \"./stages\";\n\nconst useStyles = makeStyles({\n  root: {\n    flex: 1,\n    paddingTop: 8,\n    paddingBottom: 16,\n    backgroundColor: \"#eaeaee\",\n    \"&:first-child\": {\n      paddingLeft: 5,\n      borderTopLeftRadius: 5,\n    },\n    \"&:last-child\": {\n      paddingRight: 5,\n      borderTopRightRadius: 5,\n    },\n  },\n  droppable: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    borderRadius: 5,\n    padding: 5,\n    \"&.isDraggingOver\": {\n      backgroundColor: \"#dadadf\",\n    },\n  },\n});\n\nexport const DealColumn = ({ stage, dealIds, data }) => {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Typography align=\"center\" variant=\"subtitle1\">\n        {stageNames[stage]}\n      </Typography>\n      <Droppable droppableId={stage}>\n        {(droppableProvided, snapshot) => (\n          <div\n            ref={droppableProvided.innerRef}\n            {...droppableProvided.droppableProps}\n            className={\n              classes.droppable +\n              (snapshot.isDraggingOver ? \" isDraggingOver\" : \"\")\n            }\n          >\n            {dealIds.map((id, index) => (\n              <DealCard key={id} index={index} deal={data[id]} />\n            ))}\n            {droppableProvided.placeholder}\n          </div>\n        )}\n      </Droppable>\n    </div>\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport {\n  useMutation,\n  Identifier,\n  useListContext,\n  RecordMap,\n  DataProviderContext,\n} from \"react-admin\";\nimport { Box } from \"@material-ui/core\";\nimport { DragDropContext, DragEnd } from \"react-beautiful-dnd\";\nimport isEqual from \"lodash/isEqual\";\n\nimport { DealColumn } from \"./DealColumn\";\nimport { stages } from \"./stages\";\n\ninterface DealsByColumn {\n  [stage: string]: Identifier[];\n}\n\nconst initialDeals: DealsByColumn = stages.reduce(\n  (obj, stage) => ({ ...obj, [stage]: [] }),\n  {}\n);\n\nconst getDealsByColumn = (\n  ids: Identifier[],\n  data: RecordMap\n): DealsByColumn => {\n  // group deals by column\n  const columns = ids.reduce(\n    (acc, id) => {\n      acc[data[id].stage].push(id);\n      return acc;\n    },\n    stages.reduce((obj, stage) => ({ ...obj, [stage]: [] }), {})\n  );\n  // order each column by index\n  stages.forEach((stage) => {\n    columns[stage] = columns[stage].sort(\n      (a, b) => data[a].index - data[b].index\n    );\n  });\n  return columns;\n};\n\nexport const DealListContent = () => {\n  const {\n    data,\n    ids,\n    loaded,\n    page,\n    perPage,\n    currentSort,\n    filterValues,\n  } = useListContext();\n\n  const [deals, setDeals] = useState<DealsByColumn>(\n    loaded ? getDealsByColumn(ids, data) : initialDeals\n  );\n  // we use the raw dataProvider to avoid too many updates to the Redux store after updates (which would create jank)\n  const dataProvider = useContext(DataProviderContext);\n\n  // FIXME: use refetch when available\n  const [refresh] = useMutation({\n    resource: \"deals\",\n    type: \"getList\",\n    payload: {\n      pagination: { page, perPage },\n      sort: currentSort,\n      filter: filterValues,\n    },\n  });\n\n  // update deals by columns when the dataProvider response updates\n  useEffect(() => {\n    if (!loaded) return;\n    const newDeals = getDealsByColumn(ids, data);\n    if (isEqual(deals, newDeals)) {\n      return;\n    }\n    setDeals(newDeals);\n  }, [data, ids, loaded]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  if (!loaded) return null;\n\n  const onDragEnd = async (result: DragEnd) => {\n    const { destination, source, draggableId } = result;\n\n    if (!destination) {\n      return;\n    }\n\n    if (\n      destination.droppableId === source.droppableId &&\n      destination.index === source.index\n    ) {\n      return;\n    }\n\n    if (source.droppableId === destination.droppableId) {\n      // moving deal inside the same column\n\n      const column = Array.from(deals[source.droppableId]); // [4, 7, 23, 5] array of ids\n      const sourceDeal = data[column[source.index]];\n      const destinationDeal = data[column[destination.index]];\n\n      // update local state\n      // remove source deal from column\n      column.splice(source.index, 1);\n      // readd source deal at destination\n      column.splice(destination.index, 0, Number(draggableId));\n      setDeals({\n        ...deals,\n        [source.droppableId]: column,\n      });\n\n      // update backend\n      // Fetch all the deals in this stage (because the list may be filtered, but we need to update even non-filtered deals)\n      const { data: columnDeals } = await dataProvider.getList(\"deals\", {\n        sort: { field: \"index\", order: \"ASC\" },\n        pagination: { page: 1, perPage: 100 },\n        filter: { stage: source.droppableId },\n      });\n\n      if (source.index > destination.index) {\n        // deal moved up, eg\n        // dest   src\n        //  <------\n        // [4, 7, 23, 5]\n\n        await Promise.all([\n          // for all deals between destination.index and source.index, increase the index\n          ...columnDeals\n            .filter(\n              (deal) =>\n                deal.index >= destinationDeal.index &&\n                deal.index < sourceDeal.index\n            )\n            .map((deal) =>\n              dataProvider.update(\"deals\", {\n                id: deal.id,\n                data: { index: deal.index + 1 },\n                previousData: deal,\n              })\n            ),\n          // for the deal that was moved, update its index\n          dataProvider.update(\"deals\", {\n            id: sourceDeal.id,\n            data: { index: destinationDeal.index },\n            previousData: sourceDeal,\n          }),\n        ]);\n\n        refresh();\n      } else {\n        // deal moved down, e.g\n        // src   dest\n        //  ------>\n        // [4, 7, 23, 5]\n\n        await Promise.all([\n          // for all deals between source.index and destination.index, decrease the index\n          ...columnDeals\n            .filter(\n              (deal) =>\n                deal.index <= destinationDeal.index &&\n                deal.index > sourceDeal.index\n            )\n            .map((deal) =>\n              dataProvider.update(\"deals\", {\n                id: deal.id,\n                data: { index: deal.index - 1 },\n                previousData: deal,\n              })\n            ),\n          // for the deal that was moved, update its index\n          dataProvider.update(\"deals\", {\n            id: sourceDeal.id,\n            data: { index: destinationDeal.index },\n            previousData: sourceDeal,\n          }),\n        ]);\n\n        refresh();\n      }\n    } else {\n      // moving deal across columns\n\n      const sourceColumn = Array.from(deals[source.droppableId]); // [4, 7, 23, 5] array of ids\n      const destinationColumn = Array.from(deals[destination.droppableId]); // [4, 7, 23, 5] arrays of ids\n      const sourceDeal = data[sourceColumn[source.index]];\n      const destinationDeal = data[destinationColumn[destination.index]]; // may be undefined if dropping at the end of a column\n\n      // update local state\n      sourceColumn.splice(source.index, 1);\n      destinationColumn.splice(destination.index, 0, draggableId);\n      setDeals({\n        ...deals,\n        [source.droppableId]: sourceColumn,\n        [destination.droppableId]: destinationColumn,\n      });\n\n      // update backend\n      // Fetch all the deals in both stages (because the list may be filtered, but we need to update even non-filtered deals)\n      const [\n        { data: sourceDeals },\n        { data: destinationDeals },\n      ] = await Promise.all([\n        dataProvider.getList(\"deals\", {\n          sort: { field: \"index\", order: \"ASC\" },\n          pagination: { page: 1, perPage: 100 },\n          filter: { stage: source.droppableId },\n        }),\n        dataProvider.getList(\"deals\", {\n          sort: { field: \"index\", order: \"ASC\" },\n          pagination: { page: 1, perPage: 100 },\n          filter: { stage: destination.droppableId },\n        }),\n      ]);\n\n      await Promise.all([\n        // decrease index on the deals after the source index in the source columns\n        ...sourceDeals\n          .filter((deal) => deal.index > sourceDeal.index)\n          .map((deal) =>\n            dataProvider.update(\"deals\", {\n              id: deal.id,\n              data: { index: deal.index - 1 },\n              previousData: deal,\n            })\n          ),\n        // increase index on the deals after the destination index in the destination columns\n        ...destinationDeals\n          .filter((deal) =>\n            destinationDeal ? deal.index >= destinationDeal.index : false\n          )\n          .map((deal) =>\n            dataProvider.update(\"deals\", {\n              id: deal.id,\n              data: { index: deal.index + 1 },\n              previousData: deal,\n            })\n          ),\n        // change the dragged deal to take the destination index and column\n        dataProvider.update(\"deals\", {\n          id: sourceDeal.id,\n          data: {\n            index: destinationDeal\n              ? destinationDeal.index\n              : destinationDeals.pop()!.index + 1,\n            stage: destination.droppableId,\n          },\n          previousData: sourceDeal,\n        }),\n      ]);\n\n      refresh();\n    }\n  };\n\n  return (\n    <DragDropContext onDragEnd={onDragEnd}>\n      <Box display=\"flex\">\n        {stages.map((stage) => (\n          <DealColumn\n            stage={stage}\n            dealIds={deals[stage]}\n            data={data}\n            key={stage}\n          />\n        ))}\n      </Box>\n    </DragDropContext>\n  );\n};\n","export const types = [\n  \"Other\",\n  \"Copywriting\",\n  \"Print project\",\n  \"UI Design\",\n  \"Website design\",\n];\n\nexport const typeChoices = types.map((type) => ({ id: type, name: type }));\n","import {\n  Create,\n  SimpleForm,\n  TextInput,\n  SelectInput,\n  NumberInput,\n  ReferenceInput,\n  AutocompleteInput,\n  required,\n  useRedirect,\n  useDataProvider,\n} from \"react-admin\";\nimport { Dialog } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { stageChoices } from \"./stages\";\nimport { typeChoices } from \"./types\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: 500,\n  },\n});\n\nexport const DealCreate = ({ open }) => {\n  const classes = useStyles();\n  const redirect = useRedirect();\n  const dataProvider = useDataProvider();\n\n  const handleClose = () => {\n    redirect(\"/deals\");\n  };\n\n  const onSuccess = ({ data: deal }) => {\n    redirect(\"/deals\");\n    // increase the index of all deals in the same stage as the new deal\n    dataProvider\n      .getList(\"deals\", {\n        pagination: { page: 1, perPage: 50 },\n        sort: { field: \"id\", order: \"ASC\" },\n        filter: { stage: deal.stage },\n      })\n      .then(({ data: deals }) =>\n        Promise.all(\n          deals\n            .filter((oldDeal) => oldDeal.id !== deal.id)\n            .map((oldDeal) =>\n              dataProvider.update(\"deals\", {\n                id: oldDeal.id,\n                data: { index: oldDeal.index + 1 },\n                previousData: oldDeal,\n              })\n            )\n        )\n      );\n  };\n\n  return (\n    <Dialog open={open} onClose={handleClose}>\n      <Create\n        resource=\"deals\"\n        basePath=\"/deals\"\n        className={classes.root}\n        onSuccess={onSuccess}\n      >\n        <SimpleForm initialValues={{ index: 0 }}>\n          <TextInput\n            source=\"name\"\n            label=\"Deal name\"\n            fullWidth\n            validate={[required()]}\n          />\n          <TextInput source=\"description\" multiline rows={3} fullWidth />\n          <ReferenceInput\n            source=\"company_id\"\n            reference=\"companies\"\n            fullWidth\n            validate={[required()]}\n          >\n            <AutocompleteInput optionText=\"name\" />\n          </ReferenceInput>\n          <SelectInput\n            source=\"stage\"\n            choices={stageChoices}\n            fullWidth\n            validate={[required()]}\n            defaultValue=\"opportunity\"\n          />\n          <SelectInput source=\"type\" choices={typeChoices} fullWidth />\n          <NumberInput source=\"amount\" fullWidth defaultValue={0} />\n        </SimpleForm>\n      </Create>\n    </Dialog>\n  );\n};\n","import { useListContext } from \"react-admin\";\nimport { Link } from \"@material-ui/core\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles({\n  ul: {\n    listStyle: \"none\",\n    padding: 0,\n    margin: 0,\n    display: \"inline-block\",\n  },\n  li: {\n    display: \"inline\",\n    \"&:after\": {\n      content: '\", \"',\n    },\n    \"&:last-child:after\": {\n      content: '\"\"',\n    },\n  },\n});\n\nexport const ContactList = () => {\n  const { ids, data, loaded } = useListContext();\n  const classes = useStyles();\n  if (!loaded) return <div style={{ height: \"2em\" }} />;\n  return (\n    <ul className={classes.ul}>\n      {ids.map((id) => (\n        <li key={id} className={classes.li}>\n          <Link\n            component={RouterLink}\n            to={`/contacts/${id}`}\n            variant=\"subtitle1\"\n          >\n            {data[id].first_name} {data[id].last_name}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\n","import {\n  ShowBase,\n  TextField,\n  ReferenceField,\n  ReferenceManyField,\n  ReferenceArrayField,\n  useRecordContext,\n  useRedirect,\n} from \"react-admin\";\nimport {\n  Box,\n  Dialog,\n  DialogContent,\n  Typography,\n  Divider,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { format } from \"date-fns\";\n\nimport { CompanyAvatar } from \"../companies/CompanyAvatar\";\nimport { NotesIterator } from \"../notes\";\nimport { ContactList } from \"./ContactList\";\nimport { stageNames } from \"./stages\";\n\nconst useStyles = makeStyles({\n  dialog: {\n    position: \"absolute\",\n    top: 50,\n  },\n});\n\nexport const DealShow = ({ open, id }) => {\n  const redirect = useRedirect();\n  const classes = useStyles();\n\n  const handleClose = () => {\n    redirect(\"/deals\");\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      fullWidth\n      maxWidth=\"md\"\n      classes={{ paper: classes.dialog }}\n    >\n      <DialogContent>\n        <ShowBase resource=\"deals\" basePath=\"/deals\" id={id}>\n          <DealShowContent />\n        </ShowBase>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst DealShowContent = () => {\n  const record = useRecordContext();\n  if (!record) return null;\n  return (\n    <>\n      <Box display=\"flex\">\n        <Box\n          width={100}\n          display=\"flex\"\n          flexDirection=\"column\"\n          alignItems=\"center\"\n        >\n          <ReferenceField source=\"company_id\" reference=\"companies\" link=\"show\">\n            <CompanyAvatar />\n          </ReferenceField>\n          <ReferenceField source=\"company_id\" reference=\"companies\" link=\"show\">\n            <TextField source=\"name\" align=\"center\" component=\"div\" />\n          </ReferenceField>\n        </Box>\n        <Box ml={2} flex=\"1\">\n          <Typography variant=\"h5\">{record.name}</Typography>\n\n          <Box display=\"flex\" mt={2}>\n            <Box display=\"flex\" mr={5} flexDirection=\"column\">\n              <Typography color=\"textSecondary\" variant=\"body2\">\n                Start\n              </Typography>\n              <Typography variant=\"subtitle1\">\n                {format(new Date(record.start_at), \"PP\")}\n              </Typography>\n            </Box>\n\n            <Box display=\"flex\" mr={5} flexDirection=\"column\">\n              <Typography color=\"textSecondary\" variant=\"body2\">\n                Budget\n              </Typography>\n              <Typography variant=\"subtitle1\">\n                {record.amount.toLocaleString(\"en-US\", {\n                  notation: \"compact\",\n                  style: \"currency\",\n                  currency: \"USD\",\n                  currencyDisplay: \"narrowSymbol\",\n                  minimumSignificantDigits: 3,\n                })}\n              </Typography>\n            </Box>\n\n            <Box display=\"flex\" mr={5} flexDirection=\"column\">\n              <Typography color=\"textSecondary\" variant=\"body2\">\n                Type\n              </Typography>\n              <Typography variant=\"subtitle1\">{record.type}</Typography>\n            </Box>\n\n            <Box display=\"flex\" mr={5} flexDirection=\"column\">\n              <Typography color=\"textSecondary\" variant=\"body2\">\n                Stage\n              </Typography>\n              <Typography variant=\"subtitle1\">\n                {stageNames[record.stage]}\n              </Typography>\n            </Box>\n          </Box>\n\n          <Box mt={2} mb={2}>\n            <Box display=\"flex\" mr={5} flexDirection=\"column\" minHeight={48}>\n              <Typography color=\"textSecondary\" variant=\"body2\">\n                Contacts\n              </Typography>\n              <ReferenceArrayField source=\"contact_ids\" reference=\"contacts\">\n                <ContactList />\n              </ReferenceArrayField>\n            </Box>\n          </Box>\n\n          <Box mt={2} mb={2} style={{ whiteSpace: \"pre-line\" }}>\n            <Typography color=\"textSecondary\" variant=\"body2\">\n              Description\n            </Typography>\n            <Typography>{record.description}</Typography>\n          </Box>\n\n          <Divider />\n\n          <Box mt={2}>\n            <ReferenceManyField\n              target=\"deal_id\"\n              reference=\"dealNotes\"\n              sort={{ field: \"date\", order: \"DESC\" }}\n            >\n              <NotesIterator reference=\"deals\" />\n            </ReferenceManyField>\n          </Box>\n        </Box>\n      </Box>\n    </>\n  );\n};\n","import { useListFilterContext, useGetIdentity } from \"react-admin\";\nimport { Switch, FormControlLabel } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginBottom: theme.spacing(1),\n    marginLeft: theme.spacing(1),\n  },\n}));\n\nexport const OnlyMineInput = ({ alwaysOn }) => {\n  const { filterValues, displayedFilters, setFilters } = useListFilterContext();\n  const { identity } = useGetIdentity();\n  const classes = useStyles();\n  const handleChange = () => {\n    const newFilterValues = { ...filterValues };\n    if (typeof filterValues.sales_id !== \"undefined\") {\n      delete newFilterValues.sales_id;\n    } else {\n      newFilterValues.sales_id = identity && identity?.id;\n    }\n    setFilters(newFilterValues, displayedFilters);\n  };\n  return (\n    <div className={classes.root}>\n      <FormControlLabel\n        control={\n          <Switch\n            checked={typeof filterValues.sales_id !== \"undefined\"}\n            onChange={handleChange}\n            color=\"primary\"\n            name=\"checkedC\"\n          />\n        }\n        label=\"Only companies I manage\"\n      />\n    </div>\n  );\n};\n\nOnlyMineInput.defaultProps = { source: \"sales_id\" };\n","import {\n  List,\n  Filter,\n  SearchInput,\n  SelectInput,\n  TopToolbar,\n  CreateButton,\n  ExportButton,\n  useGetIdentity,\n} from \"react-admin\";\nimport { Route } from \"react-router\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { DealListContent } from \"./DealListContent\";\nimport { DealCreate } from \"./DealCreate\";\nimport { DealShow } from \"./DealShow\";\nimport { OnlyMineInput } from \"./OnlyMineInput\";\nimport { typeChoices } from \"./types\";\n\nexport const DealList = (props) => {\n  const { identity } = useGetIdentity();\n  return identity ? (\n    <>\n      <List\n        {...props}\n        perPage={100}\n        sort={{ field: \"index\", order: \"ASC\" }}\n        filters={<DealFilters />}\n        filterDefaultValues={{ sales_id: identity && identity?.id }}\n        actions={<DealActions />}\n        pagination={false}\n        component=\"div\"\n      >\n        <DealListContent />\n      </List>\n      <Route path=\"/deals/create\">\n        {({ match }) => <DealCreate open={!!match} />}\n      </Route>\n      <Route path=\"/deals/:id/show\">\n        {({ match }) =>\n          !!match ? <DealShow open={!!match} id={match?.params?.id} /> : null\n        }\n      </Route>\n    </>\n  ) : null;\n};\n\nconst DealFilters = (props) => (\n  <Filter {...props}>\n    <SearchInput source=\"q\" alwaysOn />\n    <OnlyMineInput alwaysOn />\n    <SelectInput source=\"type\" choices={typeChoices} />\n  </Filter>\n);\n\nconst useActionStyles = makeStyles((theme) => ({\n  createButton: {\n    marginLeft: theme.spacing(2),\n  },\n}));\nconst DealActions = (props) => {\n  const classes = useActionStyles();\n  return (\n    <TopToolbar>\n      <DealFilters context=\"button\" />\n      <ExportButton />\n      <CreateButton\n        basePath=\"/deals\"\n        variant=\"contained\"\n        label=\"New Deal\"\n        className={classes.createButton}\n      />\n    </TopToolbar>\n  );\n};\n","/* eslint-disable import/no-anonymous-default-export */\nimport { DealList } from \"./DealList\";\n\nexport default {\n  list: DealList,\n};\n","import {\n  Typography,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport CodeIcon from \"@material-ui/icons/Code\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: `#c5dedd`,\n    color: \"rgba(0, 0, 0, 0.87)\",\n    padding: \"1em\",\n    marginBottom: \"1em\",\n    marginTop: \"2em\",\n  },\n  actions: {\n    padding: theme.spacing(2),\n    marginTop: -theme.spacing(2),\n    marginBottom: -theme.spacing(1),\n    flexDirection: \"column\",\n    \"& a\": {\n      marginBottom: theme.spacing(1),\n      backgroundColor: \"white\",\n      marginLeft: \"0 !important\",\n    },\n  },\n}));\n\nexport const Welcome = () => {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root}>\n      <CardContent>\n        <Typography variant=\"h5\" gutterBottom>\n          CRM demo\n        </Typography>\n        <Typography gutterBottom>\n          This app runs in the browser, and relies on a mock REST API. Feel free\n          to explore and modify the data - it's local to your computer, and will\n          reset each time you reload.\n        </Typography>\n        <Typography gutterBottom>\n          It was built using react-admin, an open-source framework. The code for\n          this demo is also open-source. Reading it is a great way to learn\n          react-admin!\n        </Typography>\n      </CardContent>\n      <CardActions className={classes.actions}>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          href=\"https://marmelab.com/react-admin\"\n          startIcon={<HomeIcon />}\n        >\n          React-admin site\n        </Button>\n        <Button\n          variant=\"contained\"\n          fullWidth\n          href=\"https://github.com/marmelab/react-admin/tree/master/examples/crm\"\n          startIcon={<CodeIcon />}\n        >\n          Source for this demo\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};\n","import { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Box, Link } from \"@material-ui/core\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport { useGetList } from \"react-admin\";\nimport { startOfMonth, format } from \"date-fns\";\nimport { ResponsiveBar } from \"@nivo/bar\";\n\nimport { Deal } from \"../types\";\n\nconst multiplier = {\n  opportunity: 0.2,\n  \"proposal-sent\": 0.5,\n  \"in-negociation\": 0.8,\n  delayed: 0.3,\n};\n\nexport const DealsChart = () => {\n  const { data, ids, loaded } = useGetList<Deal>(\n    \"deals\",\n    { perPage: 100, page: 1 },\n    {\n      field: \"start_at\",\n      order: \"ASC\",\n    }\n  );\n  const [months, setMonths] = useState<any[]>([]);\n\n  useEffect(() => {\n    const deals = ids.map((id) => data[id]);\n\n    const dealsByMonth = deals.reduce((acc, deal) => {\n      const month = startOfMonth(new Date(deal.start_at)).toISOString();\n      if (!acc[month]) {\n        acc[month] = [];\n      }\n      acc[month].push(deal);\n      return acc;\n    }, {});\n\n    const amountByMonth = Object.keys(dealsByMonth).map((month) => {\n      return {\n        date: format(new Date(month), \"MMM\"),\n        won: dealsByMonth[month]\n          .filter((deal) => deal.stage === \"won\")\n          .reduce((acc, deal: Deal) => {\n            acc += deal.amount;\n            return acc;\n          }, 0),\n        pending: dealsByMonth[month]\n          .filter((deal) => ![\"won\", \"lost\"].includes(deal.stage))\n          .reduce((acc, deal: Deal) => {\n            acc += deal.amount * multiplier[deal.stage];\n            return acc;\n          }, 0),\n        lost: dealsByMonth[month]\n          .filter((deal) => deal.stage === \"lost\")\n          .reduce((acc, deal: Deal) => {\n            acc -= deal.amount;\n            return acc;\n          }, 0),\n      };\n    });\n\n    setMonths(amountByMonth);\n  }, [ids, data]);\n\n  if (!loaded) return null; // FIXME return skeleton instead\n\n  const range = months.reduce(\n    (acc, month) => {\n      acc.min = Math.min(acc.min, month.lost);\n      acc.max = Math.max(acc.max, month.won + month.pending);\n      return acc;\n    },\n    { min: 0, max: 0 }\n  );\n\n  return (\n    <>\n      <Box display=\"flex\" alignItems=\"center\">\n        <Box ml={2} mr={2} display=\"flex\">\n          <AttachMoneyIcon color=\"disabled\" fontSize=\"large\" />\n        </Box>\n        <Link\n          underline=\"none\"\n          variant=\"h5\"\n          color=\"textSecondary\"\n          component={RouterLink}\n          to=\"/deals\"\n        >\n          Upcoming Deal Revenue\n        </Link>\n      </Box>\n      <Box height={500}>\n        <ResponsiveBar\n          data={months}\n          indexBy=\"date\"\n          keys={[\"won\", \"pending\", \"lost\"]}\n          colors={[\"#61cdbb\", \"#97e3d5\", \"#e25c3b\"]}\n          margin={{ top: 50, right: 50, bottom: 50, left: 0 }}\n          padding={0.3}\n          valueScale={{\n            type: \"linear\",\n            min: range.min * 1.2,\n            max: range.max * 1.2,\n          }}\n          indexScale={{ type: \"band\", round: true }}\n          enableGridX={true}\n          enableGridY={false}\n          enableLabel={false}\n          axisTop={{\n            tickSize: 0,\n            tickPadding: 12,\n          }}\n          axisBottom={{\n            legendPosition: \"middle\",\n            legendOffset: 50,\n            tickSize: 0,\n            tickPadding: 12,\n          }}\n          axisLeft={null}\n          axisRight={{\n            format: (v: any) => `${Math.abs(v / 1000)}k`,\n            tickValues: 8,\n          }}\n          markers={\n            [\n              {\n                axis: \"y\",\n                value: 0,\n                lineStyle: { strokeOpacity: 0 },\n                textStyle: { fill: \"#2ebca6\" },\n                legend: \"Won\",\n                legendPosition: \"top-left\",\n                legendOrientation: \"vertical\",\n              },\n              {\n                axis: \"y\",\n                value: 0,\n                lineStyle: { stroke: \"#f47560\", strokeWidth: 1 },\n                textStyle: { fill: \"#e25c3b\" },\n                legend: \"Lost\",\n                legendPosition: \"bottom-left\",\n                legendOrientation: \"vertical\",\n              },\n            ] as any\n          }\n        />\n      </Box>\n    </>\n  );\n};\n","import { Link as RouterLink } from \"react-router-dom\";\nimport { Card, Box, Link } from \"@material-ui/core\";\nimport ContactsIcon from \"@material-ui/icons/Contacts\";\nimport { useGetList, SimpleList, useGetIdentity } from \"react-admin\";\nimport { formatDistance } from \"date-fns\";\n\nimport { Avatar } from \"../contacts/Avatar\";\nimport { Contact } from \"../types\";\n\nexport const HotContacts = () => {\n  const { identity } = useGetIdentity();\n  const {\n    data: contactData,\n    ids: contactIds,\n    total: contactTotal,\n    loaded: contactsLoaded,\n  } = useGetList<Contact>(\n    \"contacts\",\n    { page: 1, perPage: 10 },\n    { field: \"last_seen\", order: \"DESC\" },\n    { status: \"hot\", sales_id: identity?.id },\n    { enabled: Number.isInteger(identity?.id) }\n  );\n  return (\n    <>\n      <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n        <Box ml={2} mr={2} display=\"flex\">\n          <ContactsIcon color=\"disabled\" fontSize=\"large\" />\n        </Box>\n        <Link\n          underline=\"none\"\n          variant=\"h5\"\n          color=\"textSecondary\"\n          component={RouterLink}\n          to=\"/contacts\"\n        >\n          Hot contacts\n        </Link>\n      </Box>\n      <Card>\n        <SimpleList\n          basePath=\"/contacts\"\n          linkType=\"show\"\n          ids={contactIds}\n          data={contactData}\n          total={contactTotal}\n          loaded={contactsLoaded}\n          primaryText={(contact) =>\n            `${contact.first_name} ${contact.last_name}`\n          }\n          secondaryText={(contact) =>\n            formatDistance(new Date(contact.last_seen), new Date(), {\n              addSuffix: true,\n            })\n          }\n          leftAvatar={(contact) => <Avatar record={contact} />}\n        />\n      </Card>\n    </>\n  );\n};\n","import { Card, CardContent, Typography, Box } from \"@material-ui/core\";\nimport NoteIcon from \"@material-ui/icons/Note\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  useGetList,\n  useGetIdentity,\n  ReferenceField,\n  TextField,\n  FunctionField,\n} from \"react-admin\";\nimport { formatDistance } from \"date-fns\";\n\nconst useStyles = makeStyles((theme) => ({\n  note: {\n    marginBottom: theme.spacing(2),\n  },\n  noteText: {\n    backgroundColor: \"#edf3f0\",\n    padding: theme.spacing(1),\n    borderRadius: 10,\n  },\n  noteTextText: {\n    display: \"-webkit-box\",\n    \"-webkit-line-clamp\": 3,\n    \"-webkit-box-orient\": \"vertical\",\n    overflow: \"hidden\",\n  },\n}));\n\nexport const LatestNotes = () => {\n  const classes = useStyles();\n  const { identity } = useGetIdentity();\n  const {\n    data: contactNotesData,\n    ids: contactNotesIds,\n    loaded: contactNotesLoaded,\n  } = useGetList(\n    \"contactNotes\",\n    { page: 1, perPage: 5 },\n    { field: \"date\", order: \"DESC\" },\n    { sales_id: identity?.id },\n    { enabled: Number.isInteger(identity?.id) }\n  );\n  const {\n    data: dealNotesData,\n    ids: dealNotesIds,\n    loaded: dealNotesLoaded,\n  } = useGetList(\n    \"dealNotes\",\n    { page: 1, perPage: 5 },\n    { field: \"date\", order: \"DESC\" },\n    { sales_id: identity?.id },\n    { enabled: Number.isInteger(identity?.id) }\n  );\n  if (!contactNotesLoaded || !dealNotesLoaded) {\n    return null;\n  }\n  // TypeScript guards\n  if (\n    !contactNotesIds ||\n    !contactNotesData ||\n    !dealNotesIds ||\n    !dealNotesData\n  ) {\n    return null;\n  }\n\n  const allNotes = ([] as any[])\n    .concat(\n      contactNotesIds.map((id) => ({\n        ...contactNotesData[id],\n        type: \"contactNote\",\n      })),\n      dealNotesIds.map((id) => ({ ...dealNotesData[id], type: \"dealNote\" }))\n    )\n    .sort((a, b) => new Date(b.date).valueOf() - new Date(a.date).valueOf())\n    .slice(0, 5);\n\n  return (\n    <>\n      <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n        <Box ml={2} mr={2} display=\"flex\">\n          <NoteIcon color=\"disabled\" fontSize=\"large\" />\n        </Box>\n        <Typography variant=\"h5\" color=\"textSecondary\">\n          My Latest Notes\n        </Typography>\n      </Box>\n      <Card>\n        <CardContent>\n          {allNotes.map((note) => (\n            <div id={`${note.type}_${note.id}`} className={classes.note}>\n              <Typography color=\"textSecondary\" gutterBottom>\n                on{\" \"}\n                {note.type === \"dealNote\" ? (\n                  <Deal note={note} />\n                ) : (\n                  <Contact note={note} />\n                )}\n                , added{\" \"}\n                {formatDistance(new Date(note.date), new Date(), {\n                  addSuffix: true,\n                })}\n              </Typography>\n              <div className={classes.noteText}>\n                <Typography className={classes.noteTextText}>\n                  {note.text}\n                </Typography>\n              </div>\n            </div>\n          ))}\n        </CardContent>\n      </Card>\n    </>\n  );\n};\n\nconst Deal = ({ note }) => (\n  <>\n    Deal{\" \"}\n    <ReferenceField\n      record={note}\n      source=\"deal_id\"\n      reference=\"deals\"\n      basePath=\"/deals\"\n      link=\"show\"\n    >\n      <TextField source=\"name\" variant=\"body1\" />\n    </ReferenceField>\n  </>\n);\n\nconst Contact = ({ note }) => (\n  <>\n    Contact{\" \"}\n    <ReferenceField\n      record={note}\n      source=\"contact_id\"\n      reference=\"contacts\"\n      basePath=\"/contacts\"\n      link=\"show\"\n    >\n      <FunctionField\n        variant=\"body1\"\n        render={(contact) => `${contact.first_name} ${contact.last_name}`}\n      />\n    </ReferenceField>\n  </>\n);\n","import { useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { Card, Link, Box } from \"@material-ui/core\";\nimport MonetizationOnIcon from \"@material-ui/icons/MonetizationOn\";\nimport {\n  useGetList,\n  SimpleList,\n  useGetIdentity,\n  ReferenceField,\n  Identifier,\n} from \"react-admin\";\n\nimport { CompanyAvatar } from \"../companies/CompanyAvatar\";\nimport { stages, stageNames } from \"../deals/stages\";\n\nexport const DealsPipeline = () => {\n  const { identity } = useGetIdentity();\n  const { data, ids: unorderedIds, total, loaded } = useGetList(\n    \"deals\",\n    { page: 1, perPage: 10 },\n    { field: \"last_seen\", order: \"DESC\" },\n    { stage_neq: \"lost\", sales_id: identity?.id },\n    { enabled: Number.isInteger(identity?.id) }\n  );\n  const [ids, setIds] = useState(unorderedIds);\n  useEffect(() => {\n    const deals = unorderedIds.map((id) => data[id]);\n    const orderedIds: Identifier[] = [];\n    stages\n      .filter((stage) => stage !== \"won\")\n      .forEach((stage) =>\n        deals\n          .filter((deal) => deal.stage === stage)\n          .forEach((deal) => orderedIds.push(deal.id))\n      );\n    setIds(orderedIds);\n  }, [unorderedIds, data]);\n  return (\n    <>\n      <Box display=\"flex\" alignItems=\"center\" marginBottom=\"1em\">\n        <Box ml={2} mr={2} display=\"flex\">\n          <MonetizationOnIcon color=\"disabled\" fontSize=\"large\" />\n        </Box>\n        <Link\n          underline=\"none\"\n          variant=\"h5\"\n          color=\"textSecondary\"\n          component={RouterLink}\n          to=\"/deals\"\n        >\n          Deals Pipeline\n        </Link>\n      </Box>\n      <Card>\n        <SimpleList\n          basePath=\"/deals\"\n          linkType=\"show\"\n          ids={ids}\n          data={data}\n          total={total}\n          loaded={loaded}\n          primaryText={(deal) => deal.name}\n          secondaryText={(deal) =>\n            `${deal.amount.toLocaleString(\"en-US\", {\n              notation: \"compact\",\n              style: \"currency\",\n              currency: \"USD\",\n              currencyDisplay: \"narrowSymbol\",\n              minimumSignificantDigits: 3,\n            })} , ${stageNames[deal.stage]}`\n          }\n          leftAvatar={(deal) => (\n            <ReferenceField\n              source=\"company_id\"\n              record={deal}\n              reference=\"companies\"\n              resource=\"deals\"\n              basePath=\"/deals\"\n            >\n              <CompanyAvatar size=\"small\" />\n            </ReferenceField>\n          )}\n        />\n      </Card>\n    </>\n  );\n};\n","import { Box } from \"@material-ui/core\";\n\nimport { Welcome } from \"./Welcome\";\nimport { DealsChart } from \"./DealsChart\";\nimport { HotContacts } from \"./HotContacts\";\nimport { LatestNotes } from \"./LatestNotes\";\nimport { DealsPipeline } from \"./DealsPipeline\";\n\nexport const Dashboard = () => {\n  return (\n    <>\n      <Box display=\"flex\" mt=\"2em\">\n        <Box flex=\"3\" mr=\"1em\">\n          <DealsChart />\n        </Box>\n        <Box flex=\"1\">\n          <Welcome />\n        </Box>\n      </Box>\n      <Box display=\"flex\" mt=\"2em\">\n        <Box flex=\"1\" mr=\"1em\">\n          <LatestNotes />\n        </Box>\n        <Box flex=\"1\" display=\"flex\">\n          <Box flex=\"1\" mr=\"1em\">\n            <HotContacts />\n          </Box>\n          <Box flex=\"1\">\n            <DealsPipeline />\n            {/*<Card>\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                Upcoming tasks\n              </Typography>\n            </CardContent>\n          </Card>*/}\n          </Box>\n        </Box>\n      </Box>\n    </>\n  );\n};\n","import { Admin, Resource, ListGuesser, defaultTheme } from \"react-admin\";\nimport {\n  unstable_createMuiStrictModeTheme,\n  createMuiTheme,\n} from \"@material-ui/core/styles\";\n\nimport { dataProvider } from \"./dataProvider\";\nimport { authProvider } from \"./authProvider\";\nimport Layout from \"./Layout\";\nimport contacts from \"./contacts\";\nimport companies from \"./companies\";\nimport deals from \"./deals\";\nimport { Dashboard } from \"./dashboard/Dashboard\";\n\n// FIXME MUI bug https://github.com/mui-org/material-ui/issues/13394\nconst theme =\n  process.env.NODE_ENV !== \"production\"\n    ? unstable_createMuiStrictModeTheme(defaultTheme)\n    : createMuiTheme(defaultTheme);\n\nconst App = () => (\n  <Admin\n    dataProvider={dataProvider}\n    authProvider={authProvider}\n    layout={Layout}\n    dashboard={Dashboard}\n    theme={theme}\n  >\n    <Resource name=\"deals\" {...deals} />\n    <Resource name=\"contacts\" {...contacts} />\n    <Resource name=\"companies\" {...companies} />\n    <Resource name=\"contactNotes\" />\n    <Resource name=\"dealNotes\" />\n    <Resource name=\"tasks\" list={ListGuesser} />\n    <Resource name=\"sales\" list={ListGuesser} />\n    <Resource name=\"tags\" list={ListGuesser} />\n  </Admin>\n);\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}