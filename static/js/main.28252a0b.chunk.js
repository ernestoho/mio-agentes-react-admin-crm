(this["webpackJsonpreact-admin-crm"]=this["webpackJsonpreact-admin-crm"]||[]).push([[0],{824:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r(0),o=r.n(a),i=r(36),c=r.n(i),l=r(19),s={palette:{secondary:{light:"#6ec6ff",main:"#2196f3",dark:"#0069c0",contrastText:"#fff"}},typography:{h6:{fontWeight:400}},sidebar:{width:240,closedWidth:55},overrides:{MuiFilledInput:{root:{backgroundColor:"rgba(0, 0, 0, 0.04)","&$disabled":{backgroundColor:"rgba(0, 0, 0, 0.04)"}}},MuiButtonBase:{root:{"&:hover:active::after":{content:'""',display:"block",width:"100%",height:"100%",position:"absolute",top:0,right:0,backgroundColor:"currentColor",opacity:.3,borderRadius:"inherit"}}}},props:{MuiButtonBase:{disableRipple:!0}}},u=r(12),d=r(69),p=r(147),f={id:""},b={login:function login(){return Promise.resolve()},logout:function logout(){return Promise.resolve()},checkAuth:function checkAuth(){return Promise.resolve()},checkError:function checkError(){return Promise.resolve()},getPermissions:function getPermissions(){return Promise.resolve()},getIdentity:function getIdentity(){return Promise.resolve(f)}},m=Object(a.createContext)(b);m.displayName="AuthContext";var h=m,y="GET_LIST",g="GET_ONE",O="GET_MANY",v="GET_MANY_REFERENCE",j="CREATE",x="UPDATE",w="UPDATE_MANY",E="DELETE",S="DELETE_MANY",P=["getList","getMany","getManyReference"],C=(function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i]}(P,["updateMany","deleteMany"]),function sanitizeFetchType(e){switch(e){case y:return"getList";case g:return"getOne";case O:return"getMany";case v:return"getManyReference";case j:return"create";case x:return"update";case w:return"updateMany";case E:return"delete";case S:return"deleteMany";default:return e}}),A=function defaultDataProvider(){return Promise.resolve()};A.create=function(){return Promise.resolve(null)},A.delete=function(){return Promise.resolve(null)},A.deleteMany=function(){return Promise.resolve(null)},A.getList=function(){return Promise.resolve(null)},A.getMany=function(){return Promise.resolve(null)},A.getManyReference=function(){return Promise.resolve(null)},A.getOne=function(){return Promise.resolve(null)},A.update=function(){return Promise.resolve(null)},A.updateMany=function(){return Promise.resolve(null)};var T={create:j,delete:E,deleteMany:S,getList:y,getMany:O,getManyReference:v,getOne:g,update:x,updateMany:w},k=function convertLegacyDataProvider(e){return new Proxy(A,{get:function get(t,r){return function(t,n){if(Object.keys(T).includes(r.toString())){var a=T[r.toString()];return e(a,t,n)}return e(r.toString(),t,n)}},apply:function apply(t,r,n){return e.apply(e,n)}})},R=Object(a.createContext)(null);R.displayName="DataProviderContext";var N=R,I=r(52),F=r(403),_=r(477),D=r(17),L="RA/REGISTER_RESOURCE",B="RA/UNREGISTER_RESOURCE",M="RA/TOGGLE_SIDEBAR",V="RA/SET_SIDEBAR_VISIBILITY",W=function setSidebarVisibility(e){return{type:V,payload:e}},U="RA/REFRESH_VIEW",z=function refreshView(e){return{type:U,payload:{hard:e}}},q="RA/SET_AUTOMATIC_REFRESH",G=r(46),H=r.n(G),J="RA/FETCH_START",Q="RA/FETCH_END",Y="RA/FETCH_ERROR",Z="RA/FETCH_CANCEL",K=r(171),X=r.n(K),__assign=function(){return(__assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$=function getFetchedAt(e,t,r,n){void 0===e&&(e=[]),void 0===t&&(t={}),void 0===r&&(r=new Date),void 0===n&&(n=6e5);var a={};e.forEach((function(e){return a[e]=r}));var o=new Date;o.setTime(o.getTime()-n);var i=X()(t,(function(e){return e>o}));return __assign(__assign({},i),a)},data_assign=function(){return(data_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ee=function hideFetchedAt(e){return Object.defineProperty(e,"fetchedAt",{enumerable:!1,configurable:!1,writable:!1}),e},te=function addRecordsAndRemoveOutdated(e,t){void 0===e&&(e=[]);var r={};e.forEach((function(e){return r[e.id]=e}));var n=$(e.map((function(e){return e.id})),t.fetchedAt),a={fetchedAt:n};return Object.keys(n).forEach((function(e){return a[e]=r[e]?H()(r[e],t[e])?t[e]:r[e]:t[e]})),ee(a)},re=function addOneRecord(e,t,r){var n,a;void 0===r&&(r=new Date);var o=data_assign(data_assign({},t),((n={})[e.id]=H()(e,t[e.id])?t[e.id]:e,n));return Object.defineProperty(o,"fetchedAt",{value:data_assign(data_assign({},t.fetchedAt),(a={},a[e.id]=r,a)),enumerable:!1})},ne=function includesNotStrict(e,t){return e.some((function(e){return e==t}))},ae=function removeRecords(e,t){void 0===e&&(e=[]);var r=Object.entries(t).filter((function(t){var r=t[0];return!ne(e,r)})).reduce((function(e,t){var r,n=t[0],a=t[1];return data_assign(data_assign({},e),((r={})[n]=a,r))}),{fetchedAt:{}});return r.fetchedAt=Object.entries(t.fetchedAt).filter((function(t){var r=t[0];return!ne(e,r)})).reduce((function(e,t){var r,n=t[0],a=t[1];return data_assign(data_assign({},e),((r={})[n]=a,r))}),{}),ee(r)},oe=ee({fetchedAt:{}}),ie=function dataReducer(e,t){void 0===e&&(e=oe);var r=t.payload,n=t.meta;if(n&&n.optimistic){if(n.fetch===x){var a=data_assign(data_assign({},e[r.id]),r.data);return re(a,e)}if(n.fetch===w){var o=r.ids.map((function(t){return data_assign(data_assign({},e[t]),r.data)}));return te(o,e)}if(n.fetch===E)return ae([r.id],e);if(n.fetch===S)return ae(r.ids,e)}if(!n||!n.fetchResponse||n.fetchStatus!==Q)return e;switch(n.fetchResponse){case y:return te(r.data,e);case O:case v:return function addRecords(e,t){void 0===e&&(e=[]);var r=data_assign({},t);e.forEach((function(e){r[e.id]=H()(e,t[e.id])?t[e.id]:e}));var n=$(e.map((function(e){return e.id})),t.fetchedAt);return Object.defineProperty(r,"fetchedAt",{value:data_assign(data_assign({},t.fetchedAt),n),enumerable:!1}),r}(r.data,e);case x:case j:case g:return re(r.data,e);default:return e}},ce=[],le=function idsReducer(e,t){return void 0===e&&(e=ce),t.meta&&t.meta.fetchResponse===y?t.payload.data.map((function(e){return e.id})):e},se=function totalReducer(e,t){return void 0===e&&(e=null),t.meta&&t.meta.fetchResponse===y?t.payload.total:e},ue=function validityReducer(e,t){void 0===e&&(e=null);var r=t.payload;switch(t.meta.fetchResponse){case y:return r.validUntil?r.validUntil:null;default:return e}},cachedRequests_assign=function(){return(cachedRequests_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},de={},pe={ids:[],total:null,validity:null},fe=function cachedRequestsReducer(e,t){var r,n;if(void 0===e&&(e=de),t.type===U){if(null===(n=t.payload)||void 0===n?void 0:n.hard)return de;var a={};return Object.keys(e).forEach((function(t){a[t]=cachedRequests_assign(cachedRequests_assign({},e[t]),{validity:void 0})})),a}if(t.meta&&t.meta.optimistic&&(t.meta.fetch===j||t.meta.fetch===E||t.meta.fetch===S||t.meta.fetch===x||t.meta.fetch===w))return de;if(!t.meta||t.meta.fetchStatus!==Q)return e;if(t.meta.fetchResponse===j||t.meta.fetchResponse===E||t.meta.fetchResponse===S||t.meta.fetchResponse===x||t.meta.fetchResponse===w)return de;if(t.meta.fetchResponse!==y||t.meta.fromCache)return e;var o=JSON.stringify(t.requestPayload),i=e[o]||pe;return cachedRequests_assign(cachedRequests_assign({},e),((r={})[o]={ids:le(i.ids,t),total:se(i.total,t),validity:ue(i.validity,t)},r))},be="RA/CRUD_CHANGE_LIST_PARAMS",me=function changeListParams(e,t){return{type:be,payload:t,meta:{resource:e}}},he="RA/SET_LIST_SELECTED_IDS",ye=function setListSelectedIds(e,t){return{type:he,payload:t,meta:{resource:e}}},ge="RA/TOGGLE_LIST_ITEM",Oe="RA/TOGGLE_LIST_ITEM_EXPAND",expanded_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},ve=[],je=function expanded(e,t){if(void 0===e&&(e=ve),t.type===Oe){var r=e.map((function(e){return e==t.payload})).indexOf(!0);return-1===r?expanded_spreadArrays(e,[t.payload]):expanded_spreadArrays(e.slice(0,r),e.slice(r+1))}return e},xe=r(192),we=r.n(xe),Ee="RA/CRUD_GET_LIST",Se="RA/CRUD_GET_LIST_SUCCESS",Pe="RA/CRUD_CREATE",ids_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Ce=[],Ae=function idsReducer(e,t){if(void 0===e&&(e=Ce),t.meta&&t.meta.optimistic){if(t.meta.fetch===E){var r=e.map((function(e){return e===t.payload.id})).indexOf(!0);return-1===r?e:ids_spreadArrays(e.slice(0,r),e.slice(r+1))}if(t.meta.fetch===S)return e.filter((function(e){return!t.payload.ids.includes(e)}))}switch(t.type){case Se:return t.payload.data.map((function(e){return e.id}));case"RA/CRUD_CREATE_SUCCESS":return we()(ids_spreadArrays([t.payload.data.id],e));default:return e}},Te=function loadedOnce(e,t){void 0===e&&(e=!1);var r=t.type;return!0===e?e:r===Se||e},ke={sort:null,order:null,page:1,perPage:null,filter:{}},Re=function paramsReducer(e,t){switch(void 0===e&&(e=ke),t.type){case be:return t.payload;default:return e}},Ne="RA/CRUD_DELETE",selectedIds_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Ie=[],Fe=function selectedIdsReducer(e,t){if(void 0===e&&(e=Ie),t.type===he)return t.payload;if(t.type===ge)return(r=e.indexOf(t.payload))>-1?selectedIds_spreadArrays(e.slice(0,r),e.slice(r+1)):selectedIds_spreadArrays(e,[t.payload]);if("RA/CRUD_DELETE_SUCCESS"===t.type&&(r=e.indexOf(t.payload.data.id))>-1)return selectedIds_spreadArrays(e.slice(0,r),e.slice(r+1));if(t.meta&&t.meta.optimistic){var r;if(t.meta.fetch===E)return-1===(r=e.indexOf(t.payload.id))?e:selectedIds_spreadArrays(e.slice(0,r),e.slice(r+1));if(t.meta.fetch===S)return e.filter((function(e){return!t.payload.ids.includes(e)}))}return t.meta&&t.meta.unselectAll?Ie:e},_e=function totalReducer(e,t){if(void 0===e&&(e=null),t.type===Se)return t.payload.total;if(t.meta&&t.meta.optimistic){if(t.meta.fetch===E)return null===e?null:e-1;if(t.meta.fetch===S)return null===e?null:e-t.payload.ids.length}return e},De=function defaultReducer(){return null},Le=Object(I.c)({cachedRequests:fe||De,expanded:je||De,ids:Ae||De,loadedOnce:Te||De,params:Re||De,selectedIds:Fe||De,total:_e||De}),validity_assign=function(){return(validity_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Be={},Me=function addIds(e,t,r){void 0===e&&(e=[]);var n=validity_assign({},r);return e.forEach((function(e){n[e]=t})),n},Ve=function removeIds(e,t){void 0===e&&(e=[]);var r=validity_assign({},t);return e.forEach((function(e){delete r[e]})),r},We=function validityReducer(e,t){void 0===e&&(e=Be);var r=t.type,n=t.payload,a=t.requestPayload,o=t.meta;if(r===U)return Be;if(!o||!o.fetchResponse||o.fetchStatus!==Q||!0===o.fromCache)return e;if(n.validUntil)switch(o.fetchResponse){case y:case O:case v:return Me(n.data.map((function(e){return e.id})),n.validUntil,e);case w:return Me(n.data,n.validUntil,e);case x:case j:case g:return Me([n.data.id],n.validUntil,e);case E:case S:throw new Error("Responses to dataProvider.delete() or dataProvider.deleteMany() should not contain a validUntil param");default:return e}else switch(o.fetchResponse){case y:case O:case v:return Ve(n.data.map((function(e){return e.id})),e);case x:case j:case g:return Ve([n.data.id],e);case w:return Ve(n.data,e);case E:return Ve([a.id],e);case S:return Ve(a.ids,e);default:return e}},resource_assign=function(){return(resource_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ue={},ze=function loadingReducer(e,t){switch(void 0===e&&(e=0),t.type){case J:return e+1;case Q:case Y:case Z:return Math.max(e-1,0);default:return e}},notificationActions_assign=function(){return(notificationActions_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},qe="RA/SHOW_NOTIFICATION",Ge=function showNotification(e,t,r){return void 0===t&&(t="info"),{type:qe,payload:notificationActions_assign(notificationActions_assign({},r),{type:t,message:e})}},He="RA/HIDE_NOTIFICATION",Je=function hideNotification(){return{type:He}},Qe="RA/RESET_NOTIFICATION",Ye=function resetNotification(){return{type:Qe}},Ze="RA/UNDOABLE",Ke="RA/UNDO",Xe="RA/COMPLETE",$e="RA/START_OPTIMISTIC_MODE",et=function startOptimisticMode(){return{type:$e}},tt="RA/STOP_OPTIMISTIC_MODE",rt=function stopOptimisticMode(){return{type:tt}},nt=[],at=function notificationsReducer(e,t){switch(void 0===e&&(e=nt),t.type){case qe:return e.concat(t.payload);case He:case Ke:return e.slice(1);case Qe:return nt;default:return e}},ot=function getNotification(e){return e.admin.notifications[0]},it="RA/CRUD_GET_MANY_REFERENCE",oneToMany_assign=function(){return(oneToMany_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ct={},lt=function getIds(e,t){return e.admin.references.oneToMany[t]&&e.admin.references.oneToMany[t].ids},st=function getRelatedReferences(e,t){return Object.keys(e).filter((function(e){return e.includes(t)}))},ut=function removeDeletedReferences(e){return function(t,r){var n,a=t[r].ids.filter((function(t){return!e.includes(t)}));return a.length===t[r].ids.length?t:oneToMany_assign(oneToMany_assign({},t),((n={})[r]={ids:a,total:a.length},n))}},dt=function oneToManyReducer(e,t){var r;if(void 0===e&&(e=ct),t.meta&&t.meta.optimistic){var n=st(e,t.meta.resource);if(t.meta.fetch===E)return n.reduce(ut([t.payload.id]),e);if(t.meta.fetch===S)return n.reduce(ut(t.payload.ids),e)}switch(t.type){case"RA/CRUD_GET_MANY_REFERENCE_SUCCESS":return oneToMany_assign(oneToMany_assign({},e),((r={})[t.meta.relatedTo]={ids:t.payload.data.map((function(e){return e.id})),total:t.payload.total},r));default:return e}},possibleValues_assign=function(){return(possibleValues_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pt={},ft=function possibleValuesreducer(e,t){var r,n;switch(void 0===e&&(e=pt),t.type){case"RA/CRUD_GET_MATCHING_SUCCESS":return possibleValues_assign(possibleValues_assign({},e),((r={})[t.meta.relatedTo]=t.payload.data.map((function(e){return e.id})),r));case"RA/CRUD_GET_MATCHING_FAILURE":return possibleValues_assign(possibleValues_assign({},e),((n={})[t.meta.relatedTo]={error:t.error},n));default:return e}},bt=function defaultReducer(){return null},mt=Object(I.c)({oneToMany:dt||bt,possibleValues:ft||bt}),ui_assign=function(){return(ui_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ht={automaticRefreshEnabled:!0,sidebarOpen:function isDesktop(){return!("undefined"===typeof window||!window.matchMedia||"function"!==typeof window.matchMedia)&&window.matchMedia("(min-width:960px)").matches}(),optimistic:!1,viewVersion:0},yt=function uiReducer(e,t){switch(void 0===e&&(e=ht),t.type){case M:return ui_assign(ui_assign({},e),{sidebarOpen:!e.sidebarOpen});case V:return ui_assign(ui_assign({},e),{sidebarOpen:t.payload});case q:return ui_assign(ui_assign({},e),{automaticRefreshEnabled:t.payload});case U:return ui_assign(ui_assign({},e),{viewVersion:e.viewVersion+1});case $e:return ui_assign(ui_assign({},e),{optimistic:!0});case tt:return ui_assign(ui_assign({},e),{optimistic:!1});default:return e}},customQueries_assign=function(){return(customQueries_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gt=function customQueriesReducer(e,t){var r;void 0===e&&(e={});var n=t.type,a=t.requestPayload,o=t.payload,i=t.meta;if("CUSTOM_QUERY_SUCCESS"!==n)return e;var c=JSON.stringify({type:i.fetchResponse,resource:i.resource,payload:a});return customQueries_assign(customQueries_assign({},e),((r={})[c]=o,r))},Ot=function defaultReducer(){return null},vt=Object(I.c)({resources:function(e,t){var r;if(void 0===e&&(e=Ue),t.type===L){var n={props:t.payload,data:ie(void 0,t),list:Le(void 0,t),validity:We(void 0,t)};return resource_assign(resource_assign({},e),((r={})[t.payload.name]=n,r))}return t.type===B?Object.keys(e).reduce((function(r,n){var a;return n===t.payload?r:resource_assign(resource_assign({},r),((a={})[n]=e[n],a))}),{}):t.type===U||t.meta&&t.meta.resource?Object.keys(e).reduce((function(r,n){var a;return resource_assign(resource_assign({},r),((a={})[n]=t.type===U||t.meta.resource===n?{props:e[n].props,data:ie(e[n].data,t),list:Le(e[n].list,t),validity:We(e[n].validity,t)}:e[n],a))}),{}):e}||Ot,customQueries:gt||Ot,loading:ze||Ot,notifications:at||Ot,references:mt||Ot,ui:yt||Ot}),jt=function getResources(e){return function getResources(e){return Object.keys(e).map((function(t){return e[t].props}))}(e.resources)},reducer_assign=function(){return(reducer_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},xt=function getResources(e){return jt(e.admin)},wt=r(65),Et="RA/USER_LOGIN",St="RA/USER_CHECK",Pt="RA/USER_LOGOUT",Ct="RA/CLEAR_STATE",At=function clearState(){return{type:Ct}},__generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},auth=function(e){return e?function watchAuthActions(){return __generator(this,(function(t){switch(t.label){case 0:return[4,Object(D.a)([Object(D.k)(Et,Nt(e)),Object(D.k)(St,It(e)),Object(D.k)(Pt,Ft(e)),Object(D.l)(Y,_t(e))])];case 1:return t.sent(),[2]}}))}:function(){return null}},Tt=function nextPathnameSelector(e){var t=e.router.location.state;return t&&t.nextPathname},kt=function currentPathnameSelector(e){return e.router.location},Rt=function getErrorMessage(e,t){return"string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:t},Nt=function handleLogin(e){return function(t){var r,n,a,o,i,c;return __generator(this,(function(l){switch(l.label){case 0:r=t.payload,n=t.meta,l.label=1;case 1:return l.trys.push([1,7,,10]),[4,Object(D.g)({type:"RA/USER_LOGIN_LOADING"})];case 2:return l.sent(),[4,Object(D.b)([e,"login"],r)];case 3:return a=l.sent(),[4,Object(D.g)({type:"RA/USER_LOGIN_SUCCESS",payload:a})];case 4:return l.sent(),[4,n.pathName||Object(D.i)(Tt)];case 5:return o=l.sent(),[4,Object(D.g)(Object(wt.d)(o||"/"))];case 6:return l.sent(),[3,10];case 7:return i=l.sent(),[4,Object(D.g)({type:"RA/USER_LOGIN_FAILURE",error:i,meta:{auth:!0}})];case 8:return l.sent(),c=Rt(i,"ra.auth.sign_in_error"),[4,Object(D.g)(Ge(c,"warning"))];case 9:return l.sent(),[3,10];case 10:return[2]}}))}},It=function handleCheck(e){return function(t){var r,n,a,o,i;return __generator(this,(function(c){switch(c.label){case 0:r=t.payload,n=t.meta,c.label=1;case 1:return c.trys.push([1,3,,8]),[4,Object(D.b)([e,"checkAuth"],r)];case 2:return c.sent(),[3,8];case 3:return a=c.sent(),[4,Object(D.b)([e,"logout"],void 0)];case 4:return o=c.sent(),[4,Object(D.g)(Object(wt.e)({pathname:a&&a.redirectTo||o||"/login",state:{nextPathname:n.pathName}}))];case 5:return c.sent(),[4,Object(D.g)(At())];case 6:return c.sent(),i=Rt(a,"ra.auth.auth_check_error"),[4,Object(D.g)(Ge(i,"warning"))];case 7:return c.sent(),[3,8];case 8:return[2]}}))}},Ft=function handleLogout(e){return function(t){var r,n;return __generator(this,(function(a){switch(a.label){case 0:return r=t.payload,[4,Object(D.b)([e,"logout"],void 0)];case 1:return n=a.sent(),[4,Object(D.g)(Object(wt.d)(r&&r.redirectTo||n||"/login"))];case 2:return a.sent(),[4,Object(D.g)(At())];case 3:return a.sent(),[2]}}))}},_t=function handleFetchError(e){return function(t){var r,n,a;return __generator(this,(function(o){switch(o.label){case 0:r=t.error,o.label=1;case 1:return o.trys.push([1,3,,10]),[4,Object(D.b)([e,"checkError"],r)];case 2:return o.sent(),[3,10];case 3:return o.sent(),[4,Object(D.i)(kt)];case 4:return n=o.sent(),[4,Object(D.b)([e,"logout"],void 0)];case 5:return a=o.sent(),[4,Object(D.g)(Object(wt.d)({pathname:a||"/login",state:{nextPathname:n}}))];case 6:return o.sent(),[4,Object(D.g)(At())];case 7:return o.sent(),[4,Object(D.g)(Je())];case 8:return o.sent(),[4,Object(D.g)(Ge("ra.notification.logged_out","warning"))];case 9:return o.sent(),[3,10];case 10:return[2]}}))}},callback_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function handleCallback(e){var t=e.payload,r=e.requestPayload,n=e.error,a=e.meta.callback;return callback_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.b)(a,{payload:t,requestPayload:r,error:n})];case 1:return e.sent(),[2]}}))}var sideEffect_callback=function(){return callback_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.k)((function(e){return e.meta&&e.meta.callback}),handleCallback)];case 1:return e.sent(),[2]}}))},fetch_assign=function(){return(fetch_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fetch_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},__rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function handleFetch(e,t){var r,n,a,o,i,c,l,s,u,d,p,f;return fetch_generator(this,(function(b){switch(b.label){case 0:r=t.type,n=t.payload,a=t.meta,o=a.fetch,i=a.onSuccess,c=a.onFailure,l=__rest(a,["fetch","onSuccess","onFailure"]),s=o,u=i instanceof Function?{}:i,d=c instanceof Function?{}:c,b.label=1;case 1:return b.trys.push([1,7,10,14]),[4,Object(D.i)((function(e){return e.admin.ui.optimistic}))];case 2:return b.sent()?[2]:[4,Object(D.a)([Object(D.g)({type:r+"_LOADING",payload:n,meta:l}),Object(D.g)({type:J})])];case 3:return b.sent(),[4,Object(D.b)(e[C(s)],l.resource,n)];case 4:return p=b.sent(),[4,Object(D.g)({type:r+"_SUCCESS",payload:p,requestPayload:n,meta:fetch_assign(fetch_assign(fetch_assign({},l),u),{fetchResponse:s,fetchStatus:Q})})];case 5:return b.sent(),[4,Object(D.g)({type:Q})];case 6:return b.sent(),[3,14];case 7:return f=b.sent(),[4,Object(D.g)({type:r+"_FAILURE",error:f&&(f.message?f.message:f)||null,payload:f&&f.body||null,requestPayload:n,meta:fetch_assign(fetch_assign(fetch_assign({},l),d),{fetchResponse:s,fetchStatus:Y})})];case 8:return b.sent(),[4,Object(D.g)({type:Y,error:f})];case 9:return b.sent(),[3,14];case 10:return[4,Object(D.d)()];case 11:return b.sent()?[4,Object(D.g)({type:Z})]:[3,13];case 12:return b.sent(),[2];case 13:return[7];case 14:return[2]}}))}var Dt=function takeFetchAction(e){return e.meta&&e.meta.fetch},Lt=function fetch(e){return function watchFetch(){return fetch_generator(this,(function(t){switch(t.label){case 0:return[4,Object(D.k)(Dt,handleFetch,e)];case 1:return t.sent(),[2]}}))}},notification_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function handleNotification(e){var t,r,n,a,o=e.error,i=e.meta,c=i.notification,l=i.optimistic;return notification_generator(this,(function(e){switch(e.label){case 0:return t=c.body,r=c.level,n=c.messageArgs,a=void 0===n?{}:n,o?[4,Object(D.g)(Ge("string"===typeof o?o:o.message||t,r||"warning",{messageArgs:a,undoable:!1}))]:[3,2];case 1:return[2,e.sent()];case 2:return[4,Object(D.g)(Ge(t,r||"info",{messageArgs:a,undoable:l}))];case 3:return e.sent(),[2]}}))}var sideEffect_notification=function(){return notification_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.k)((function(e){return e.meta&&e.meta.notification}),handleNotification)];case 1:return e.sent(),[2]}}))},linkToRecord=function(e,t,r){void 0===r&&(r="edit");var n=e+"/"+encodeURIComponent(t);return"show"===r?n+"/show":n},resolveRedirectTo=function(e,t,r,n){if("function"===typeof e)return e(t,r,n);switch(e){case"list":return t;case"create":return t+"/create";case"edit":return linkToRecord(t,r);case"show":return linkToRecord(t,r)+"/show";default:return e}},redirection_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function handleRedirection(e){var t=e.payload,r=e.requestPayload,n=e.meta,a=n.basePath,o=n.redirectTo;return redirection_generator(this,(function(e){switch(e.label){case 0:return o?[3,2]:[4,Object(D.g)(z())];case 1:return e.sent(),[2];case 2:return[4,Object(D.g)(Object(wt.d)(resolveRedirectTo(o,a,t?t.id||(t.data?t.data.id:null):r?r.id:null,t&&t.data?t.data:r&&r.data?r.data:null)))];case 3:return e.sent(),[2]}}))}var redirection=function(){return redirection_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.k)((function(e){return e.meta&&"undefined"!==typeof e.meta.redirectTo}),handleRedirection)];case 1:return e.sent(),[2]}}))},accumulate_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Bt=function addIds(e,t){var r=t.payload.ids,n=new Set(e);return r.forEach((function(e){return n.add(e)})),Array.from(n)},Mt=function finalizeFactory(e,t){return function finalize(r,n){var a,o;return accumulate_generator(this,(function(i){switch(i.label){case 0:return[4,Object(D.e)(50)];case 1:return i.sent(),a=t[r],delete t[r],o=n(r,a),[4,Object(D.g)(o)];case 2:return i.sent(),delete e[r],[2]}}))}},Vt=function accumulateFactory(e,t,r){return function accumulate(n){var a,o,i,c;return accumulate_generator(this,(function(l){switch(l.label){case 0:return a=n.meta.accumulateKey||n.payload.resource,e[a]?[4,Object(D.c)(e[a])]:[3,2];case 1:l.sent(),l.label=2;case 2:return o=n.meta.accumulateValues||Bt,t[a]=o(t[a],n),i=e,c=a,[4,Object(D.f)(r,a,n.meta.accumulate)];case 3:return i[c]=l.sent(),[2]}}))}},sideEffect_accumulate=function(){var e,t;return accumulate_generator(this,(function(r){switch(r.label){case 0:return e={},t={},[4,Object(D.k)((function(e){return e.meta&&e.meta.accumulate}),Vt(t,e,Mt(t,e)))];case 1:return r.sent(),[2]}}))},refresh_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}};function handleRefresh(){return refresh_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.g)(z())];case 1:return e.sent(),[2]}}))}var sideEffect_refresh=function(){return refresh_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.k)((function(e){return e.meta&&e.meta.refresh}),handleRefresh)];case 1:return e.sent(),[2]}}))},undo_assign=function(){return(undo_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},undo_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},undo_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function handleUndoRace(e){var t,r,n,a,o,i;return undo_generator(this,(function(c){switch(c.label){case 0:return t=e.payload.action,r=t.meta,n=r.onSuccess,a=r.onFailure,o=undo_rest(r,["onSuccess","onFailure"]),[4,Object(D.g)(et())];case 1:return c.sent(),[4,Object(D.g)(undo_assign(undo_assign({},t),{type:t.type+"_OPTIMISTIC",meta:undo_assign(undo_assign(undo_assign({},o),n),{optimistic:!0})}))];case 2:return c.sent(),[4,Object(D.h)({undo:Object(D.j)(Ke),complete:Object(D.j)(Xe)})];case 3:return i=c.sent().complete,[4,Object(D.g)(rt())];case 4:return c.sent(),i?[4,Object(D.g)(undo_assign(undo_assign({},t),{meta:undo_assign(undo_assign({},o),{onSuccess:{refresh:!0},onFailure:undo_assign(undo_assign({},a),{refresh:!0})})}))]:[3,6];case 5:return c.sent(),[3,9];case 6:return[4,Object(D.g)(Ge("ra.notification.canceled"))];case 7:return c.sent(),[4,Object(D.g)(z())];case 8:c.sent(),c.label=9;case 9:return[2]}}))}function watchUndoable(){return undo_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.k)(Ze,handleUndoRace)];case 1:return e.sent(),[2]}}))}var admin_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},sideEffect_admin=function(e,t){return function admin(){return admin_generator(this,(function(r){switch(r.label){case 0:return[4,Object(D.a)([auth(t)(),watchUndoable(),Lt(e)(),sideEffect_accumulate(),redirection(),sideEffect_refresh(),sideEffect_notification(),sideEffect_callback()])];case 1:return r.sent(),[2]}}))}},createAdminStore_assign=function(){return(createAdminStore_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},createAdminStore_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},createAdminStore_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},createAdminStore=function(e){var t=e.dataProvider,r=e.history,n=e.customReducers,a=void 0===n?{}:n,o=e.authProvider,i=void 0===o?null:o,c=e.customSagas,l=void 0===c?[]:c,s=e.initialState,u=function(e,t){return Object(I.c)(reducer_assign({admin:vt,router:Object(p.b)(t)},e))}(a,r),d=Object(_.a)(),f=("undefined"!==typeof window&&window,I.d),b=Object(I.e)((function resettableAppReducer(e,t){return u(t.type!==Ct?e:createAdminStore_assign(createAdminStore_assign({},e),{admin:createAdminStore_assign(createAdminStore_assign({},e.admin),{loading:0,resources:{},customQueries:{},references:{oneToMany:{},possibleValues:{}}})}),t)}),"function"===typeof s?s():s,f(Object(I.a)(d,Object(F.a)(r))));return d.run((function rootSaga(){return createAdminStore_generator(this,(function(e){switch(e.label){case 0:return[4,Object(D.a)(createAdminStore_spreadArrays([sideEffect_admin(t,i)],l).map(D.f))];case 1:return e.sent(),[2]}}))})),b};function useSafeSetState(e){var t=Object(a.useState)(e),r=t[0],n=t[1],o=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return o.current=!0,function(){o.current=!1}}),[]),[r,Object(a.useCallback)((function(e){if(o.current)return n(e)}),[o,n])]}function useTimeout(e){void 0===e&&(e=0);var t=Object(a.useState)(!1),r=t[0],n=t[1];return Object(a.useEffect)((function(){var t=setTimeout((function(){n(!0)}),e);return function(){clearTimeout(t)}}),[e]),r}var Wt=Object(a.createContext)({locale:"en",setLocale:function setLocale(){},i18nProvider:{translate:function translate(e){return e},changeLocale:function changeLocale(){return Promise.resolve()},getLocale:function getLocale(){return"en"}}});Wt.displayName="TranslationContext";var TranslationProvider_assign=function(){return(TranslationProvider_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ut=function TranslationProvider(e){var t=e.i18nProvider,r=e.children,n=useSafeSetState({locale:t?t.getLocale():"en",i18nProvider:t}),i=n[0],c=n[1],l=Object(a.useCallback)((function(e){return c((function(t){return TranslationProvider_assign(TranslationProvider_assign({},t),{locale:e})}))}),[c]),s=Object(a.useMemo)((function(){return TranslationProvider_assign(TranslationProvider_assign({},i),{setLocale:l})}),[l,i]);return o.a.createElement(Wt.Provider,{value:s},a.Children.only(r))},zt=function CoreAdminContext(e){var t=e.authProvider,r=e.dataProvider,n=e.i18nProvider,o=e.children,i=e.history,c=e.customReducers,l=e.customSagas,s=e.initialState,f=!!Object(a.useContext)(u.b);if(!r)throw new Error("Missing dataProvider prop.\nReact-admin requires a valid dataProvider function to work.");var b=t instanceof Function?function(e){var t=function authProvider(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.apply(null,t)};return t.login=function(t){return e("AUTH_LOGIN",t)},t.logout=function(t){return e("AUTH_LOGOUT",t)},t.checkAuth=function(t){return e("AUTH_CHECK",t)},t.checkError=function(t){return e("AUTH_ERROR",t)},t.getPermissions=function(t){return e("AUTH_GET_PERMISSIONS",t)},t}(t):t,m=r instanceof Function?k(r):r,y=i||Object(d.b)(),g=function renderCore(){return a.createElement(h.Provider,{value:b},a.createElement(N.Provider,{value:m},a.createElement(Ut,{i18nProvider:n},"undefined"!==typeof window?a.createElement(p.a,{history:y},o):o)))},O=Object(a.useState)((function(){return f?void 0:createAdminStore({authProvider:b,customReducers:c,customSagas:l,dataProvider:m,initialState:s,history:y})}))[0];if(f){if(!i)throw new Error("Missing history prop.\nWhen integrating react-admin inside an existing redux Provider, you must provide the same 'history' prop to the <Admin> as the one used to bootstrap your routerMiddleware.\nReact-admin uses this history for its own ConnectedRouter.");return g()}return a.createElement(u.a,{store:O},g())},qt={ra:{action:{add_filter:"Add filter",add:"Add",back:"Go Back",bulk_actions:"1 item selected |||| %{smart_count} items selected",cancel:"Cancel",clear_input_value:"Clear value",clone:"Clone",confirm:"Confirm",create:"Create",create_item:"Create %{item}",delete:"Delete",edit:"Edit",export:"Export",list:"List",refresh:"Refresh",remove_filter:"Remove this filter",remove:"Remove",save:"Save",search:"Search",show:"Show",sort:"Sort",undo:"Undo",unselect:"Unselect",expand:"Expand",close:"Close",open_menu:"Open menu",close_menu:"Close menu",update:"Update"},boolean:{true:"Yes",false:"No",null:"\u2003"},page:{create:"Create %{name}",dashboard:"Dashboard",edit:"%{name} #%{id}",error:"Something went wrong",list:"%{name}",loading:"Loading",not_found:"Not Found",show:"%{name} #%{id}",empty:"No %{name} yet.",invite:"Do you want to add one?"},input:{file:{upload_several:"Drop some files to upload, or click to select one.",upload_single:"Drop a file to upload, or click to select it."},image:{upload_several:"Drop some pictures to upload, or click to select one.",upload_single:"Drop a picture to upload, or click to select it."},references:{all_missing:"Unable to find references data.",many_missing:"At least one of the associated references no longer appears to be available.",single_missing:"Associated reference no longer appears to be available."},password:{toggle_visible:"Hide password",toggle_hidden:"Show password"}},message:{about:"About",are_you_sure:"Are you sure?",bulk_delete_content:"Are you sure you want to delete this %{name}? |||| Are you sure you want to delete these %{smart_count} items?",bulk_delete_title:"Delete %{name} |||| Delete %{smart_count} %{name}",bulk_update_content:"Are you sure you want to update this %{name}? |||| Are you sure you want to update these %{smart_count} items?",bulk_update_title:"Update %{name} |||| Update %{smart_count} %{name}",delete_content:"Are you sure you want to delete this item?",delete_title:"Delete %{name} #%{id}",details:"Details",error:"A client error occurred and your request couldn't be completed.",invalid_form:"The form is not valid. Please check for errors",loading:"The page is loading, just a moment please",no:"No",not_found:"Either you typed a wrong URL, or you followed a bad link.",yes:"Yes",unsaved_changes:"Some of your changes weren't saved. Are you sure you want to ignore them?"},navigation:{no_results:"No results found",no_more_results:"The page number %{page} is out of boundaries. Try the previous page.",page_out_of_boundaries:"Page number %{page} out of boundaries",page_out_from_end:"Cannot go after last page",page_out_from_begin:"Cannot go before page 1",page_range_info:"%{offsetBegin}-%{offsetEnd} of %{total}",page_rows_per_page:"Rows per page:",next:"Next",prev:"Prev",skip_nav:"Skip to content"},sort:{sort_by:"Sort by %{field} %{order}",ASC:"ascending",DESC:"descending"},auth:{auth_check_error:"Please login to continue",user_menu:"Profile",username:"Username",password:"Password",sign_in:"Sign in",sign_in_error:"Authentication failed, please retry",logout:"Logout"},notification:{updated:"Element updated |||| %{smart_count} elements updated",created:"Element created",deleted:"Element deleted |||| %{smart_count} elements deleted",bad_item:"Incorrect element",item_doesnt_exist:"Element does not exist",http_error:"Server communication error",data_provider_error:"dataProvider error. Check the console for details.",i18n_error:"Cannot load the translations for the specified language",canceled:"Action cancelled",logged_out:"Your session has ended, please reconnect.",not_authorized:"You're not authorized to access this resource."},validation:{required:"Required",minLength:"Must be %{min} characters at least",maxLength:"Must be %{max} characters or less",minValue:"Must be at least %{min}",maxValue:"Must be %{max} or less",number:"Must be a number",email:"Must be a valid email",oneOf:"Must be one of: %{options}",regex:"Must match a specific format (regexp): %{pattern}"}}},Gt=r(317),Ht=r.n(Gt),esm_assign=function(){return(esm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Jt=function(e,t,r){void 0===t&&(t="en"),void 0===r&&(r={});var n=t,a=e(t);if(a instanceof Promise)throw new Error("The i18nProvider returned a Promise for the messages of the default locale ("+t+"). Please update your i18nProvider to return the messages of the default locale in a synchronous way.");var o=new Ht.a(esm_assign({locale:n,phrases:esm_assign({"":""},a)},r)),i=o.t.bind(o);return{translate:function translate(e,t){return void 0===t&&(t={}),i(e,t)},changeLocale:function changeLocale(t){return Promise.resolve(e(t)).then((function(e){n=t;var a=new Ht.a(esm_assign({locale:t,phrases:esm_assign({"":""},e)},r));i=a.t.bind(a)}))},getLocale:function getLocale(){return n}}}((function(){return qt}),"en",{allowMissing:!0}),AdminContext_assign=function(){return(AdminContext_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Qt=function AdminContext(e){return a.createElement(zt,AdminContext_assign({},e))};Qt.defaultProps={i18nProvider:Jt},Qt.displayName="AdminContext";var Yt=Qt,Zt=r(62),util_warning=function(e,t){0},Kt="/login",Xt="/",$t=function useAuthProvider(){return Object(a.useContext)(h)},er=function useLogout(){var e=$t(),t=Object(u.e)(),r=Object(Zt.g)(),n=Object(a.useCallback)((function(n,a,o){return void 0===n&&(n={}),void 0===a&&(a=Kt),void 0===o&&(o=!0),e.logout(n).then((function(e){if(t(At()),!1!==e){var n=(e||a).split("?"),i={pathname:n[0]};return o&&r.location&&r.location.pathname&&(i.state={nextPathname:r.location.pathname,nextSearch:r.location.search}),n[1]&&(i.search=n[1]),r.push(i),e}}))}),[e,r,t]),o=Object(a.useCallback)((function(e){return r.push({pathname:Kt,state:{nextPathname:r.location&&r.location.pathname}}),t(At()),Promise.resolve()}),[t,r]);return e?n:o},tr=function useNotify(){var e=Object(u.e)();return Object(a.useCallback)((function(t,r,n,a,o){void 0===r&&(r="info"),void 0===n&&(n={}),void 0===a&&(a=!1),e(Ge(t,r,{messageArgs:n,undoable:a,autoHideDuration:o}))}),[e])},rr=function checkAuthWithoutAuthProvider(){return Promise.resolve()},nr=function getErrorMessage(e,t){return"string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:t},ar=function useCheckAuth(){var e=$t(),t=tr(),r=er(),n=Object(a.useCallback)((function(n,a,o,i){return void 0===n&&(n={}),void 0===a&&(a=!0),void 0===o&&(o=Kt),void 0===i&&(i=!1),e.checkAuth(n).catch((function(e){a&&(r({},e&&e.redirectTo?e.redirectTo:o),!(i||e&&!1===e.message)&&t(nr(e,"ra.auth.auth_check_error"),"warning"));throw e}))}),[e,r,t]);return e?n:rr},or={},useAuthenticated=function(e){void 0===e&&(e=or);var t=ar();Object(a.useEffect)((function(){t(e).catch((function(){}))}),[t,e])},ir=function getPermissionsWithoutProvider(){return Promise.resolve([])},cr=function useGetPermissions(){var e=$t(),t=Object(a.useCallback)((function(t){return void 0===t&&(t={}),e.getPermissions(t)}),[e]);return e?t:ir},lr={},sr={"{}":void 0},ur=function usePermissionsOptimized(e){void 0===e&&(e=lr);var t=JSON.stringify(e),r=useSafeSetState({permissions:sr[t]}),n=r[0],o=r[1],i=cr();return Object(a.useEffect)((function(){i(e).then((function(e){H()(e,n.permissions)||(sr[t]=e,o({permissions:e}))})).catch((function(e){o({error:e})}))}),[i,t]),n},WithPermissions_assign=function(){return(WithPermissions_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},WithPermissions_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},dr=function isEmptyChildren(e){return 0===a.Children.count(e)},pr=function WithPermissions(e){var t=e.authParams,r=e.children,n=e.render,o=e.component,i=(e.staticContext,WithPermissions_rest(e,["authParams","children","render","component","staticContext"]));util_warning(n&&r&&!dr(r)||n&&o||o&&r&&dr(r)),useAuthenticated(t);var c=ur(t).permissions;return o?Object(a.createElement)(o,WithPermissions_assign({permissions:c},i)):n?n(WithPermissions_assign({permissions:c},i)):r?r(WithPermissions_assign({permissions:c},i)):void 0},RoutesWithLayout_assign=function(){return(RoutesWithLayout_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},fr={route:"dashboard"},br=function RoutesWithLayout(e){var t=e.catchAll,r=e.children,n=e.customRoutes,i=e.dashboard,c=e.title,l=o.a.Children.toArray(r),s=l.length>0?l[0]:null;return o.a.createElement(Zt.d,null,n&&n.map((function(e,t){return Object(a.cloneElement)(e,{key:t})})),a.Children.map(r,(function(e){return o.a.createElement(Zt.b,{key:e.props.name,path:"/"+e.props.name,render:function render(t){return Object(a.cloneElement)(e,RoutesWithLayout_assign({intent:"route"},t))}})})),i?o.a.createElement(Zt.b,{exact:!0,path:"/",render:function render(e){return o.a.createElement(pr,RoutesWithLayout_assign({authParams:fr,component:i},e))}}):s?o.a.createElement(Zt.b,{exact:!0,path:"/",render:function render(){return o.a.createElement(Zt.a,{to:"/"+s.props.name})}}):null,o.a.createElement(Zt.b,{render:function render(e){return Object(a.createElement)(t,RoutesWithLayout_assign(RoutesWithLayout_assign({},e),{title:c}))}}))},mr={},hr=function useAuthState(e){void 0===e&&(e=mr);var t=useSafeSetState({loading:!0,loaded:!1,authenticated:!0}),r=t[0],n=t[1],o=ar();return Object(a.useEffect)((function(){o(e,!1).then((function(){return n({loading:!1,loaded:!0,authenticated:!0})})).catch((function(){return n({loading:!1,loaded:!0,authenticated:!1})}))}),[o,e,n]),r},CoreAdminRouter_assign=function(){return(CoreAdminRouter_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},__awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},CoreAdminRouter_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},yr=function CoreAdminRouter(e){var t=cr(),r=er(),n=hr().authenticated,i=useTimeout(1e3),c=useSafeSetState([]),l=c[0],s=c[1];!function useScrollToTop(){var e=Object(Zt.g)();Object(a.useEffect)((function(){return e.listen((function(e,t){var r;"POP"!==t&&(null===(r=e.state)||void 0===r?void 0:r._scrollToTop)&&"undefined"!=typeof window&&window.scrollTo(0,0)}))}),[e])}(),Object(a.useEffect)((function(){"function"===typeof e.children&&u()}),[n]);var u=function initializeResources(){return __awaiter(void 0,void 0,void 0,(function(){var n,a,o,i;return CoreAdminRouter_generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,t()];case 1:return n=c.sent(),a=e.children,(o=a(n)).then?o.then((function(e){return s(e.filter((function(e){return e})).map((function(e){return CoreAdminRouter_assign(CoreAdminRouter_assign({},e),{props:CoreAdminRouter_assign(CoreAdminRouter_assign({},e.props),{key:e.props.name})})})))})):s(o.filter((function(e){return e}))),[3,3];case 2:return i=c.sent(),console.error(i),r(),[3,3];case 3:return[2]}}))}))},d=function renderCustomRoutesWithoutLayout(t,r){return t.props.render?t.props.render(CoreAdminRouter_assign(CoreAdminRouter_assign({},r),{title:e.title})):t.props.component?Object(a.createElement)(t.props.component,CoreAdminRouter_assign(CoreAdminRouter_assign({},r),{title:e.title})):void 0},p=e.layout,f=e.catchAll,b=e.children,m=e.customRoutes,h=e.dashboard,y=e.loading,g=e.logout,O=e.menu,v=e.ready,j=e.theme,x=e.title;if("function"!==typeof b&&!b)return o.a.createElement(v,null);if("function"===typeof b&&(!l||0===l.length)||Array.isArray(b)&&0===b.length)return o.a.createElement(Zt.d,null,m.filter((function(e){return e.props.noLayout})).map((function(e,t){return Object(a.cloneElement)(e,{key:t,render:function render(t){return d(e,t)},component:void 0})})),i&&o.a.createElement(Zt.b,{key:"loading",render:function render(){return o.a.createElement(y,{theme:j})}}));var w="function"===typeof b?l:b;return o.a.createElement("div",null,a.Children.map(w,(function(e){return Object(a.cloneElement)(e,{key:e.props.name,intent:"registration"})})),o.a.createElement(Zt.d,null,m.filter((function(e){return e.props.noLayout})).map((function(e,t){return Object(a.cloneElement)(e,{key:t,render:function render(t){return d(e,t)},component:void 0})})),o.a.createElement(Zt.b,{path:"/",render:function render(){return Object(a.createElement)(p,{dashboard:h,logout:g,menu:O,theme:j,title:x},o.a.createElement(br,{catchAll:f,customRoutes:m.filter((function(e){return!e.props.noLayout})),dashboard:h,title:x},a.Children.map(w,(function(e){return Object(a.cloneElement)(e,{key:e.props.name,intent:"route"})}))))}})))};yr.defaultProps={customRoutes:[]};var gr=yr,util_Ready=function(){return a.createElement("span",null)},CoreAdminUI_assign=function(){return(CoreAdminUI_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Or=function DefaultLayout(e){var t=e.children;return a.createElement(a.Fragment,null,t)},vr=function Noop(){return null},jr=function CoreAdminUI(e){var t=e.catchAll,r=void 0===t?vr:t,n=e.children,o=e.customRoutes,i=void 0===o?[]:o,c=e.dashboard,l=e.disableTelemetry,s=void 0!==l&&l,u=e.layout,d=void 0===u?Or:u,p=e.loading,f=void 0===p?vr:p,b=e.loginPage,m=void 0!==b&&b,h=e.logout,y=e.menu,g=e.ready,O=void 0===g?util_Ready:g,v=e.theme,j=e.title,x=void 0===j?"React Admin":j,w=Object(a.useMemo)((function(){return h&&Object(a.createElement)(h)}),[h]);return Object(a.useEffect)((function(){s||"undefined"===typeof window||"undefined"===typeof window.location||"undefined"===typeof Image||((new Image).src="https://react-admin-telemetry.marmelab.com/react-admin-telemetry?domain="+window.location.hostname)}),[s]),a.createElement(Zt.d,null,!1!==m&&!0!==m?a.createElement(Zt.b,{exact:!0,path:"/login",render:function render(e){return Object(a.createElement)(m,CoreAdminUI_assign(CoreAdminUI_assign({},e),{title:x,theme:v}))}}):null,a.createElement(Zt.b,{path:"/",render:function render(e){return a.createElement(gr,CoreAdminUI_assign({catchAll:r,customRoutes:i,dashboard:c,layout:d,loading:f,logout:w,menu:y,ready:O,theme:v,title:x},e),n)}}))},xr=r(1),wr=r.n(xr),Er=r(9),Sr=r.n(Er),Pr=r(975),Cr=r(7),Ar=r(926),Tr=r(116),ComponentPropType=function(e,t,r){if(e[t]&&!Object(Tr.isValidElementType)(e[t]))return new Error("Invalid prop '"+t+"' supplied to '"+r+"': the prop is not a valid React component")},kr=r(465),Rr=r.n(kr),Nr=r(830),Ir=r(917),Fr=r(918),_r=r(921),Dr=r(829),Lr=r(124),Br=r(915),Mr=r(466),Vr=r.n(Mr),Wr=function identity(e){return e},Ur=function useTranslate(){var e=Object(a.useContext)(Wt),t=e.i18nProvider,r=e.locale,n=Object(a.useCallback)((function(e,r){return t.translate(e,r)}),[t,r]);return t?n:Wr},zr=r(50),qr=r(920),Gr=function useRefresh(){var e=Object(u.e)();return Object(a.useCallback)((function(t){e(z(t))}),[e])},Hr=function useIsAutomaticRefreshEnabled(){return Object(u.f)((function(e){return e.admin.ui.automaticRefreshEnabled}))},Jr=function useRefreshWhenVisible(e){void 0===e&&(e=3e5);var t=Gr(),r=Hr();Object(a.useEffect)((function(){if("undefined"!==typeof document){var n,a=function handleVisibilityChange(){r&&(document.hidden?n=Date.now():(Date.now()-n>e&&t(),n=null))};return document.addEventListener("visibilitychange",a,{capture:!0}),function(){return document.removeEventListener("visibilitychange",a,{capture:!0})}}}),[r,e,t])},Qr=r(419),Yr=r.n(Qr),RefreshIconButton_assign=function(){return(RefreshIconButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},RefreshIconButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Zr=function RefreshIconButton(e){var t=e.label,r=void 0===t?"ra.action.refresh":t,n=e.icon,o=void 0===n?Kr:n,i=e.onClick,c=e.className,l=RefreshIconButton_rest(e,["label","icon","onClick","className"]),s=Object(u.e)(),d=Ur(),p=Object(a.useCallback)((function(e){e.preventDefault(),s(z()),"function"===typeof i&&i(e)}),[s,i]);return a.createElement(_r.a,{title:r&&d(r,{_:r})},a.createElement(Dr.a,RefreshIconButton_assign({"aria-label":r&&d(r,{_:r}),className:c,color:"inherit",onClick:p},l),o))},Kr=a.createElement(Yr.a,null);Zr.propTypes={className:wr.a.string,label:wr.a.string,icon:wr.a.element};var Xr=Zr,LoadingIndicator_assign=function(){return(LoadingIndicator_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},LoadingIndicator_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},$r=function LoadingIndicator(e){e.classes;var t=e.className,r=LoadingIndicator_rest(e,["classes","className"]);Jr();var n=Object(u.f)((function(e){return e.admin.loading>0})),o=en(e),i=Object(zr.a)();return n?a.createElement(qr.a,LoadingIndicator_assign({className:Sr()("app-loader",o.loader,t),color:"inherit",size:i.spacing(2),thickness:6},r)):a.createElement(Xr,{className:o.loadedIcon})},en=Object(Br.a)((function(e){return{loader:{margin:e.spacing(2)},loadedIcon:{}}}),{name:"RaLoadingIndicator"});$r.propTypes={classes:wr.a.object,className:wr.a.string,width:wr.a.string};var tn=$r,useGetIdentity_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},useGetIdentity_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},rn={id:"",fullName:null},nn=function useGetIdentity(){var e=useSafeSetState({loading:!0,loaded:!1}),t=e[0],r=e[1],n=$t();return Object(a.useEffect)((function(){if(n&&"function"===typeof n.getIdentity){!function callAuthProvider(){useGetIdentity_awaiter(void 0,void 0,void 0,(function(){var e,t;return useGetIdentity_generator(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,n.getIdentity()];case 1:return e=a.sent(),r({loading:!1,loaded:!0,identity:e||rn}),[3,3];case 2:return t=a.sent(),r({loading:!1,loaded:!0,error:t}),[3,3];case 3:return[2]}}))}))}()}else r({loading:!1,loaded:!0,identity:rn})}),[n,r]),t},an=r(922),on=r(977),cn=r(476),ln=r(235),sn=r.n(ln),un=a.createElement(sn.a,null),dn=Object(Br.a)((function(e){return{user:{},userButton:{textTransform:"none"},avatar:{width:e.spacing(4),height:e.spacing(4)}}}),{name:"RaUserMenu"}),pn={vertical:"bottom",horizontal:"right"},fn={vertical:"top",horizontal:"right"},bn=function UserMenu(e){var t=Object(a.useState)(null),r=t[0],n=t[1],o=Ur(),i=nn(),c=i.loaded,l=i.identity,s=dn(e),u=e.children,d=e.label,p=void 0===d?"ra.auth.user_menu":d,f=e.icon,b=void 0===f?un:f,m=e.logout;if(!m&&!u)return null;var h=Boolean(r),y=function handleMenu(e){return n(e.currentTarget)},g=function handleClose(){return n(null)};return a.createElement("div",{className:s.user},c&&(null===l||void 0===l?void 0:l.fullName)?a.createElement(an.a,{"aria-label":p&&o(p,{_:p}),className:s.userButton,color:"inherit",startIcon:l.avatar?a.createElement(on.a,{className:s.avatar,src:l.avatar,alt:l.fullName}):b,onClick:y},l.fullName):a.createElement(_r.a,{title:p&&o(p,{_:p})},a.createElement(Dr.a,{"aria-label":p&&o(p,{_:p}),"aria-owns":h?"menu-appbar":null,"aria-haspopup":!0,color:"inherit",onClick:y},b)),a.createElement(cn.a,{id:"menu-appbar",disableScrollLock:!0,anchorEl:r,anchorOrigin:pn,transformOrigin:fn,getContentAnchorEl:null,open:h,onClose:g},a.Children.map(u,(function(e){return Object(a.isValidElement)(e)?Object(a.cloneElement)(e,{onClick:g}):null})),m))};bn.propTypes={children:wr.a.node,classes:wr.a.object,label:wr.a.string,logout:wr.a.element,icon:wr.a.node};var mn=bn,hn=r(962),yn=r(862);function HideOnScroll(e){var t=e.children,r=Object(hn.a)();return a.createElement(yn.a,{appear:!1,direction:"down",in:!r},t)}HideOnScroll.propTypes={children:wr.a.node.isRequired};var gn=HideOnScroll,AppBar_assign=function(){return(AppBar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},AppBar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},On=Object(Br.a)((function(e){return{toolbar:{paddingRight:24},menuButton:{marginLeft:"0.2em",marginRight:"0.2em"},menuButtonIconClosed:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(0deg)"},menuButtonIconOpen:{transition:e.transitions.create(["transform"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),transform:"rotate(180deg)"},title:{flex:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}}),{name:"RaAppBar"}),vn=function AppBar(e){var t=e.children,r=(e.classes,e.className),n=e.color,o=void 0===n?"secondary":n,i=e.logout,c=e.open,l=(e.title,e.userMenu),s=e.container,d=AppBar_rest(e,["children","classes","className","color","logout","open","title","userMenu","container"]),p=On(e),f=Object(u.e)(),b=Object(Nr.a)((function(e){return e.breakpoints.down("xs")})),m=Ur();return a.createElement(s,null,a.createElement(Ir.a,AppBar_assign({className:r,color:o},d),a.createElement(Fr.a,{disableGutters:!0,variant:b?"regular":"dense",className:p.toolbar},a.createElement(_r.a,{title:m(c?"ra.action.close_menu":"ra.action.open_menu",{_:"Open/Close menu"}),enterDelay:500},a.createElement(Dr.a,{color:"inherit",onClick:function onClick(){return f(function toggleSidebar(){return{type:M}}())},className:Sr()(p.menuButton)},a.createElement(Vr.a,{classes:{root:c?p.menuButtonIconOpen:p.menuButtonIconClosed}}))),0===a.Children.count(t)?a.createElement(Lr.a,{variant:"h6",color:"inherit",className:p.title,id:"react-admin-title"}):t,a.createElement(tn,null),"boolean"===typeof l?!0===l?a.createElement(mn,{logout:i}):null:Object(a.cloneElement)(l,{logout:i}))))};vn.propTypes={children:wr.a.node,classes:wr.a.object,className:wr.a.string,color:wr.a.oneOf(["default","inherit","primary","secondary","transparent"]),container:ComponentPropType,logout:wr.a.element,open:wr.a.bool,userMenu:wr.a.oneOfType([wr.a.element,wr.a.bool])},vn.defaultProps={userMenu:a.createElement(mn,null),container:gn};var jn=Object(a.memo)(vn),xn=r(963),wn=r(13),En=r.n(wn),Sn=function useLocale(){return Object(a.useContext)(Wt).locale},Sidebar_assign=function(){return(Sidebar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Sidebar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Pn=function Sidebar(e){var t=e.children,r=(e.closedSize,e.size,e.classes,Sidebar_rest(e,["children","closedSize","size","classes"])),n=Object(u.e)(),o=Object(Nr.a)((function(e){return e.breakpoints.down("xs")})),i=(Object(Nr.a)((function(e){return e.breakpoints.down("sm")})),Object(u.f)((function(e){return e.admin.ui.sidebarOpen})));Sn();var c=function toggleSidebar(){return n(W(!i))},l=Cn(Sidebar_assign(Sidebar_assign({},e),{open:i})),s=l.drawerPaper,d=Sidebar_rest(l,["drawerPaper"]);return o?a.createElement(xn.a,Sidebar_assign({variant:"temporary",open:i,PaperProps:{className:s},onClose:c,classes:d},r),t):a.createElement(xn.a,Sidebar_assign({variant:"permanent",open:i,PaperProps:{className:s},onClose:c,classes:d},r),t)};Pn.propTypes={children:wr.a.node.isRequired};var Cn=Object(Br.a)((function(e){var t;return{root:{},docked:{},paper:{},paperAnchorLeft:{},paperAnchorRight:{},paperAnchorTop:{},paperAnchorBottom:{},paperAnchorDockedLeft:{},paperAnchorDockedTop:{},paperAnchorDockedRight:{},paperAnchorDockedBottom:{},modal:{},drawerPaper:(t={position:"relative",height:"100%",overflowX:"hidden",width:function width(t){return t.open?En()(e,"sidebar.width",240):En()(e,"sidebar.closedWidth",55)},transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),backgroundColor:"transparent",borderRight:"none"},t[e.breakpoints.only("xs")]={marginTop:0,height:"100vh",position:"inherit",backgroundColor:e.palette.background.default},t[e.breakpoints.up("md")]={border:"none"},t.zIndex="inherit",t)}}),{name:"RaSidebar"}),An=Pn,Tn=r(468),kn=r.n(Tn),Rn=r(61),Nn=r.n(Rn),In=function useGetResourceLabel(){var e=Object(u.g)(),t=Ur();return function(r,n){void 0===n&&(n=2);var a=xt(e.getState()).find((function(e){return(null===e||void 0===e?void 0:e.name)===r}));return t("resources."+r+".name",{smart_count:n,_:a&&a.options&&a.options.label?t(a.options.label,{smart_count:n,_:a.options.label}):Nn.a.humanize(n>1?Nn.a.pluralize(r):Nn.a.singularize(r))})}},Fn=r(467),_n=r.n(Fn),Dn=r(31),Ln=r(924),Bn=r(925),MenuItemLink_assign=function(){return(MenuItemLink_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},MenuItemLink_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Mn=Object(a.forwardRef)((function(e,t){return o.a.createElement(Dn.b,MenuItemLink_assign({innerRef:t},e))})),Vn=Object(Br.a)((function(e){return{root:{color:e.palette.text.secondary},active:{color:e.palette.text.primary},icon:{minWidth:e.spacing(5)}}}),{name:"RaMenuItemLink"}),Wn=Object(a.forwardRef)((function(e,t){e.classes;var r=e.className,n=e.primaryText,i=e.leftIcon,c=e.onClick,l=(e.sidebarIsOpen,e.tooltipProps),s=MenuItemLink_rest(e,["classes","className","primaryText","leftIcon","onClick","sidebarIsOpen","tooltipProps"]),d=Vn(e),p=Object(u.e)(),f=Object(Nr.a)((function(e){return e.breakpoints.down("sm")})),b=Object(u.f)((function(e){return e.admin.ui.sidebarOpen})),m=Object(a.useCallback)((function(e){f&&p(W(!1)),c&&c(e)}),[p,f,c]),h=function renderMenuItem(){return o.a.createElement(Ln.a,MenuItemLink_assign({className:Sr()(d.root,r),activeClassName:d.active,component:Mn,ref:t,tabIndex:0},s,{onClick:m}),i&&o.a.createElement(Bn.a,{className:d.icon},Object(a.cloneElement)(i,{titleAccess:n})),n)};return b?h():o.a.createElement(_r.a,MenuItemLink_assign({title:n,placement:"right"},l),h())}));Wn.propTypes={classes:wr.a.object,className:wr.a.string,leftIcon:wr.a.element,onClick:wr.a.func,primaryText:wr.a.node,staticContext:wr.a.object,to:wr.a.oneOfType([wr.a.string,wr.a.object]).isRequired,sidebarIsOpen:wr.a.bool};var Un=Wn,DashboardMenuItem_assign=function(){return(DashboardMenuItem_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DashboardMenuItem_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},zn=function DashboardMenuItem(e){e.locale;var t=DashboardMenuItem_rest(e,["locale"]),r=Ur();return a.createElement(Un,DashboardMenuItem_assign({to:"/",primaryText:r("ra.page.dashboard"),leftIcon:a.createElement(_n.a,null),exact:!0},t))};zn.propTypes={classes:wr.a.object,locale:wr.a.string,onClick:wr.a.func,dense:wr.a.bool,sidebarIsOpen:wr.a.bool};var qn=zn,Menu_assign=function(){return(Menu_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Menu_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Gn=Object(Br.a)((function(e){var t;return{main:(t={display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:"0.5em"},t[e.breakpoints.only("xs")]={marginTop:0},t[e.breakpoints.up("md")]={marginTop:"1.5em"},t),open:{width:En()(e,"menu.width",240)},closed:{width:En()(e,"menu.closedWidth",55)}}}),{name:"RaMenu"}),Hn=function Menu(e){e.classes;var t,r=e.className,n=e.dense,o=e.hasDashboard,i=(e.onMenuClick,e.logout,Menu_rest(e,["classes","className","dense","hasDashboard","onMenuClick","logout"])),c=Gn(e),l=Object(u.f)((function(e){return e.admin.ui.sidebarOpen})),s=Object(u.f)(xt,u.d),d=In();return a.createElement("div",Menu_assign({className:Sr()(c.main,(t={},t[c.open]=l,t[c.closed]=!l,t),r)},i),o&&a.createElement(qn,{dense:n}),s.filter((function(e){return e.hasList})).map((function(e){return a.createElement(Un,{key:e.name,to:{pathname:"/"+e.name,state:{_scrollToTop:!0}},primaryText:d(e.name,2),leftIcon:e.icon?a.createElement(e.icon,null):a.createElement(kn.a,null),dense:n})})))};Hn.propTypes={classes:wr.a.object,className:wr.a.string,dense:wr.a.bool,hasDashboard:wr.a.bool,logout:wr.a.element,onMenuClick:wr.a.func},Hn.defaultProps={onMenuClick:function onMenuClick(){return null}};var Jn=Hn,Qn=r(974),Yn=r(422),Zn=new(r.n(Yn).a),Notification_assign=function(){return(Notification_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Notification_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Kn=Object(Br.a)((function(e){return{success:{backgroundColor:e.palette.success.main,color:e.palette.success.contrastText},error:{backgroundColor:e.palette.error.dark,color:e.palette.error.contrastText},warning:{backgroundColor:e.palette.error.light,color:e.palette.error.contrastText},undo:function undo(t){return{color:"success"===t.type?e.palette.success.contrastText:e.palette.primary.light}}}}),{name:"RaNotification"}),Xn=function Notification(e){e.classes;var t=e.type,r=e.className,n=e.autoHideDuration,o=Notification_rest(e,["classes","type","className","autoHideDuration"]),i=Object(a.useState)(!1),c=i[0],l=i[1],s=Object(u.f)(ot),d=Object(u.e)(),p=Ur(),f=Kn(e);Object(a.useEffect)((function(){l(!!s)}),[s]);var b=Object(a.useCallback)((function(){l(!1)}),[l]),m=Object(a.useCallback)((function(){s&&s.undoable&&(d(function complete(){return{type:Xe}}()),Zn.emit("end",{isUndo:!1})),d(Je())}),[d,s]),h=Object(a.useCallback)((function(){d(function undo(){return{type:Ke}}()),Zn.emit("end",{isUndo:!0})}),[d]);return a.createElement(Qn.a,Notification_assign({open:c,message:s&&s.message&&p(s.message,s.messageArgs),autoHideDuration:s&&s.autoHideDuration||n,disableWindowBlurListener:s&&s.undoable,onExited:m,onClose:b,ContentProps:{className:Sr()(f[s&&s.type||t],r)},action:s&&s.undoable?a.createElement(an.a,{color:"primary",className:f.undo,size:"small",onClick:h},p("ra.action.undo")):null},o))};Xn.propTypes={type:wr.a.string},Xn.defaultProps={type:"info",autoHideDuration:4e3};var $n=Xn,ea=r(421),ta=r.n(ea),ra=r(237),na=r.n(ra),Title_assign=function(){return(Title_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Title_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},aa=function Title(e){var t=e.className,r=e.defaultTitle,n=e.record,o=e.title,c=Title_rest(e,["className","defaultTitle","record","title"]),l=Ur(),s="undefined"!==typeof document?document.getElementById("react-admin-title"):null;if(!s)return null;util_warning();var u=o?"string"===typeof o?a.createElement("span",Title_assign({className:t},c),l(o,{_:o})):Object(a.cloneElement)(o,Title_assign({className:t,record:n},c)):a.createElement("span",Title_assign({className:t},c),r);return Object(i.createPortal)(u,s)},oa=wr.a.oneOfType([wr.a.string,wr.a.element]);aa.propTypes={defaultTitle:wr.a.string,className:wr.a.string,record:wr.a.any,title:oa};var ia=aa,Error_assign=function(){return(Error_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Error_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},ca=Object(Br.a)((function(e){var t;return{container:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},t[e.breakpoints.down("sm")]={padding:"1em"},t.fontFamily="Roboto, sans-serif",t.opacity=.5,t),title:{display:"flex",alignItems:"center"},icon:{width:"2em",height:"2em",marginRight:"0.5em"},panel:{marginTop:"1em",maxWidth:"60em"},panelDetails:{whiteSpace:"pre-wrap"},toolbar:{marginTop:"2em"},advice:{marginTop:"2em"}}}),{name:"RaError"});function goBack(){window.history.go(-1)}var la=function Error(e){e.error,e.errorInfo,e.classes;var t=e.className,r=e.title,n=Error_rest(e,["error","errorInfo","classes","className","title"]),o=ca(e),i=Ur();return a.createElement(a.Fragment,null,r&&a.createElement(ia,{defaultTitle:r}),a.createElement("div",Error_assign({className:Sr()(o.container,t)},n),a.createElement("h1",{className:o.title,role:"alert"},a.createElement(ta.a,{className:o.icon}),i("ra.page.error")),a.createElement("div",null,i("ra.message.error")),!1,a.createElement("div",{className:o.toolbar},a.createElement(an.a,{variant:"contained",startIcon:a.createElement(na.a,null),onClick:goBack},i("ra.action.back")))))};la.propTypes={classes:wr.a.object,className:wr.a.string,error:wr.a.oneOfType([wr.a.object,wr.a.string]).isRequired,errorInfo:wr.a.object,title:oa};var sa=la,Button_assign=function(){return(Button_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Button_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},ua=function Button(e){var t,r=e.alignIcon,n=void 0===r?"left":r,o=e.children,i=(e.classes,e.className),c=e.color,l=e.disabled,s=e.label,u=e.size,d=Button_rest(e,["alignIcon","children","classes","className","color","disabled","label","size"]),p=Ur(),f=da(e),b=Object(Nr.a)((function(e){return e.breakpoints.down("xs")})),m=pa(d);return b?s&&!l?a.createElement(_r.a,{title:p(s,{_:s})},a.createElement(Dr.a,Button_assign({"aria-label":p(s,{_:s}),className:i,color:c},m),o)):a.createElement(Dr.a,Button_assign({className:i,color:c,disabled:l},m),o):a.createElement(an.a,Button_assign({className:Sr()(f.button,i),color:c,size:u,"aria-label":s?p(s,{_:s}):void 0,disabled:l},m),"left"===n&&o&&a.cloneElement(o,{className:f[u+"Icon"]}),s&&a.createElement("span",{className:Sr()((t={},t[f.label]="left"===n,t[f.labelRightIcon]="left"!==n,t))},p(s,{_:s})),"right"===n&&o&&a.cloneElement(o,{className:f[u+"Icon"]}))},da=Object(Br.a)({button:{display:"inline-flex",alignItems:"center"},label:{paddingLeft:"0.5em"},labelRightIcon:{paddingRight:"0.5em"},smallIcon:{fontSize:20},mediumIcon:{fontSize:22},largeIcon:{fontSize:24}},{name:"RaButton"}),pa=function sanitizeButtonRestProps(e){e.basePath,e.handleSubmit,e.handleSubmitWithRedirect,e.invalid,e.onSave,e.pristine,e.record,e.redirect,e.resource,e.saving,e.submitOnEnter,e.undoable;return Button_rest(e,["basePath","handleSubmit","handleSubmitWithRedirect","invalid","onSave","pristine","record","redirect","resource","saving","submitOnEnter","undoable"])};ua.propTypes={alignIcon:wr.a.oneOf(["left","right"]),children:wr.a.element,classes:wr.a.object,className:wr.a.string,color:wr.a.oneOf(["default","inherit","primary","secondary"]),disabled:wr.a.bool,label:wr.a.string,size:wr.a.oneOf(["small","medium","large"])},ua.defaultProps={color:"primary",size:"small"};var fa=ua,ba=function skipToContent(){if("undefined"!==typeof document){var e=document.getElementById("main-content");e&&(e.setAttribute("tabIndex","-1"),e.focus(),e.blur(),e.removeAttribute("tabIndex"))}},ma=Object(Br.a)((function(e){return{skipToContentButton:{position:"fixed",padding:e.spacing(1),backgroundColor:e.palette.background.default,color:e.palette.getContrastText(e.palette.background.default),transition:e.transitions.create(["top","opacity"],{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.leavingScreen}),left:e.spacing(2),top:e.spacing(-10),zIndex:5e3,"&:hover":{opacity:.8,backgroundColor:e.palette.background.default},"&:focus":{top:e.spacing(2),transition:e.transitions.create(["top","opacity"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})}}}}),{name:"RaSkipToContentButton"}),ha=function SkipNavigationButton(){var e=ma(),t=Ur();return o.a.createElement(fa,{onClick:ba,className:Sr()(e.skipToContentButton,"skip-nav-button"),label:t("ra.navigation.skip_nav"),variant:"contained"})},ya=r(475),ga=ya.a,Oa=function(){var e=function extendStatics(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),Layout_assign=function(){return(Layout_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Layout_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},va=function(e){function LayoutWithoutTheme(t){var r=e.call(this,t)||this;return r.state={hasError:!1,errorMessage:null,errorInfo:null},t.history.listen((function(){r.state.hasError&&r.setState({hasError:!1})})),r}return Oa(LayoutWithoutTheme,e),LayoutWithoutTheme.prototype.componentDidCatch=function(e,t){this.setState({hasError:!0,errorMessage:e,errorInfo:t})},LayoutWithoutTheme.prototype.render=function(){var e=this.props,t=e.appBar,r=e.children,n=e.classes,i=e.className,c=e.error,l=e.dashboard,s=e.logout,u=e.menu,d=e.notification,p=e.open,f=e.sidebar,b=e.title,m=(e.match,e.location,e.history,e.staticContext,Layout_rest(e,["appBar","children","classes","className","error","dashboard","logout","menu","notification","open","sidebar","title","match","location","history","staticContext"])),h=this.state,y=h.hasError,g=h.errorMessage,O=h.errorInfo;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",Layout_assign({className:Sr()("layout",n.root,i)},m),o.a.createElement(ha,null),o.a.createElement("div",{className:n.appFrame},Object(a.createElement)(t,{title:b,open:p,logout:s}),o.a.createElement("main",{className:n.contentWithSidebar},Object(a.createElement)(f,{children:Object(a.createElement)(u,{logout:s,hasDashboard:!!l})}),o.a.createElement("div",{id:"main-content",className:n.content},y?Object(a.createElement)(c,{error:g,errorInfo:O,title:b}):r)))),Object(a.createElement)(d))},LayoutWithoutTheme.propTypes={appBar:ComponentPropType,children:wr.a.oneOfType([wr.a.func,wr.a.node]),classes:wr.a.object,className:wr.a.string,dashboard:ComponentPropType,error:ComponentPropType,history:wr.a.object.isRequired,logout:wr.a.element,menu:ComponentPropType,notification:ComponentPropType,open:wr.a.bool,sidebar:ComponentPropType,title:wr.a.node.isRequired},LayoutWithoutTheme.defaultProps={appBar:jn,error:sa,menu:Jn,notification:$n,sidebar:An},LayoutWithoutTheme}(a.Component),ja=Rr()(Object(u.c)((function mapStateToProps(e){return{open:e.admin.ui.sidebarOpen}}),{}),Zt.j,Object(Cr.a)((function styles(e){var t,r;return Object(Pr.a)({root:{display:"flex",flexDirection:"column",zIndex:1,minHeight:"100vh",backgroundColor:e.palette.background.default,position:"relative",minWidth:"fit-content",width:"100%",color:e.palette.getContrastText(e.palette.background.default)},appFrame:(t={display:"flex",flexDirection:"column",flexGrow:1},t[e.breakpoints.up("xs")]={marginTop:e.spacing(6)},t[e.breakpoints.down("xs")]={marginTop:e.spacing(7)},t),contentWithSidebar:{display:"flex",flexGrow:1},content:(r={display:"flex",flexDirection:"column",flexGrow:1,flexBasis:0,padding:e.spacing(3),paddingTop:e.spacing(1),paddingLeft:0},r[e.breakpoints.up("xs")]={paddingLeft:5},r[e.breakpoints.down("sm")]={padding:0},r)})}),{name:"RaLayout"}))(va),xa=function Layout(e){var t=e.theme,r=Layout_rest(e,["theme"]),n=Object(a.useRef)(t),i=Object(a.useState)((function(){return ga(t)})),c=i[0],l=i[1];return Object(a.useEffect)((function(){n.current!==t&&(n.current=t,l(ga(t)))}),[t,n,c,l]),o.a.createElement(Ar.a,{theme:c},o.a.createElement(ja,Layout_assign({},r)))};xa.propTypes={theme:wr.a.object},xa.defaultProps={theme:s};var wa=xa,Ea=r(469),Sa=r.n(Ea),NotFound_assign=function(){return(NotFound_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},NotFound_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Pa=Object(Br.a)((function(e){var t;return{container:(t={display:"flex",flexDirection:"column",justifyContent:"center"},t[e.breakpoints.up("md")]={height:"100%"},t[e.breakpoints.down("sm")]={height:"100vh",marginTop:"-3em"},t),icon:{width:"9em",height:"9em"},message:{textAlign:"center",fontFamily:"Roboto, sans-serif",opacity:.5,margin:"0 1em"},toolbar:{textAlign:"center",marginTop:"2em"}}}),{name:"RaNotFound"});function NotFound_goBack(){window.history.go(-1)}var Ca=function NotFound(e){var t=e.className,r=(e.classes,e.title),n=NotFound_rest(e,["className","classes","title"]),o=Pa(e),i=Ur();return useAuthenticated(),a.createElement("div",NotFound_assign({className:Sr()(o.container,t)},Aa(n)),a.createElement(ia,{defaultTitle:r}),a.createElement("div",{className:o.message},a.createElement(Sa.a,{className:o.icon}),a.createElement("h1",null,i("ra.page.not_found")),a.createElement("div",null,i("ra.message.not_found"),".")),a.createElement("div",{className:o.toolbar},a.createElement(an.a,{variant:"contained",startIcon:a.createElement(na.a,null),onClick:NotFound_goBack},i("ra.action.back"))))},Aa=function sanitizeRestProps(e){e.staticContext,e.history,e.location,e.match;return NotFound_rest(e,["staticContext","history","location","match"])};Ca.propTypes={className:wr.a.string,classes:wr.a.object,title:wr.a.string,location:wr.a.object};var Ta=Ca,ka=Object(Br.a)((function(e){var t;return{container:(t={display:"flex",flexDirection:"column",justifyContent:"center"},t[e.breakpoints.up("md")]={height:"100%"},t[e.breakpoints.down("lg")]={height:"100vh",marginTop:"-3em"},t),icon:{width:"9em",height:"9em"},message:{textAlign:"center",fontFamily:"Roboto, sans-serif",opacity:.5,margin:"0 1em"}}}),{name:"RaLoading"}),Ra=function Loading(e){var t=e.className,r=e.loadingPrimary,n=void 0===r?"ra.page.loading":r,o=e.loadingSecondary,i=void 0===o?"ra.message.loading":o,c=ka(e),l=Ur();return a.createElement("div",{className:Sr()(c.container,t)},a.createElement("div",{className:c.message},a.createElement(qr.a,{className:c.icon,color:"primary"}),a.createElement("h1",null,l(n)),a.createElement("div",null,l(i),".")))};Ra.propTypes={classes:wr.a.object,className:wr.a.string,loadingPrimary:wr.a.string,loadingSecondary:wr.a.string},Ra.defaultProps={loadingPrimary:"ra.page.loading",loadingSecondary:"ra.message.loading"};var Na=Ra,LoadingPage_assign=function(){return(LoadingPage_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},LoadingPage_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ia=function LoadingPage(e){var t=e.theme,r=LoadingPage_rest(e,["theme"]);return a.createElement(Ar.a,{theme:t},a.createElement(Na,LoadingPage_assign({},r)))};Ia.propTypes={theme:wr.a.object,classes:wr.a.object,className:wr.a.string,loadingPrimary:wr.a.string,loadingSecondary:wr.a.string},Ia.defaultProps={theme:ga({}),loadingPrimary:"ra.page.loading",loadingSecondary:"ra.message.loading"};var Fa=Ia,_a=r(937),Da=r(470),La=r.n(Da),Ba=r(56),Ma=r(932),Va=r(954),Wa=function useLogin(){var e=$t(),t=Object(Zt.h)().state,r=Object(Zt.g)(),n=Object(u.e)(),o=t&&t.nextPathname,i=t&&t.nextSearch,c=Object(a.useCallback)((function(t,a){return void 0===t&&(t={}),e.login(t).then((function(e){n(Ye());var t=a||(o+i||Xt);return r.push(t),e}))}),[e,r,o,i,n]),l=Object(a.useCallback)((function(e,t){return n(Ye()),r.push(Xt),Promise.resolve()}),[r,n]);return e?c:l},LoginForm_assign=function(){return(LoginForm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},LoginForm_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ua=Object(Br.a)((function(e){return{form:{padding:"0 1em 1em 1em"},input:{marginTop:"1em"},button:{width:"100%"},icon:{marginRight:e.spacing(1)}}}),{name:"RaLoginForm"}),za=function Input(e){var t=e.meta,r=t.touched,n=t.error,o=e.input,i=LoginForm_rest(e,["meta","input"]);return a.createElement(Ma.a,LoginForm_assign({error:!(!r||!n),helperText:r&&n},o,i,{fullWidth:!0}))},qa=function LoginForm(e){var t=e.redirectTo,r=useSafeSetState(!1),n=r[0],o=r[1],i=Wa(),c=Ur(),l=tr(),s=Ua(e);return a.createElement(Ba.b,{onSubmit:function submit(e){o(!0),i(e,t).then((function(){o(!1)})).catch((function(e){o(!1),l("string"===typeof e?e:"undefined"!==typeof e&&e.message?e.message:"ra.auth.sign_in_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}))},validate:function validate(e){var t={username:void 0,password:void 0};return e.username||(t.username=c("ra.validation.required")),e.password||(t.password=c("ra.validation.required")),t},render:function render(e){var t=e.handleSubmit;return a.createElement("form",{onSubmit:t,noValidate:!0},a.createElement("div",{className:s.form},a.createElement("div",{className:s.input},a.createElement(Ba.a,{autoFocus:!0,id:"username",name:"username",component:za,label:c("ra.auth.username"),disabled:n})),a.createElement("div",{className:s.input},a.createElement(Ba.a,{id:"password",name:"password",component:za,label:c("ra.auth.password"),type:"password",disabled:n,autoComplete:"current-password"}))),a.createElement(Va.a,null,a.createElement(an.a,{variant:"contained",type:"submit",color:"primary",disabled:n,className:s.button},n&&a.createElement(qr.a,{className:s.icon,size:18,thickness:2}),c("ra.auth.sign_in"))))}})};qa.propTypes={redirectTo:wr.a.string};var Ga=qa,Login_assign=function(){return(Login_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Login_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ha=Object(Br.a)((function(e){return{main:{display:"flex",flexDirection:"column",minHeight:"100vh",height:"1px",alignItems:"center",justifyContent:"flex-start",backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:"radial-gradient(circle at 50% 14em, #313264 0%, #00023b 60%, #00023b 100%)"},card:{minWidth:300,marginTop:"6em"},avatar:{margin:"1em",display:"flex",justifyContent:"center"},icon:{backgroundColor:e.palette.secondary[500]}}}),{name:"RaLogin"}),Ja=function Login(e){var t=e.theme,r=(e.title,e.classes,e.className),n=e.children,i=e.notification,c=(e.staticContext,e.backgroundImage),l=Login_rest(e,["theme","title","classes","className","children","notification","staticContext","backgroundImage"]),s=Object(a.useRef)(),u=Ha(e),d=Object(a.useMemo)((function(){return ga(t)}),[t]),p=!1,f=ar(),b=Object(Zt.g)();Object(a.useEffect)((function(){f({},!1).then((function(){b.push("/")})).catch((function(){}))}),[f,b]);var m=function updateBackgroundImage(){!p&&s.current&&(s.current.style.backgroundImage="url("+c+")",p=!0)};return Object(a.useEffect)((function(){p||function lazyLoadBackgroundImage(){if(c){var e=new Image;e.onload=m,e.src=c}}()})),o.a.createElement(Ar.a,{theme:d},o.a.createElement("div",Login_assign({className:Sr()(u.main,r)},l,{ref:s}),o.a.createElement(_a.a,{className:u.card},o.a.createElement("div",{className:u.avatar},o.a.createElement(on.a,{className:u.icon},o.a.createElement(La.a,null))),n),i?Object(a.createElement)(i):null))};Ja.propTypes={backgroundImage:wr.a.string,children:wr.a.node,classes:wr.a.object,className:wr.a.string,theme:wr.a.object,staticContext:wr.a.object},Ja.defaultProps={theme:s,children:o.a.createElement(Ga,null),notification:$n};var Qa=Ja,Ya=r(420),Za=r.n(Ya),Logout_assign=function(){return(Logout_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Logout_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ka=Object(Br.a)((function(e){return{menuItem:{color:e.palette.text.secondary},icon:{minWidth:e.spacing(5)}}}),{name:"RaLogout"}),Xa=a.forwardRef((function Logout(e,t){var r=e.className,n=(e.classes,e.redirectTo),o=e.icon,i=Logout_rest(e,["className","classes","redirectTo","icon"]),c=Ka(e),l=Object(Nr.a)((function(e){return e.breakpoints.down("xs")})),s=Ur(),u=er(),d=Object(a.useCallback)((function(){return u(null,n,!1)}),[n,u]);return a.createElement(Ln.a,Logout_assign({className:Sr()("logout",c.menuItem,r),onClick:d,ref:t,component:l?"span":"li"},i),a.createElement(Bn.a,{className:c.icon},o||a.createElement(Za.a,null)),s("ra.auth.logout"))}));Xa.propTypes={className:wr.a.string,redirectTo:wr.a.string,icon:wr.a.element};var $a=Xa,AdminUI_assign=function(){return(AdminUI_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},eo=function AdminUI(e){return a.createElement(jr,AdminUI_assign({},e))};eo.defaultProps={layout:wa,catchAll:Ta,loading:Fa,loginPage:Qa,logout:$a};var to,ro=eo,no=function Admin(e){var t=e.appLayout,r=e.authProvider,n=e.catchAll,o=e.children,i=e.customReducers,c=e.customRoutes,l=void 0===c?[]:c,s=e.customSagas,u=e.dashboard,d=e.dataProvider,p=e.disableTelemetry,f=e.history,b=e.i18nProvider,m=e.initialState,h=e.layout,y=e.loading,g=(e.locale,e.loginPage),O=e.logoutButton,v=e.menu,j=e.ready,x=e.theme,w=e.title,E=void 0===w?"React Admin":w;return a.createElement(Yt,{authProvider:r,dataProvider:d,i18nProvider:b,history:f,customReducers:i,customSagas:s,initialState:m},a.createElement(ro,{layout:t||h,customRoutes:l,dashboard:u,disableTelemetry:p,menu:v,catchAll:n,theme:x,title:E,loading:y,loginPage:g,logout:r?O:void 0,ready:j},o))},ao=Object(a.createContext)(void 0),oo=function ResourceContextProvider(e){var t=e.children,r=e.value;return a.createElement(ao.Provider,{value:r},t)},Resource_assign=function(){return(Resource_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Resource_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},io={},co=function ResourceRegister(e){var t=e.name,r=e.list,n=e.create,o=e.edit,i=e.show,c=e.icon,l=e.options,s=void 0===l?io:l,d=Object(u.e)();return Object(a.useEffect)((function(){return d(function registerResource(e){return{type:L,payload:e}}({name:t,options:s,hasList:!!r,hasEdit:!!o,hasShow:!!i,hasCreate:!!n,icon:c})),function(){return d(function unregisterResource(e){return{type:B,payload:e}}(t))}}),[d,t,n,o,c,r,i,s]),null},lo=function ResourceRoutes(e){var t=e.name,r=e.match,n=e.list,o=e.create,i=e.edit,c=e.show,l=e.options,s=void 0===l?io:l,d=Object(u.f)((function(e){return!!e.admin.resources[t]})),p=r?r.path:"",f=Object(a.useMemo)((function(){return{resource:t,options:s,hasList:!!n,hasEdit:!!i,hasShow:!!c,hasCreate:!!o}}),[t,s,o,i,n,c]);return Object(a.useMemo)((function(){return d?a.createElement(oo,{value:t},a.createElement(Zt.d,null,o&&a.createElement(Zt.b,{path:p+"/create",render:function render(e){return a.createElement(pr,Resource_assign({component:o,basePath:p},e,f))}}),c&&a.createElement(Zt.b,{path:p+"/:id/show",render:function render(e){return a.createElement(pr,Resource_assign({component:c,basePath:p,id:decodeURIComponent(e.match.params.id)},e,f))}}),i&&a.createElement(Zt.b,{path:p+"/:id",render:function render(e){return a.createElement(pr,Resource_assign({component:i,basePath:p,id:decodeURIComponent(e.match.params.id)},e,f))}}),n&&a.createElement(Zt.b,{path:""+p,render:function render(e){return a.createElement(pr,Resource_assign({component:n,basePath:p},e,f,{syncWithLocation:!0}))}}))):null}),[p,t,o,i,n,c,s,d])},so=function Resource(e){var t=e.intent,r=void 0===t?"route":t,n=Resource_rest(e,["intent"]);return"registration"===r?a.createElement(co,Resource_assign({},n)):a.createElement(lo,Resource_assign({},n))},uo=function useCheckMinimumRequiredProps(e,t,r){var n=Object.keys(r),a=t.filter((function(e){return!n.includes(e)}));if(a.length>0)throw new Error("<"+e+"> component is not properly configured, some essential props are missing.\nBe sure to pass the props from the parent. Example:\n\nconst My"+e+" = props => (\n    <"+e+" {...props}></"+e+">\n);\n\nThe missing props are: "+a.join(", "))},po=r(193),fo=r(170),bo=r.n(fo),mo=r(71),ho=r.n(mo),removeEmpty_assign=function(){return(removeEmpty_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},yo=function removeEmpty(e){return Object.keys(e).reduce((function(t,r){var n,a=e[r];return function isObject(e){return e&&"[object Object]"===Object.prototype.toString.call(e)}(e[r])&&(a=removeEmpty(e[r])),function isEmpty(e){return!(e instanceof Date)&&(""===e||null===e||void 0===e||Object(u.d)(e,{}))}(a)?t:removeEmpty_assign(removeEmpty_assign({},t),((n={})[r]=a,n))}),{})},go=function removeKey(e,t){return Object.keys(e).reduce((function(r,n){var a;return n!==t?Object.assign({},r,((a={})[n]=e[n],a)):r}),{})},Oo=function deepRemoveKey(e,t){var r,n=t.split(".");if(1===n.length)return go(e,t);var a=n[0];if(void 0===e[a])return e;var o=deepRemoveKey(e[a],n.slice(1).join("."));return 0===Object.keys(o).length?go(e,a):Object.assign({},e,((r={})[a]=o,r))},queryReducer_assign=function(){return(queryReducer_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},vo="SET_SORT",jo="ASC",xo="DESC",wo="SET_PAGE",Eo="SET_PER_PAGE",So="SET_FILTER",Po="SHOW_FILTER",Co="HIDE_FILTER",Ao=function oppositeOrder(e){return e===xo?jo:xo},To=function queryReducer(e,t){var r;switch(t.type){case vo:return t.payload.sort===e.sort?queryReducer_assign(queryReducer_assign({},e),{order:Ao(e.order),page:1}):queryReducer_assign(queryReducer_assign({},e),{sort:t.payload.sort,order:t.payload.order||jo,page:1});case wo:return queryReducer_assign(queryReducer_assign({},e),{page:t.payload});case Eo:return queryReducer_assign(queryReducer_assign({},e),{page:1,perPage:t.payload});case So:return queryReducer_assign(queryReducer_assign({},e),{page:1,filter:t.payload.filter,displayedFilters:t.payload.displayedFilters?t.payload.displayedFilters:e.displayedFilters});case Po:return e.displayedFilters&&e.displayedFilters[t.payload.filterName]?e:queryReducer_assign(queryReducer_assign({},e),{filter:"undefined"!==typeof t.payload.defaultValue?ho()(e.filter,t.payload.filterName,t.payload.defaultValue):e.filter,displayedFilters:queryReducer_assign(queryReducer_assign({},e.displayedFilters),(r={},r[t.payload.filterName]=!0,r))});case Co:return queryReducer_assign(queryReducer_assign({},e),{filter:yo(Oo(e.filter,t.payload)),displayedFilters:e.displayedFilters?Object.keys(e.displayedFilters).reduce((function(e,r){var n;return r!==t.payload?queryReducer_assign(queryReducer_assign({},e),((n={})[r]=!0,n)):e}),{}):e.displayedFilters});default:return e}},useListParams_assign=function(){return(useListParams_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ko={},Ro={field:"id",order:jo},No={},Io=["page","perPage","sort","order","filter","displayedFilters"],Fo=function parseObject(e,t){if(e[t]&&"string"===typeof e[t])try{e[t]=JSON.parse(e[t])}catch(r){delete e[t]}},_o=function parseQueryFromLocation(e){var t=e.search,r=X()(Object(po.parse)(t),(function(e,t){return-1!==Io.indexOf(t)}));return Fo(r,"filter"),Fo(r,"displayedFilters"),r},Do=function getQuery(e){var t=e.queryFromLocation,r=e.params,n=e.filterDefaultValues,a=e.sort,o=e.perPage,i=Object.keys(t).length>0?t:function hasCustomParams(e){return e&&e.filter&&(Object.keys(e.filter).length>0||null!=e.order||1!==e.page||null!=e.perPage||null!=e.sort)}(r)?useListParams_assign({},r):{filter:n||{}};return i.sort||(i.sort=a.field,i.order=a.order),null==i.perPage&&(i.perPage=o),null==i.page&&(i.page=1),useListParams_assign(useListParams_assign({},i),{page:Lo(i.page,1),perPage:Lo(i.perPage,10)})},Lo=function getNumberOrDefault(e,t){var r="string"===typeof e?parseInt(e,10):e;return isNaN(r)?t:r},Bo=function useListParams(e){var t=e.resource,r=e.filterDefaultValues,n=e.sort,o=void 0===n?Ro:n,i=e.perPage,c=void 0===i?10:i,l=e.debounce,s=void 0===l?500:l,d=e.syncWithLocation,p=void 0!==d&&d,f=Object(u.e)(),b=Object(Zt.h)(),m=Object(Zt.g)(),h=Object(a.useState)(No),y=h[0],g=h[1],O=Object(u.f)((function(e){return e.admin.resources[t]?e.admin.resources[t].list.params:No}),u.d),v=Object(a.useRef)(),j=[b.search,t,p?O:y,r,JSON.stringify(o),c,p],x=p?_o(b):{},w=Object(a.useMemo)((function(){return Do({queryFromLocation:x,params:p?O:y,filterDefaultValues:r,sort:o,perPage:c})}),j);Object(a.useEffect)((function(){Object.keys(x).length>0&&f(me(t,w))}),[]);var E=Object(a.useCallback)((function(e){v.current?v.current=To(v.current,e):(v.current=To(w,e),setTimeout((function(){p?(m.push({search:"?"+Object(po.stringify)(useListParams_assign(useListParams_assign({},v.current),{filter:JSON.stringify(v.current.filter),displayedFilters:JSON.stringify(v.current.displayedFilters)})),state:{_scrollToTop:e.type===wo}}),f(me(t,v.current))):g(v.current),v.current=void 0}),0))}),j),S=Object(a.useCallback)((function(e,t){return E({type:vo,payload:{sort:e,order:t}})}),j),P=Object(a.useCallback)((function(e){return E({type:wo,payload:e})}),j),C=Object(a.useCallback)((function(e){return E({type:Eo,payload:e})}),j),A=w.filter||ko,T=w.displayedFilters||ko,k=bo()((function(e,t){E({type:So,payload:{filter:yo(e),displayedFilters:t}})}),s),R=Object(a.useCallback)((function(e,t,r){return void 0===r&&(r=!0),r?k(e,t):E({type:So,payload:{filter:yo(e),displayedFilters:t}})}),j),N=Object(a.useCallback)((function(e){E({type:Co,payload:e})}),j),I=Object(a.useCallback)((function(e,t){E({type:Po,payload:{filterName:e,defaultValue:t}})}),j);return[useListParams_assign({displayedFilters:T,filterValues:A,requestSignature:j},w),{changeParams:E,setPage:P,setPerPage:C,setSort:S,setFilters:R,hideFilter:N,showFilter:I}]},Mo=[],Vo=function useRecordSelection(e){var t=Object(u.e)();return[Object(u.f)((function(t){return t.admin.resources[e]?t.admin.resources[e].list.selectedIds:Mo}),u.d),Object(a.useMemo)((function(){return{select:function select(r){t(ye(e,r))},toggle:function toggle(r){t(function toggleListItem(e,t){return{type:ge,payload:t,meta:{resource:e}}}(e,r))},clearSelection:function clearSelection(){t(ye(e,[]))}}}),[t,e])]},Wo={create:function create(){return Promise.resolve({data:null})},delete:function _delete(){return Promise.resolve({data:null})},deleteMany:function deleteMany(){return Promise.resolve({data:[]})},getList:function getList(){return Promise.resolve({data:[],total:0})},getMany:function getMany(){return Promise.resolve({data:[]})},getManyReference:function getManyReference(){return Promise.resolve({data:[],total:0})},getOne:function getOne(){return Promise.resolve({data:null})},update:function update(){return Promise.resolve({data:null})},updateMany:function updateMany(){return Promise.resolve({data:[]})}},useLogoutIfAccessDenied_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},useLogoutIfAccessDenied_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Uo=function logoutIfAccessDeniedWithoutProvider(){return Promise.resolve(!1)},zo=function useLogoutIfAccessDenied(){var e=$t(),t=er(),r=tr(),n=Object(Zt.g)(),o=Object(a.useCallback)((function(a,o){return e.checkError(a).then((function(){return!1})).catch((function(i){return useLogoutIfAccessDenied_awaiter(void 0,void 0,void 0,(function(){var c,l,s;return useLogoutIfAccessDenied_generator(this,(function(u){return c=null===(s=null===i||void 0===i?void 0:i.logoutUser)||void 0===s||s,to||(to=setTimeout((function(){to=void 0}),0),!(o||i&&!1===i.message||a&&!1===a.message)&&e.checkAuth({}).then((function(){r(c?"ra.notification.logged_out":"ra.notification.not_authorized","warning")})).catch((function(){})),l=i&&i.redirectTo?i.redirectTo:a&&a.redirectTo?a.redirectTo:void 0,c?t({},l):n.push(l)),[2,!0]}))}))}))}),[e,t,r,n]);return e?o:Uo},getDataProviderCallArguments_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},qo=["action","fetch","meta","onFailure","onSuccess","undoable","mutationMode","enabled"],Go=function getDataProviderCallArguments(e){var t,r,n,a=e[e.length-1],o=getDataProviderCallArguments_spreadArrays(e);return function isDataProviderOptions(e){if("undefined"===typeof e)return[];var t=e;return Object.keys(t).some((function(e){return qo.includes(e)}))}(a)&&(n=a,o=o.slice(0,e.length-1)),"string"===typeof o[0]&&(t=o[0],r=o[1]),{resource:t,payload:r,allArguments:o,options:n}},getFetchType=function(e){switch(e){case"getList":return y;case"getOne":return g;case"getMany":return O;case"getManyReference":return v;case"create":return j;case"update":return x;case"updateMany":return w;case"delete":return E;case"deleteMany":return S;default:return e}},performOptimisticQuery_assign=function(){return(performOptimisticQuery_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},performUndoableQuery_assign=function(){return(performUndoableQuery_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ho=function warnBeforeClosingWindow(e){return e.preventDefault(),e.returnValue="","Your latest modifications are not yet sent to the server. Are you sure?"},performPessimisticQuery_assign=function(){return(performPessimisticQuery_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},answerWithCache_assign=function(){return(answerWithCache_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Jo=function answerWithCache(e){var t=e.type,r=e.payload,n=e.resource,a=e.action,o=e.rest,i=e.onSuccess,c=e.resourceState,l=e.dispatch;l({type:a,payload:r,meta:answerWithCache_assign({resource:n},o)});var s=function getResultFromCache(e,t,r){switch(e){case"getList":var n=r.data,a=JSON.stringify(t),o=r.list.cachedRequests[a];return{data:o.ids.map((function(e){return n[e]})),total:o.total};case"getOne":return{data:r.data[t.id]};case"getMany":return{data:t.ids.map((function(e){return r.data[e]}))};default:throw new Error("cannot reply with cache for this method")}}(t,r,c);return l({type:a+"_SUCCESS",payload:s,requestPayload:r,meta:answerWithCache_assign(answerWithCache_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Q,fromCache:!0})}),i&&i(s),Promise.resolve(s)},Qo=function doQuery(e){var t=e.type,r=e.payload,n=e.resource,a=e.action,o=e.rest,i=e.onSuccess,c=e.onFailure,l=e.dataProvider,s=e.dispatch,u=e.logoutIfAccessDenied,d=e.allArguments,p=e.store,f=e.mutationMode,b=p.getState().admin.resources[n];return function canReplyWithCache(e,t,r){var n=new Date;switch(e){case"getList":return En()(r,["list","cachedRequests",JSON.stringify(t),"validity"])>n;case"getOne":return r&&r.validity&&r.validity[t.id]>n;case"getMany":return r&&r.validity&&t.ids.every((function(e){return r.validity[e]>n}));default:return!1}}(t,r,b)?Jo({type:t,payload:r,resource:n,action:a,rest:o,onSuccess:i,resourceState:b,dispatch:s}):"optimistic"===f?function performOptimisticQuery(e){var t=e.type,r=e.payload,n=e.resource,a=e.action,o=e.rest,i=e.onSuccess,c=e.onFailure,l=e.dataProvider,s=e.dispatch,u=e.logoutIfAccessDenied,d=e.allArguments;return s(et()),s({type:a,payload:r,meta:performOptimisticQuery_assign({resource:n},o)}),s({type:a+"_OPTIMISTIC",payload:r,meta:{resource:n,fetch:getFetchType(t),optimistic:!0}}),i&&i({}),setTimeout((function(){s(rt()),s({type:a+"_LOADING",payload:r,meta:performOptimisticQuery_assign({resource:n},o)}),s({type:J});try{l[t].apply(l,"undefined"!==typeof n?[n,r]:d).then((function(e){s({type:a+"_SUCCESS",payload:e,requestPayload:r,meta:performOptimisticQuery_assign(performOptimisticQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Q})}),s({type:Q}),ti()})).catch((function(e){return u(e).then((function(i){i||(s({type:a+"_FAILURE",error:e.message?e.message:e,payload:e.body?e.body:null,requestPayload:r,meta:performOptimisticQuery_assign(performOptimisticQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Y})}),s({type:Y,error:e}),c&&c(e))}))}))}catch(e){throw new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}})),Promise.resolve({})}({type:t,payload:r,resource:n,action:a,rest:o,onSuccess:i,onFailure:c,dataProvider:l,dispatch:s,logoutIfAccessDenied:u,allArguments:d}):"undoable"===f?function performUndoableQuery(e){var t=e.type,r=e.payload,n=e.resource,a=e.action,o=e.rest,i=e.onSuccess,c=e.onFailure,l=e.dataProvider,s=e.dispatch,u=e.logoutIfAccessDenied,d=e.allArguments;return s(et()),window&&window.addEventListener("beforeunload",Ho,{capture:!0}),s({type:a,payload:r,meta:performUndoableQuery_assign({resource:n},o)}),s({type:a+"_OPTIMISTIC",payload:r,meta:{resource:n,fetch:getFetchType(t),optimistic:!0}}),i&&i({}),Zn.once("end",(function(e){var i=e.isUndo;if(s(rt()),i)return s(Ge("ra.notification.canceled")),s(z()),void(window&&window.removeEventListener("beforeunload",Ho,{capture:!0}));s({type:a+"_LOADING",payload:r,meta:performUndoableQuery_assign({resource:n},o)}),s({type:J});try{l[t].apply(l,"undefined"!==typeof n?[n,r]:d).then((function(e){s({type:a+"_SUCCESS",payload:e,requestPayload:r,meta:performUndoableQuery_assign(performUndoableQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Q})}),s({type:Q}),window&&window.removeEventListener("beforeunload",Ho,{capture:!0}),ti()})).catch((function(e){return window&&window.removeEventListener("beforeunload",Ho,{capture:!0}),u(e).then((function(i){i||(s({type:a+"_FAILURE",error:e.message?e.message:e,payload:e.body?e.body:null,requestPayload:r,meta:performUndoableQuery_assign(performUndoableQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Y})}),s({type:Y,error:e}),c&&c(e))}))}))}catch(p){throw new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}})),Promise.resolve({})}({type:t,payload:r,resource:n,action:a,rest:o,onSuccess:i,onFailure:c,dataProvider:l,dispatch:s,logoutIfAccessDenied:u,allArguments:d}):function performPessimisticQuery(e){var t=e.type,r=e.payload,n=e.resource,a=e.action,o=e.rest,i=e.onSuccess,c=e.onFailure,l=e.dataProvider,s=e.dispatch,u=e.logoutIfAccessDenied,d=e.allArguments;s({type:a,payload:r,meta:performPessimisticQuery_assign({resource:n},o)}),s({type:a+"_LOADING",payload:r,meta:performPessimisticQuery_assign({resource:n},o)}),s({type:J});try{return l[t].apply(l,"undefined"!==typeof n?[n,r]:d).then((function(e){return s({type:a+"_SUCCESS",payload:e,requestPayload:r,meta:performPessimisticQuery_assign(performPessimisticQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Q})}),s({type:Q}),i&&i(e),e})).catch((function(e){return u(e).then((function(i){if(!i)throw s({type:a+"_FAILURE",error:e.message?e.message:e,payload:e.body?e.body:null,requestPayload:r,meta:performPessimisticQuery_assign(performPessimisticQuery_assign({},o),{resource:n,fetchResponse:getFetchType(t),fetchStatus:Y})}),s({type:Y,error:e}),c&&c(e),e}))}))}catch(p){throw new Error("The dataProvider threw an error. It should return a rejected Promise instead.")}}({type:t,payload:r,resource:n,action:a,rest:o,onSuccess:i,onFailure:c,dataProvider:l,dispatch:s,logoutIfAccessDenied:u,allArguments:d})},stackedCalls_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},stackedCalls_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},stackedCalls_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Yo=0,Zo=function getRemainingStackedCalls(){return Yo},Ko=[],Xo=function stackCall(e){Ko.push(e),Yo++},$o=[],ei=function stackOptimisticCall(e){$o.push(e),Yo++},ti=function replayStackedCalls(){return stackedCalls_awaiter(void 0,void 0,void 0,(function(){var e;return stackedCalls_generator(this,(function(t){switch(t.label){case 0:return $o.length>0?(e=stackedCalls_spreadArrays($o),$o.splice(0,$o.length),[4,Promise.all(e.map((function(e){return Promise.resolve(Qo.call(null,e))})))]):[3,2];case 1:return t.sent(),Yo-=e.length,[3,4];case 2:return e=stackedCalls_spreadArrays(Ko),Ko.splice(0,Ko.length),[4,Promise.all(e.map((function(e){return Promise.resolve(Qo.call(null,e))})))];case 3:t.sent(),Yo-=e.length,t.label=4;case 4:return[2]}}))}))},useDataProvider_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},ri=function waitFor(e){return new Promise((function(t){return e()?t():function later(e){return void 0===e&&(e=100),new Promise((function(t){setTimeout(t,e)}))}().then((function(){return waitFor(e).then((function(){return t()}))}))}))},ni=function useDataProvider(){var e=Object(u.e)(),t=Object(a.useContext)(N)||Wo,r=Object(u.f)((function(e){return e.admin.ui.optimistic})),n=Object(u.g)(),o=zo();return Object(a.useMemo)((function(){return new Proxy(t,{get:function get(a,i){if("symbol"!==typeof i)return function(){for(var a=[],c=0;c<arguments.length;c++)a[c]=arguments[c];var l=Go(a),s=l.resource,u=l.payload,d=l.allArguments,p=l.options,f=i.toString(),b=p||{},m=b.action,h=void 0===m?"CUSTOM_FETCH":m,y=b.undoable,g=void 0!==y&&y,O=b.onSuccess,v=void 0===O?void 0:O,j=b.onFailure,x=void 0===j?void 0:j,w=b.mutationMode,E=void 0===w?g?"undoable":"pessimistic":w,S=b.enabled,P=void 0===S||S,C=useDataProvider_rest(b,["action","undoable","onSuccess","onFailure","mutationMode","enabled"]);if("function"!==typeof t[f])throw new Error("Unknown dataProvider function: "+f);if(v&&"function"!==typeof v)throw new Error("The onSuccess option must be a function");if(x&&"function"!==typeof x)throw new Error("The onFailure option must be a function");if("undoable"===E&&!v)throw new Error("You must pass an onSuccess callback calling notify() to use the undoable mode");if("boolean"!==typeof P)throw new Error("The enabled option must be a boolean");if(!1===P)return Promise.resolve({});var A={resource:s,type:f,payload:u,action:h,onFailure:x,onSuccess:v,rest:C,mutationMode:E,dataProvider:t,store:n,dispatch:e,logoutIfAccessDenied:o,allArguments:d};return r?("undoable"===E||"optimistic"===E?ei(A):Xo(A),ri((function(){return 0===Zo()}))):Qo(A)}}})}),[t,e,r,o,n])},ai=function useVersion(){return Object(u.f)((function(e){return e.admin.ui.viewVersion}))},useQueryWithStore_assign=function(){return(useQueryWithStore_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useQueryWithStore_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},useQueryWithStore_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},oi={},ii=function defaultIsDataLoaded(e){return void 0!==e},ci=function useQueryWithStore(e,t,r,n,o){void 0===t&&(t={action:"CUSTOM_QUERY"}),void 0===r&&(r=function defaultDataSelector(e){return function(t){var r=JSON.stringify(useQueryWithStore_assign(useQueryWithStore_assign({},e),{type:getFetchType(e.type)}));return t.admin.customQueries[r]?t.admin.customQueries[r].data:void 0}}(e)),void 0===n&&(n=function defaultTotalSelector(e){return function(t){var r=JSON.stringify(useQueryWithStore_assign(useQueryWithStore_assign({},e),{type:getFetchType(e.type)}));return t.admin.customQueries[r]?t.admin.customQueries[r].total:null}}(e)),void 0===o&&(o=ii);var i=e.type,c=e.resource,l=e.payload,s=ai(),d=Object(a.useState)(0),p=d[0],f=d[1],b=JSON.stringify({query:e,options:t,version:s,innerVersion:p}),m=Object(a.useRef)(b),h=Object(u.f)(r),y=Object(u.f)(n),g=Object(a.useCallback)((function(){f((function(e){return e+1}))}),[]),O=useSafeSetState({data:h,total:y,error:null,loading:!1!==(null===t||void 0===t?void 0:t.enabled),loaded:!1!==(null===t||void 0===t?void 0:t.enabled)&&o(h),refetch:g}),v=O[0],j=O[1];Object(a.useEffect)((function(){m.current!==b?(m.current=b,j({data:h,total:y,error:null,loading:!1!==(null===t||void 0===t?void 0:t.enabled),loaded:!1!==(null===t||void 0===t?void 0:t.enabled)&&o(h),refetch:g})):H()(v.data,h)&&v.total===y||("undefined"!==typeof y&&isNaN(y)?console.error("Total from response is not a number. Please check your dataProvider or the API."):j((function(e){return useQueryWithStore_assign(useQueryWithStore_assign({},e),{data:h,total:y,loaded:!0,loading:!1})})))}),[h,b,j,v.data,v.total,y,o,g,t.enabled]);var x=ni();return Object(a.useEffect)((function(){oi.hasOwnProperty(b)||(oi[b]=new Promise((function(e){x[i](c,l,t).then((function(){b!==m.current&&e(void 0),e({error:null,loading:!1,loaded:!1!==(null===t||void 0===t?void 0:t.enabled)})})).catch((function(t){b!==m.current&&e(void 0),e({error:t,loading:!1,loaded:!1})}))})),setTimeout((function(){delete oi[b]}),0)),useQueryWithStore_awaiter(void 0,void 0,void 0,(function(){var e;return useQueryWithStore_generator(this,(function(t){switch(t.label){case 0:return[4,oi[b]];case 1:return(e=t.sent())&&j((function(t){return useQueryWithStore_assign(useQueryWithStore_assign({},t),e)})),[2]}}))}))}),[b]),v},li=[],si={},ui=function isDataLoaded(e){return null!=e.finalTotal},di=r(428),pi=r.n(di),fi=function defaultExporter(e,t,r,n){return pi()(e,(function(e,t){return function(e,t){var r=document.createElement("a");r.style.display="none",document.body.appendChild(r);var n=new Blob([e],{type:"text/csv;charset=utf-8"});window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,t+".csv"):(r.setAttribute("href",URL.createObjectURL(n)),r.setAttribute("download",t+".csv"),r.click())}(t,n)}))},bi=function useResourceContext(e){var t=Object(a.useContext)(ao);return e&&e.resource||t},useListController_assign=function(){return(useListController_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},mi={field:"id",order:jo},hi=["basePath","currentSort","data","defaultTitle","displayedFilters","error","exporter","filterValues","hasCreate","hideFilter","ids","loading","loaded","onSelect","onToggleItem","onUnselectItems","page","perPage","refetch","refresh","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","total","totalPages","version"],yi=function sanitizeListRestProps(e){return Object.keys(e).filter((function(e){return!hi.includes(e)})).reduce((function(t,r){var n;return useListController_assign(useListController_assign({},t),((n={})[r]=e[r],n))}),{})},gi=function useListController(e){uo("List",["basePath"],e);var t=e.basePath,r=e.exporter,n=void 0===r?fi:r,o=e.filterDefaultValues,i=e.hasCreate,c=e.sort,l=void 0===c?mi:c,s=e.perPage,u=void 0===s?10:s,d=e.filter,p=e.debounce,f=void 0===p?500:p,b=e.syncWithLocation,m=bi(e);if(!m)throw new Error("<List> was called outside of a ResourceContext and without a resource prop. You must set the resource prop.");if(d&&Object(a.isValidElement)(d))throw new Error("<List> received a React element as `filter` props. If you intended to set the list filter elements, use the `filters` (with an s) prop instead. The `filter` prop is internal and should not be set by the developer.");var h=Ur(),y=tr(),g=Bo({resource:m,filterDefaultValues:o,sort:l,perPage:u,debounce:f,syncWithLocation:b}),O=g[0],v=g[1],j=Vo(m),x=j[0],w=j[1],E=function useGetMainList(e,t,r,n,o){var i=JSON.stringify({pagination:t,sort:r,filter:n}),c=Object(a.useRef)({}),l=ci({type:"getList",resource:e,payload:{pagination:t,sort:r,filter:n}},o,(function(t){var r=En()(t.admin.resources,[e,"list","cachedRequests",i,"ids"]),n=En()(t.admin.resources,[e,"list","cachedRequests",i,"total"]),a=En()(t.admin.resources,[e,"list","ids"]),o=En()(t.admin.resources,[e,"list","total"]),l="undefined"===typeof r?a:r,s="undefined"===typeof n?o:n,u=En()(t.admin.resources,[e,"data"],si);if(c.current.finalIds!==l||c.current.finalTotal!==s||c.current.allRecords!==u){var d={finalIds:l,finalTotal:s,allRecords:u};c.current={finalIds:l,finalTotal:s,allRecords:u,result:d}}return c.current.result}),(function(){return null}),ui),s=l.data,u=s.finalIds,d=s.finalTotal,p=s.allRecords,f=l.error,b=l.loading,m=l.loaded,h=l.refetch;return{data:Object(a.useMemo)((function(){return"undefined"===typeof u?si:u.map((function(e){return p[e]})).reduce((function(e,t){return t?(e[t.id]=t,e):e}),{})}),[u,p]),ids:"undefined"===typeof u?li:u,total:d,error:f,loading:b,loaded:m,refetch:h}}(m,{page:O.page,perPage:O.perPage},{field:O.sort,order:O.order},useListController_assign(useListController_assign({},O.filter),d),{action:Ee,onFailure:function onFailure(e){return y("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}}),S=E.ids,P=E.data,C=E.total,A=E.error,T=E.loading,k=E.loaded,R=E.refetch,N=Math.ceil(C/O.perPage)||1;return Object(a.useEffect)((function(){O.page<=0||!T&&O.page>1&&0===S.length?v.setPage(1):!T&&O.page>N&&v.setPage(N)}),[T,O.page,S,v,C,N]),{basePath:t,currentSort:Object(a.useMemo)((function(){return{field:O.sort,order:O.order}}),[O.sort,O.order]),data:P,defaultTitle:h("ra.page.list",{name:In()(m,2)}),displayedFilters:O.displayedFilters,error:A,exporter:n,filter:d,filterValues:O.filterValues,hasCreate:i,hideFilter:v.hideFilter,ids:S,loaded:k||S.length>0,loading:T,onSelect:w.select,onToggleItem:w.toggle,onUnselectItems:w.clearSelection,page:O.page,perPage:O.perPage,refetch:R,resource:m,selectedIds:x,setFilters:v.setFilters,setPage:v.setPage,setPerPage:v.setPerPage,setSort:v.setSort,showFilter:v.showFilter,total:C}},Oi=Object(a.createContext)({basePath:null,currentSort:null,data:null,defaultTitle:null,displayedFilters:null,filterValues:null,hasCreate:null,hideFilter:null,ids:null,loaded:null,loading:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,refetch:null,resource:null,selectedIds:null,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null});Oi.displayName="ListContext";var vi=Oi,ji=r(101),xi=r.n(ji),wi=Object(a.createContext)({displayedFilters:null,filterValues:null,hideFilter:null,setFilters:null,showFilter:null,resource:null}),Ei=function usePickFilterContext(e){return Object(a.useMemo)((function(){return xi()(e,["displayedFilters","filterValues","hideFilter","setFilters","showFilter","resource"])}),[e.displayedFilters,e.filterValues,e.hideFilter,e.setFilters,e.showFilter])};wi.displayName="ListFilterContext";var Si=wi,Pi=Object(a.createContext)({currentSort:null,setSort:null,resource:null}),Ci=function usePickSortContext(e){return Object(a.useMemo)((function(){return xi()(e,["currentSort","setSort","resource"])}),[e.currentSort,e.setSort])};Pi.displayName="ListSortContext";var Ai=Pi,Ti=Object(a.createContext)({loading:null,page:null,perPage:null,setPage:null,setPerPage:null,total:null,resource:null});Ti.displayName="ListPaginationContext";var ki=function usePickPaginationContext(e){return Object(a.useMemo)((function(){return xi()(e,["loading","page","perPage","setPage","setPerPage","total","resource"])}),[e.loading,e.page,e.perPage,e.setPage,e.setPerPage,e.total])},Ri=Ti,Ni=function ListContextProvider(e){var t=e.value,r=e.children;return a.createElement(vi.Provider,{value:t},a.createElement(Si.Provider,{value:Ei(t)},a.createElement(Ai.Provider,{value:Ci(t)},a.createElement(Ri.Provider,{value:ki(t)},r))))},getValuesFromRecords=function(e){return e.reduce((function(e,t){return Object.keys(t).forEach((function(r){if(e[r]||(e[r]=[]),null!=t[r]){var n=Array.isArray(t[r])?[t[r]]:t[r];e[r]=e[r].concat(n)}})),e}),{})},InferredElement_assign=function(){return(InferredElement_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ii=function(){function InferredElement(e,t,r){this.type=e,this.props=t,this.children=r}return InferredElement.prototype.getElement=function(e){if(void 0===e&&(e={}),this.isDefined())return this.children?Object(a.createElement)(this.type.component,InferredElement_assign(InferredElement_assign({},this.props),e),this.children.length>0?this.children.map((function(e,t){return e.getElement({key:t})})):this.children.getElement()):Object(a.createElement)(this.type.component,InferredElement_assign(InferredElement_assign({},this.props),e))},InferredElement.prototype.getProps=function(){return this.props},InferredElement.prototype.isDefined=function(){return!!this.type},InferredElement.prototype.getRepresentation=function(){if(this.isDefined())return this.type.representation?this.type.representation(this.props,this.children):"<"+(this.type.component.displayName||this.type.component.name)+' source="'+this.props.source+'" />'},InferredElement}(),Fi=r(471),_i=r.n(Fi),Di=r(472),Li=r.n(Di),Bi=function isNumeric(e){return!isNaN(parseFloat(e))&&isFinite(e)},Mi=function isInteger(e){return Number.isInteger(e)||!isNaN(parseInt(e))},Vi=function isBoolean(e){return"boolean"===typeof e},Wi=function isString(e){return"string"===typeof e},Ui=/<([A-Z][A-Z0-9]*)\b[^>]*>(.*?)<\/\1>/i,zi=function isHtml(e){return!e||Ui.test(e)},qi=function isArray(e){return Array.isArray(e)},Gi=function isDate(e){return!e||e instanceof Date},Hi=function isDateString(e){return!e||"string"===typeof e&&_i()(Li()(e))},Ji=function isObject(e){return"[object Object]"===Object.prototype.toString.call(e)},Qi={type:function DefaultComponent(){return a.createElement("span",null,";")},representation:function representation(){return"<DefaultComponent />"}},Yi={array:Qi,boolean:Qi,date:Qi,email:Qi,id:Qi,number:Qi,reference:Qi,referenceArray:Qi,richText:Qi,string:Qi,url:Qi},Zi=function hasType(e,t){return"undefined"!==typeof t[e]},Ki=function inferElementFromValues(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=Yi),"id"===e&&Zi("id",r))return new Ii(r.id,{source:e});if("_id"===e.substr(e.length-3)&&Zi("reference",r)){var n=Nn.a.pluralize(e.substr(0,e.length-3));return r.reference&&new Ii(r.reference,{source:e,reference:n},new Ii(r.referenceChild))}if("Id"===e.substr(e.length-2)&&Zi("reference",r)){n=Nn.a.pluralize(e.substr(0,e.length-2));return r.reference&&new Ii(r.reference,{source:e,reference:n},new Ii(r.referenceChild))}if("_ids"===e.substr(e.length-4)&&Zi("referenceArray",r)){n=Nn.a.pluralize(e.substr(0,e.length-4));return r.referenceArray&&new Ii(r.referenceArray,{source:e,reference:n},new Ii(r.referenceArrayChild))}if("Ids"===e.substr(e.length-3)&&Zi("referenceArray",r)){n=Nn.a.pluralize(e.substr(0,e.length-3));return r.referenceArray&&new Ii(r.referenceArray,{source:e,reference:n},new Ii(r.referenceArrayChild))}if(0===t.length)return new Ii(r.string,{source:e});if(function valuesAreArray(e){return e.every(qi)}(t)){if(Ji(t[0][0])&&Zi("array",r)){var a=getValuesFromRecords(t.reduce((function(e,t){return e.concat(t)}),[]));return r.array&&new Ii(r.array,{source:e},Object.keys(a).map((function(e){return inferElementFromValues(e,a[e],r)})))}return new Ii(r.string,{source:e})}if(function valuesAreBoolean(e){return e.every(Vi)}(t)&&Zi("boolean",r))return new Ii(r.boolean,{source:e});if(function valuesAreDate(e){return e.every(Gi)}(t)&&Zi("date",r))return new Ii(r.date,{source:e});if(function valuesAreString(e){return e.every(Wi)}(t))return"email"===e&&Zi("email",r)?new Ii(r.email,{source:e}):"url"===e&&Zi("url",r)?new Ii(r.url,{source:e}):function valuesAreDateString(e){return e.every(Hi)}(t)&&Zi("date",r)?new Ii(r.date,{source:e}):function valuesAreHtml(e){return e.every(zi)}(t)&&Zi("richText",r)?new Ii(r.richText,{source:e}):new Ii(r.string,{source:e});if((function valuesAreInteger(e){return e.every(Mi)}(t)||function valuesAreNumeric(e){return e.every(Bi)}(t))&&Zi("number",r))return new Ii(r.number,{source:e});if(function valuesAreObject(e){return e.every(Ji)}(t)){var o=Object.keys(t[0]).shift(),i=t.map((function(e){return e[o]}));return inferElementFromValues(e+"."+o,i,r)}return new Ii(r.string,{source:e})},Xi=r(90),$i=r.n(Xi),ec=function useListContext(e){var t=Object(a.useContext)(vi);return Object(a.useMemo)((function(){return $i()({},null!=e?tc(e):{},t)}),[t,e])},tc=function extractListContextProps(e){return{basePath:e.basePath,currentSort:e.currentSort,data:e.data,defaultTitle:e.defaultTitle,displayedFilters:e.displayedFilters,filterValues:e.filterValues,hasCreate:e.hasCreate,hideFilter:e.hideFilter,ids:e.ids,loaded:e.loaded,loading:e.loading,onSelect:e.onSelect,onToggleItem:e.onToggleItem,onUnselectItems:e.onUnselectItems,page:e.page,perPage:e.perPage,refetch:e.refetch,resource:e.resource,selectedIds:e.selectedIds,setFilters:e.setFilters,setPage:e.setPage,setPerPage:e.setPerPage,setSort:e.setSort,showFilter:e.showFilter,total:e.total}},rc=r(244),nc=r(438),ac=r.n(nc),oc={},ic=Object(Br.a)((function(e){return{body:{display:"flex",alignItems:"flex-end",pointerEvents:"auto"},spacer:{width:e.spacing(2)},hideButton:{}}}),{name:"RaFilterFormInput"}),cc=function FilterFormInput(e){var t=e.filterElement,r=e.handleHide,n=e.variant,o=e.margin,i=bi(e),c=Ur(),l=ic(e);return a.createElement("div",{"data-source":t.props.source,className:Sr()("filter-field",l.body)},!t.props.alwaysOn&&a.createElement(Dr.a,{className:Sr()("hide-filter",l.hideButton),onClick:r,"data-key":t.props.source,title:c("ra.action.remove_filter")},a.createElement(ac.a,null)),a.cloneElement(t,{allowEmpty:void 0===t.props.allowEmpty||t.props.allowEmpty,resource:i,record:oc,variant:n,margin:o,helperText:!1,defaultValue:void 0}),a.createElement("div",{className:l.spacer},"\xa0"))};cc.propTypes={filterElement:wr.a.node,handleHide:wr.a.func,classes:wr.a.object,resource:wr.a.string,margin:wr.a.string,variant:wr.a.string};var lc=cc,sc=a.createContext(void 0),FilterForm_assign=function(){return(FilterForm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FilterForm_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},uc=function FilterForm(e){var t=e.classes,r=void 0===t?{}:t,n=e.className,o=e.margin,i=e.filters,c=e.variant,l=e.initialValues,s=FilterForm_rest(e,["classes","className","margin","filters","variant","initialValues"]),u=bi(e),d=ec(e),p=d.displayedFilters,f=void 0===p?{}:p,b=d.hideFilter;Object(a.useEffect)((function(){i.forEach((function(e){if(e.props.alwaysOn&&e.props.defaultValue)throw new Error("Cannot use alwaysOn and defaultValue on a filter input. Please set the filterDefaultValues props on the <List> element instead.")}))}),[i]);var m=Object(a.useCallback)((function(e){return b(e.currentTarget.dataset.key)}),[b]);return a.createElement("form",FilterForm_assign({className:Sr()(n,r.form)},fc(s),{onSubmit:dc}),function getShownFilters(){return i.filter((function(e){return e.props.alwaysOn||f[e.props.source]||"undefined"!==typeof En()(l,e.props.source)}))}().map((function(e){return a.createElement(lc,{key:e.props.source,filterElement:e,handleHide:m,resource:u,variant:e.props.variant||c,margin:e.props.margin||o})})),a.createElement("div",{className:r.clearFix}))},dc=function handleSubmit(e){return e.preventDefault(),!1};uc.propTypes={resource:wr.a.string,filters:wr.a.arrayOf(wr.a.node).isRequired,displayedFilters:wr.a.object,hideFilter:wr.a.func,initialValues:wr.a.object,classes:wr.a.object,className:wr.a.string};var pc=Object(Br.a)((function(e){return{form:{marginTop:-e.spacing(2),paddingTop:0,display:"flex",alignItems:"flex-end",flexWrap:"wrap",minHeight:e.spacing(10),pointerEvents:"none"},clearFix:{clear:"right"}}}),{name:"RaFilterForm"}),fc=function sanitizeRestProps(e){e.active,e.dirty,e.dirtyFields,e.dirtyFieldsSinceLastSubmit,e.dirtySinceLastSubmit,e.displayedFilters,e.error,e.errors,e.filterValues,e.form,e.handleSubmit,e.hasSubmitErrors,e.hasValidationErrors,e.hideFilter,e.invalid,e.modified,e.modifiedSinceLastSubmit,e.pristine,e.resource,e.setFilters,e.submitError,e.submitErrors,e.submitFailed,e.submitSucceeded,e.submitting,e.touched,e.valid,e.validating,e.values,e.visited;return FilterForm_rest(e,["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","displayedFilters","error","errors","filterValues","form","handleSubmit","hasSubmitErrors","hasValidationErrors","hideFilter","invalid","modified","modifiedSinceLastSubmit","pristine","resource","setFilters","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","validating","values","visited"])},bc=function handleFinalFormSubmit(){},mc={values:!0,pristine:!0,invalid:!0},hc=function EnhancedFilterForm(e){e.classes;var t=e.filters,r=e.initialValues,n=FilterForm_rest(e,["classes","filters","initialValues"]),o=pc(e),i=ec(e),c=i.setFilters,l=i.displayedFilters,s=i.filterValues,u=Object(a.useContext)(sc)||t,d=function mergeInitialValuesWithDefaultValues(e,t){return FilterForm_assign(FilterForm_assign({},t.filter((function(e){return e.props.alwaysOn&&e.props.defaultValue})).reduce((function(e,t){return ho()(FilterForm_assign({},e),t.props.source,t.props.defaultValue)}),{})),e)}(r||s,u);return a.createElement(Ba.b,{onSubmit:bc,initialValues:d,mutators:FilterForm_assign({},rc.a),render:function render(e){return a.createElement(a.Fragment,null,a.createElement(Ba.c,{subscription:mc,onChange:function onChange(e){var t=e.pristine,r=e.values,n=e.invalid;t||n||c(r,l)}}),a.createElement(uc,FilterForm_assign({classes:o},e,n,{filters:u})))}})},ListToolbar_assign=function(){return(ListToolbar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ListToolbar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},yc=Object(Br.a)((function(e){var t,r;return{toolbar:(t={justifyContent:"space-between",alignItems:"flex-start",paddingRight:0},t[e.breakpoints.up("xs")]={paddingLeft:0},t[e.breakpoints.down("xs")]={paddingLeft:e.spacing(2),backgroundColor:e.palette.background.paper},t),actions:(r={paddingTop:e.spacing(3),minHeight:e.spacing(5)},r[e.breakpoints.down("xs")]={padding:e.spacing(1),backgroundColor:e.palette.background.paper},r)}}),{name:"RaListToolbar"}),gc=function ListToolbar(e){e.classes;var t=e.filters,r=e.actions,n=ListToolbar_rest(e,["classes","filters","actions"]),o=yc(e);return Array.isArray(t)?a.createElement(sc.Provider,{value:t},a.createElement(Fr.a,{className:o.toolbar},a.createElement(hc,null),a.createElement("span",null),r&&a.cloneElement(r,ListToolbar_assign(ListToolbar_assign(ListToolbar_assign({},n),{className:o.actions}),r.props)))):a.createElement(Fr.a,{className:o.toolbar},t&&a.cloneElement(t,ListToolbar_assign(ListToolbar_assign({},n),{context:"form"})),a.createElement("span",null),r&&a.cloneElement(r,ListToolbar_assign(ListToolbar_assign(ListToolbar_assign({},n),{className:o.actions,filters:t}),r.props)))};gc.propTypes={classes:wr.a.object,filters:wr.a.oneOfType([wr.a.element,wr.a.arrayOf(wr.a.element)]),actions:wr.a.oneOfType([wr.a.bool,wr.a.element]),exporter:wr.a.oneOfType([wr.a.func,wr.a.bool])};var Oc=a.memo(gc),vc=r(979),jc=function useListPaginationContext(e){var t=Object(a.useContext)(Ri);return t.setPage?t:e},xc=r(304),wc=r.n(xc),Ec=r(303),Sc=r.n(Ec),Pc=Object(Br.a)((function(e){return{actions:{flexShrink:0,color:e.palette.text.secondary,marginLeft:20},button:{},currentPageButton:{},hellip:{padding:"1.2em"}}}),{name:"RaPaginationActions"});function PaginationActions(e){var t=e.page,r=e.rowsPerPage,n=e.count,o=e.onChangePage,i=e.color,c=e.size,l=Pc(e),s=Ur(),u=Object(zr.a)(),d=function getNbPages(){return Math.ceil(n/r)||1},p=function gotoPage(e){var t=parseInt(e.currentTarget.dataset.page,10);if(t<0||t>d()-1)throw new Error(s("ra.navigation.page_out_of_boundaries",{page:t+1}));o(e,t)},f=d();return 1===f?a.createElement("div",{className:l.actions}):a.createElement("div",{className:l.actions},t>0&&a.createElement(an.a,{color:i,size:c,key:"prev",onClick:function prevPage(e){if(0===t)throw new Error(s("ra.navigation.page_out_from_begin"));o(e,t-1)},className:"previous-page"},"rtl"===u.direction?a.createElement(Sc.a,null):a.createElement(wc.a,null),s("ra.navigation.prev")),function renderPageNums(){return function range(){var e=Math.ceil(n/r)||1;if(isNaN(t)||1===e)return[];var a=[];return t>1&&a.push(1),3===t&&a.push(2),t>3&&a.push("."),t>0&&a.push(t),a.push(t+1),t<e-1&&a.push(t+2),t===e-4&&a.push(e-1),t<e-4&&a.push("."),t<e-2&&a.push(e),a}().map((function(e,r){var n;return"."===e?a.createElement("span",{key:"hyphen_"+r,className:l.hellip},"\u2026"):a.createElement(an.a,{size:c,className:Sr()("page-number",l.button,(n={},n[l.currentPageButton]=e===t+1,n)),color:e===t+1?"default":i,key:e,"data-page":e-1,onClick:p},e)}))}(),t!==f-1&&a.createElement(an.a,{color:i,size:c,key:"next",onClick:function nextPage(e){if(t>d()-1)throw new Error(s("ra.navigation.page_out_from_end"));o(e,t+1)},className:"next-page"},s("ra.navigation.next"),"rtl"===u.direction?a.createElement(wc.a,null):a.createElement(Sc.a,null)))}PaginationActions.propTypes={backIconButtonProps:wr.a.object,count:wr.a.number.isRequired,classes:wr.a.object,nextIconButtonProps:wr.a.object,onChangePage:wr.a.func.isRequired,page:wr.a.number.isRequired,rowsPerPage:wr.a.number.isRequired,color:wr.a.oneOf(["primary","secondary"]),size:wr.a.oneOf(["small","medium","large"]),theme:wr.a.object},PaginationActions.defaultProps={color:"primary",size:"small"};var Cc=a.memo(PaginationActions),Ac=r(938),Tc=Object(a.memo)((function PaginationLimit(){var e=Ur();return a.createElement(Ac.a,null,a.createElement(Lr.a,{variant:"body2"},e("ra.navigation.no_results")))})),Pagination_assign=function(){return(Pagination_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Pagination_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},kc=[],Rc=function Pagination(e){var t=e.rowsPerPageOptions,r=e.actions,n=e.limit,o=Pagination_rest(e,["rowsPerPageOptions","actions","limit"]),i=jc(e),c=i.loading,l=i.page,s=i.perPage,u=i.total,d=i.setPage,p=i.setPerPage,f=Ur(),b=Object(Nr.a)((function(e){return e.breakpoints.down("sm")})),m=Object(a.useMemo)((function(){return Math.ceil(u/s)||1}),[s,u]),h=Object(a.useCallback)((function(e,t){if(e&&e.stopPropagation(),t<0||t>m-1)throw new Error(f("ra.navigation.page_out_of_boundaries",{page:t+1}));d(t+1)}),[m,d,f]),y=Object(a.useCallback)((function(e){p(e.target.value)}),[p]),g=Object(a.useCallback)((function(e){var t=e.from,r=e.to,n=e.count;return f("ra.navigation.page_range_info",{offsetBegin:t,offsetEnd:r,total:n})}),[f]);return null===u||0===u||l<1||l>m?c?a.createElement(Fr.a,{variant:"dense"}):n:b?a.createElement(vc.a,Pagination_assign({count:u,rowsPerPage:s,page:l-1,onChangePage:h,rowsPerPageOptions:kc,component:"span",labelDisplayedRows:g},yi(o))):a.createElement(vc.a,Pagination_assign({count:u,rowsPerPage:s,page:l-1,onChangePage:h,onChangeRowsPerPage:y,ActionsComponent:r,component:"span",labelRowsPerPage:f("ra.navigation.page_rows_per_page"),labelDisplayedRows:g,rowsPerPageOptions:t},yi(o)))};Rc.propTypes={actions:ComponentPropType,limit:wr.a.element,rowsPerPageOptions:wr.a.arrayOf(wr.a.number)},Rc.defaultProps={actions:Cc,limit:a.createElement(Tc,null),rowsPerPageOptions:[5,10,25]};var Nc=a.memo(Rc),Ic=r(102),Fc=r.n(Ic),_c=r(91),Dc=function useUnselectAll(e){var t=Object(u.e)();return Object(a.useCallback)((function(r){util_warning(),t(ye(r||e,[]))}),[t,e])},Lc=r(117),Bc=r.n(Lc),useRedirect_assign=function(){return(useRedirect_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Mc=function useRedirect(){var e=Object(u.e)(),t=Object(Zt.g)();return Object(a.useCallback)((function(r,n,a,o,i){void 0===n&&(n=""),void 0===i&&(i={}),r?t.push(useRedirect_assign(useRedirect_assign({},Object(d.g)(resolveRedirectTo(r,n,a,o))),{state:useRedirect_assign({_scrollToTop:!0},i)})):t.location.state||t.location.search?t.replace(useRedirect_assign(useRedirect_assign({},t.location),{state:i,search:void 0})):e(z())}),[e,t])},Vc={onSuccess:void 0,onFailure:void 0},Wc=function useDeclarativeSideEffects(){var e=tr(),t=Mc(),r=Gr(),n=Dc();return Object(a.useMemo)((function(){return function(a,o){var i=void 0===o?Vc:o,c=i.onSuccess,l=i.onFailure,s=function convertToFunctionSideEffect(a,o){if(!o||"function"===typeof o)return o;if(0!==Object.keys(o).length){var i=o.notification,c=o.redirectTo,l=o.refresh,s=o.unselectAll;return function(){i&&e(i.body,i.level,i.messageArgs),c&&t(c),l&&r(),s&&n(a)}}};return{onSuccess:s(a,c),onFailure:s(a,l)}}}),[e,t,r,n])},useDataProviderWithDeclarativeSideEffects_assign=function(){return(useDataProviderWithDeclarativeSideEffects_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useDataProviderWithDeclarativeSideEffects_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},useDataProviderWithDeclarativeSideEffects_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Uc=function useDataProviderWithDeclarativeSideEffects(){var e=ni(),t=Wc();return Object(a.useMemo)((function(){return new Proxy(e,{get:function get(e,r){if("symbol"!==typeof r)return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];var o,i,c=Go(n),l=c.resource,s=c.payload,u=c.allArguments,d=c.options,p=d,f=u;if(d&&Object.keys(d).some((function(e){return["onSuccess","onFailure"].includes(e)}))){var b=t(l,d),m=(d.onSuccess,d.onFailure,useDataProviderWithDeclarativeSideEffects_rest(d,["onSuccess","onFailure"]));o=b.onSuccess,i=b.onFailure,p=m,f=useDataProviderWithDeclarativeSideEffects_spreadArrays(n).slice(0,n.length-1)}try{return e[r.toString()].apply(e,"string"===typeof l?[l,s,useDataProviderWithDeclarativeSideEffects_assign(useDataProviderWithDeclarativeSideEffects_assign({},p),{onSuccess:o,onFailure:i})]:f)}catch(h){return Promise.reject(h)}}}})}),[e,t])},useMutation_assign=function(){return(useMutation_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useMutation_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},zc=function mergeDefinitionAndCallTimeParameters(e,t,r,n){if(!e&&(!t||t instanceof Event))throw new Error("Missing query either at definition or at call time");return t instanceof Event?{type:e.type,resource:e.resource,payload:e.payload,options:Gc(r)}:e?{type:e.type||t.type,resource:e.resource||t.resource,payload:t?Bc()({},e.payload,t.payload):e.payload,options:n?Bc()({},Gc(r),Gc(n)):Gc(r)}:{type:t.type,resource:t.resource,payload:t.payload,options:Gc(n)}},qc=function hasDeclarativeSideEffectsSupport(e,t){return!(!e&&!t)&&(!(!t||!t.withDeclarativeSideEffectsSupport)||e&&e.withDeclarativeSideEffectsSupport)},Gc=function sanitizeOptions(e){if(!e)return{onSuccess:void 0};e.withDeclarativeSideEffectsSupport;var t=useMutation_rest(e,["withDeclarativeSideEffectsSupport"]);return useMutation_assign({onSuccess:void 0},t)},Hc=function useMutation(e,t){var r=useSafeSetState({data:null,error:null,total:null,loading:!1,loaded:!1}),n=r[0],o=r[1],i=ni(),c=Uc();return[Object(a.useCallback)((function(r,n){var a=qc(t,n)?c:i,l=zc(e,r,t,n);o((function(e){return useMutation_assign(useMutation_assign({},e),{loading:!0})}));var s=l.options.returnPromise,u=a[l.type].apply(a,"undefined"!==typeof l.resource?[l.resource,l.payload,l.options]:[l.payload,l.options]).then((function(e){var t=e.data,r=e.total;if(o({data:t,error:null,loaded:!0,loading:!1,total:r}),s)return e})).catch((function(e){if(o({data:null,error:e,loaded:!1,loading:!1,total:null}),s)throw e}));if(s)return u}),[JSON.stringify({query:e,options:t}),i,c,o]),n]},Jc=function useDeleteMany(e,t,r){var n=Hc({type:"deleteMany",resource:e,payload:{ids:t}},r),o=n[0],i=n[1];return[Object(a.useCallback)((function(e,t,r){return"string"===typeof e?o({type:"deleteMany",resource:e,payload:{ids:t}},r):o(e,t)}),[o]),i]},Qc="RA/CRUD_DELETE_MANY",Yc=r(929),Zc=r(933),Kc=r(931),Xc=r(948),$c=r(930),el=r(440),tl=r.n(el),rl=r(441),nl=r.n(rl),Confirm_assign=function(){return(Confirm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},al=Object(Br.a)((function(e){return{confirmPrimary:{color:e.palette.primary.main},confirmWarning:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(_c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}},iconPaddingStyle:{paddingRight:"0.5em"}}}),{name:"RaConfirm"}),ol=function Confirm(e){var t,r=e.isOpen,n=e.loading,o=e.title,i=e.content,c=e.confirm,l=e.cancel,s=e.confirmColor,u=e.ConfirmIcon,d=e.CancelIcon,p=e.onClose,f=e.onConfirm,b=e.translateOptions,m=void 0===b?{}:b,h=al(e),y=Ur(),g=Object(a.useCallback)((function(e){e.stopPropagation(),f(e)}),[f]),O=Object(a.useCallback)((function(e){e.stopPropagation()}),[]);return a.createElement(Yc.a,{open:r,onClose:p,onClick:O,"aria-labelledby":"alert-dialog-title"},a.createElement($c.a,{id:"alert-dialog-title"},y(o,Confirm_assign({_:o},m))),a.createElement(Kc.a,null,"string"===typeof i?a.createElement(Xc.a,null,y(i,Confirm_assign({_:i},m))):i),a.createElement(Zc.a,null,a.createElement(an.a,{disabled:n,onClick:p},a.createElement(d,{className:h.iconPaddingStyle}),y(l,{_:l})),a.createElement(an.a,{disabled:n,onClick:g,className:Sr()("ra-confirm",(t={},t[h.confirmWarning]="warning"===s,t[h.confirmPrimary]="primary"===s,t)),autoFocus:!0},a.createElement(u,{className:h.iconPaddingStyle}),y(c,{_:c}))))};ol.propTypes={cancel:wr.a.string,classes:wr.a.object,confirm:wr.a.string,confirmColor:wr.a.string,ConfirmIcon:wr.a.elementType,CancelIcon:wr.a.elementType,content:wr.a.node.isRequired,isOpen:wr.a.bool,loading:wr.a.bool,onClose:wr.a.func.isRequired,onConfirm:wr.a.func.isRequired,title:wr.a.string.isRequired},ol.defaultProps={cancel:"ra.action.cancel",classes:{},confirm:"ra.action.confirm",confirmColor:"primary",ConfirmIcon:tl.a,CancelIcon:nl.a,isOpen:!1};var il=ol,BulkDeleteWithConfirmButton_assign=function(){return(BulkDeleteWithConfirmButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BulkDeleteWithConfirmButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},cl=Object(Br.a)((function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(_c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"RaBulkDeleteWithConfirmButton"}),ll=a.createElement(Fc.a,null),sl=function BulkDeleteWithConfirmButton(e){e.basePath,e.classes;var t=e.confirmTitle,r=void 0===t?"ra.message.bulk_delete_title":t,n=e.confirmContent,o=void 0===n?"ra.message.bulk_delete_content":n,i=e.icon,c=void 0===i?ll:i,l=e.label,s=e.onClick,u=e.selectedIds,d=BulkDeleteWithConfirmButton_rest(e,["basePath","classes","confirmTitle","confirmContent","icon","label","onClick","selectedIds"]),p=Object(a.useState)(!1),f=p[0],b=p[1],m=cl(e),h=tr(),y=Dc(),g=Gr(),O=Ur(),v=bi(e),j=Jc(v,u,{action:Qc,onSuccess:function onSuccess(){g(),h("ra.notification.deleted","info",{smart_count:u.length}),y(v)},onFailure:function onFailure(e){h("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0}),b(!1)}}),x=j[0],w=j[1].loading;return a.createElement(a.Fragment,null,a.createElement(fa,BulkDeleteWithConfirmButton_assign({onClick:function handleClick(e){b(!0),e.stopPropagation()},label:l,className:m.deleteButton},ul(d)),c),a.createElement(il,{isOpen:f,loading:w,title:r,content:o,translateOptions:{smart_count:u.length,name:O("resources."+v+".forcedCaseName",{smart_count:u.length,_:Nn.a.humanize(O("resources."+v+".name",{smart_count:u.length,_:Nn.a.inflect(v,u.length)}),!0)})},onConfirm:function handleDelete(e){x(),"function"===typeof s&&s(e)},onClose:function handleDialogClose(){b(!1)}}))},ul=function sanitizeRestProps(e){e.basePath,e.classes,e.filterValues,e.label;return BulkDeleteWithConfirmButton_rest(e,["basePath","classes","filterValues","label"])};sl.propTypes={basePath:wr.a.string,classes:wr.a.object,confirmTitle:wr.a.string,confirmContent:wr.a.string,label:wr.a.string,resource:wr.a.string,selectedIds:wr.a.arrayOf(wr.a.any),icon:wr.a.element},sl.defaultProps={label:"ra.action.delete"};var dl=sl,BulkDeleteWithUndoButton_assign=function(){return(BulkDeleteWithUndoButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BulkDeleteWithUndoButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},pl=Object(Br.a)((function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(_c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"RaBulkDeleteWithUndoButton"}),fl=function BulkDeleteWithUndoButton(e){e.basePath,e.classes;var t=e.icon,r=e.label,n=e.onClick,o=BulkDeleteWithUndoButton_rest(e,["basePath","classes","icon","label","onClick"]),i=ec(e).selectedIds,c=pl(e),l=tr(),s=Dc(),u=Gr(),d=bi(e),p=Jc(d,i,{action:Qc,onSuccess:function onSuccess(){l("ra.notification.deleted","info",{smart_count:i.length},!0),s(d),u()},onFailure:function onFailure(e){return l("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})},undoable:!0}),f=p[0],b=p[1].loading;return a.createElement(fa,BulkDeleteWithUndoButton_assign({onClick:function handleClick(e){f(),"function"===typeof n&&n(e)},label:r,className:c.deleteButton,disabled:b},bl(o)),t)},bl=function sanitizeRestProps(e){e.basePath,e.classes,e.filterValues,e.label,e.selectedIds;return BulkDeleteWithUndoButton_rest(e,["basePath","classes","filterValues","label","selectedIds"])};fl.propTypes={basePath:wr.a.string,classes:wr.a.object,label:wr.a.string,resource:wr.a.string,selectedIds:wr.a.arrayOf(wr.a.any),icon:wr.a.element},fl.defaultProps={label:"ra.action.delete",icon:a.createElement(Fc.a,null)};var ml=fl,BulkDeleteButton_assign=function(){return(BulkDeleteButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BulkDeleteButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},hl=function BulkDeleteButton(e){var t=e.undoable,r=BulkDeleteButton_rest(e,["undoable"]);return t?a.createElement(ml,BulkDeleteButton_assign({},r)):a.createElement(dl,BulkDeleteButton_assign({},r))};hl.propTypes={basePath:wr.a.string,label:wr.a.string,resource:wr.a.string,selectedIds:wr.a.arrayOf(wr.a.any),undoable:wr.a.bool,icon:wr.a.element},hl.defaultProps={undoable:!0};var yl=hl,gl=r(439),Ol=r.n(gl),TopToolbar_assign=function(){return(TopToolbar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},TopToolbar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},vl=Object(Br.a)((function(e){var t;return{root:(t={display:"flex",justifyContent:"flex-end",alignItems:"flex-start",paddingTop:e.spacing(3),paddingBottom:e.spacing(1),minHeight:e.spacing(5)},t[e.breakpoints.up("xs")]={paddingLeft:0,paddingRight:0},t[e.breakpoints.down("sm")]={paddingRight:e.spacing(2)},t[e.breakpoints.down("xs")]={padding:e.spacing(1),backgroundColor:e.palette.background.paper},t)}}),{name:"RaTopToolbar"}),jl=function TopToolbar(e){var t=e.className,r=e.children,n=TopToolbar_rest(e,["className","children"]),o=vl(e);return a.createElement(Fr.a,TopToolbar_assign({className:Sr()(o.root,t)},n),r)};jl.propTypes={children:wr.a.node,className:wr.a.string};var xl=jl,BulkActionsToolbar_assign=function(){return(BulkActionsToolbar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BulkActionsToolbar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},wl=Object(Br.a)((function(e){return{toolbar:{zIndex:3,color:"light"===e.palette.type?e.palette.primary.main:e.palette.text.primary,justifyContent:"space-between",backgroundColor:"light"===e.palette.type?Object(_c.lighten)(e.palette.primary.light,.85):e.palette.primary.dark,minHeight:e.spacing(8),height:e.spacing(8),transition:e.transitions.create("height")+", "+e.transitions.create("min-height")},topToolbar:{paddingTop:e.spacing(2)},buttons:{},collapsed:{minHeight:0,height:0,overflowY:"hidden"},title:{display:"flex",flex:"0 0 auto"},icon:{marginLeft:"-0.5em",marginRight:"0.5em"}}}),{name:"RaBulkActionsToolbar"}),El=function BulkActionsToolbar(e){e.classes;var t,r=e.label,n=void 0===r?"ra.action.bulk_actions":r,o=e.children,i=BulkActionsToolbar_rest(e,["classes","label","children"]),c=ec(e),l=c.basePath,s=c.filterValues,u=c.resource,d=c.selectedIds,p=c.onUnselectItems,f=wl(e),b=Ur();return a.createElement(Fr.a,BulkActionsToolbar_assign({"data-test":"bulk-actions-toolbar",className:Sr()(f.toolbar,(t={},t[f.collapsed]=0===d.length,t))},yi(i)),a.createElement("div",{className:f.title},a.createElement(Dr.a,{className:f.icon,"aria-label":b("ra.action.unselect"),title:b("ra.action.unselect"),onClick:p,size:"small"},a.createElement(Ol.a,{fontSize:"small"})),a.createElement(Lr.a,{color:"inherit",variant:"subtitle1"},b(n,{_:n,smart_count:d.length}))),a.createElement(xl,{className:f.topToolbar},a.Children.map(o,(function(e){return Object(a.isValidElement)(e)?Object(a.cloneElement)(e,{basePath:l,filterValues:s,resource:u,selectedIds:d}):null}))))};El.propTypes={children:wr.a.node,classes:wr.a.object,label:wr.a.string};var Sl=El,Pl=function useResourceDefinition(e){var t=bi(e),r=Object(u.f)(xt),n=e.hasCreate,o=e.hasEdit,i=e.hasList,c=e.hasShow;return Object(a.useMemo)((function(){var e=r.find((function(e){return(null===e||void 0===e?void 0:e.name)===t}));return $i()({},{hasCreate:n,hasEdit:o,hasList:i,hasShow:c},e)}),[t,r,n,o,i,c])},Cl=r(947),Al=r(437),Tl=r.n(Al),CreateButton_assign=function(){return(CreateButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},CreateButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},kl=function CreateButton(e){var t=e.basePath,r=void 0===t?"":t,n=e.className,o=(e.classes,e.icon),i=void 0===o?Rl:o,c=e.label,l=void 0===c?"ra.action.create":c,s=e.scrollToTop,u=void 0===s||s,d=e.variant,p=CreateButton_rest(e,["basePath","className","classes","icon","label","scrollToTop","variant"]),f=Nl(e),b=Ur(),m=Object(Nr.a)((function(e){return e.breakpoints.down("sm")})),h=bi(),y=Object(a.useMemo)((function(){return{pathname:r?r+"/create":"/"+h+"/create",state:{_scrollToTop:u}}}),[r,h,u]);return m?a.createElement(Cl.a,CreateButton_assign({component:Dn.a,color:"primary",className:Sr()(f.floating,n),to:y,"aria-label":l&&b(l)},pa(p)),i):a.createElement(fa,CreateButton_assign({component:Dn.a,to:y,className:n,label:l,variant:d},p),i)},Rl=a.createElement(Tl.a,null),Nl=Object(Br.a)((function(e){return{floating:{color:e.palette.getContrastText(e.palette.primary.main),margin:0,top:"auto",right:20,bottom:60,left:"auto",position:"fixed",zIndex:1e3}}}),{name:"RaCreateButton"});kl.propTypes={basePath:wr.a.string,classes:wr.a.object,className:wr.a.string,icon:wr.a.element,label:wr.a.string};var Il=Object(a.memo)(kl,(function(e,t){return e.basePath===t.basePath&&e.label===t.label&&e.translate===t.translate&&e.to===t.to&&e.disabled===t.disabled})),Fl=r(436),_l=r.n(Fl),Dl=function getRelatedIds(e,t){return Array.from(new Set(e.filter((function(e){return null!=e[t]})).map((function(e){return e[t]})).reduce((function(e,t){return e.concat(t)}),[])))},Ll=function fetchRelatedRecords(e){return function(t,r,n){return e.getMany(n,{ids:Dl(t,r)}).then((function(e){return e.data.reduce((function(e,t){return e[t.id]=t,e}),{})}))}},ExportButton_assign=function(){return(ExportButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ExportButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Bl=function ExportButton(e){var t=e.maxResults,r=void 0===t?1e3:t,n=e.onClick,o=e.label,i=void 0===o?"ra.action.export":o,c=e.icon,l=void 0===c?Ml:c,s=e.exporter,u=e.sort,d=ExportButton_rest(e,["maxResults","onClick","label","icon","exporter","sort"]),p=ec(e),f=p.filter,b=p.filterValues,m=p.currentSort,h=p.exporter,y=p.total,g=bi(e),O=s||h,v=ni(),j=tr(),x=Object(a.useCallback)((function(e){v.getList(g,{sort:m||u,filter:f?ExportButton_assign(ExportButton_assign({},b),f):b,pagination:{page:1,perPage:r}}).then((function(e){var t=e.data;return O&&O(t,Ll(v),v,g)})).catch((function(e){console.error(e),j("ra.notification.http_error","warning")})),"function"===typeof n&&n(e)}),[m,v,O,f,b,r,j,n,g,u]);return a.createElement(fa,ExportButton_assign({onClick:x,label:i,disabled:0===y},Vl(d)),l)},Ml=a.createElement(_l.a,null),Vl=function sanitizeRestProps(e){e.basePath,e.filterValues,e.resource;return ExportButton_rest(e,["basePath","filterValues","resource"])};Bl.propTypes={basePath:wr.a.string,exporter:wr.a.func,filterValues:wr.a.object,label:wr.a.string,maxResults:wr.a.number,resource:wr.a.string,sort:wr.a.exact({field:wr.a.string,order:wr.a.string}),icon:wr.a.element};var Wl=Bl,Ul=r(442),zl=r.n(Ul),getFieldLabelTranslationArgs=function(e){if(!e)return[""];var t=e.label,r=e.resource,n=e.source;return"undefined"!==typeof t?[t,{_:t}]:"undefined"!==typeof n?["resources."+r+".fields."+n,{_:Nn.a.transform(n,["underscore","humanize"])}]:[""]},ql=function FieldTitle(e){var t=e.resource,r=e.source,n=e.label,o=e.isRequired,i=Ur();return!1===n||""===n?null:n&&"string"!==typeof n?n:a.createElement("span",null,i.apply(void 0,getFieldLabelTranslationArgs({label:n,resource:t,source:r})),o&&" *")};ql.displayName="FieldTitle";var Gl=Object(a.memo)(ql),Hl=Object(a.forwardRef)((function(e,t){var r=e.filter,n=e.onShow,o=bi(e),i=Object(a.useCallback)((function(){n({source:r.props.source,defaultValue:r.props.defaultValue})}),[r.props.defaultValue,r.props.source,n]);return a.createElement(Ln.a,{className:"new-filter-item","data-key":r.props.source,"data-default-value":r.props.defaultValue,key:r.props.source,onClick:i,ref:t},a.createElement(Gl,{label:r.props.label,source:r.props.source,resource:o}))}));Hl.propTypes={filter:wr.a.element.isRequired,onShow:wr.a.func.isRequired,resource:wr.a.string};var FilterButton_assign=function(){return(FilterButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FilterButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Jl=Object(Br.a)({root:{display:"inline-block"}},{name:"RaFilterButton"}),Ql=function FilterButton(e){var t=e.filters,r=(e.classes,e.className),n=FilterButton_rest(e,["filters","classes","className"]),o=Object(a.useContext)(sc)||t,i=bi(e),c=ec(e),l=c.displayedFilters,s=void 0===l?{}:l,u=c.filterValues,d=c.showFilter,p=Object(a.useState)(!1),f=p[0],b=p[1],m=Object(a.useRef)(),h=Jl(e),y=o.filter((function(e){return!e.props.alwaysOn&&!s[e.props.source]&&"undefined"===typeof En()(u,e.props.source)})),g=Object(a.useCallback)((function(e){e.preventDefault(),b(!0),m.current=e.currentTarget}),[m,b]),O=Object(a.useCallback)((function(){b(!1)}),[b]),v=Object(a.useCallback)((function(e){var t=e.source,r=e.defaultValue;d(t,r),b(!1)}),[d,b]);return 0===y.length?null:a.createElement("div",FilterButton_assign({className:Sr()(h.root,r)},Yl(n)),a.createElement(fa,{className:"add-filter",label:"ra.action.add_filter",onClick:g},a.createElement(zl.a,null)),a.createElement(cn.a,{open:f,anchorEl:m.current,onClose:O},y.map((function(e){return a.createElement(Hl,{key:e.props.source,filter:e,resource:i,onShow:v})}))))},Yl=function sanitizeRestProps(e){e.displayedFilters,e.filterValues,e.showFilter;return FilterButton_rest(e,["displayedFilters","filterValues","showFilter"])};Ql.propTypes={resource:wr.a.string,filters:wr.a.arrayOf(wr.a.node),displayedFilters:wr.a.object,filterValues:wr.a.object,showFilter:wr.a.func,classes:wr.a.object,className:wr.a.string};var Zl=Ql,ListActions_assign=function(){return(ListActions_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ListActions_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Kl=function ListActions(e){var t=e.className,r=e.exporter,n=e.filters,o=ListActions_rest(e,["className","exporter","filters"]),i=ec(e),c=i.currentSort,l=i.displayedFilters,s=i.filterValues,u=i.basePath,d=i.selectedIds,p=i.showFilter,f=i.total,b=bi(o),m=Pl(o).hasCreate,h=Object(a.useContext)(sc)||n;return Object(a.useMemo)((function(){return a.createElement(xl,ListActions_assign({className:t},yi(o)),n?Object(a.cloneElement)(n,{resource:b,showFilter:p,displayedFilters:l,filterValues:s,context:"button"}):h&&a.createElement(Zl,null),m&&a.createElement(Il,{basePath:u}),!1!==r&&a.createElement(Wl,{disabled:0===f,resource:b,sort:c,filterValues:s}))}),[b,l,s,d,h,f])};Kl.propTypes={basePath:wr.a.string,className:wr.a.string,currentSort:wr.a.any,displayedFilters:wr.a.object,exporter:wr.a.oneOfType([wr.a.func,wr.a.bool]),filters:wr.a.element,filterValues:wr.a.object,hasCreate:wr.a.bool,resource:wr.a.string,onUnselectItems:wr.a.func.isRequired,selectedIds:wr.a.arrayOf(wr.a.any),showFilter:wr.a.func,total:wr.a.number},Kl.defaultProps={selectedIds:[],onUnselectItems:function onUnselectItems(){return null}};var Xl=Kl,$l=r(443),es=r.n($l),ts=Object(Br.a)((function(e){return{message:{textAlign:"center",opacity:"light"===e.palette.type?.5:.8,margin:"0 1em",color:"light"===e.palette.type?"inherit":e.palette.text.primary},icon:{width:"9em",height:"9em"},toolbar:{textAlign:"center",marginTop:"2em"}}}),{name:"RaEmpty"}),ListView_assign=function(){return(ListView_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ListView_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},rs=function ListView(e){var t=e.actions,r=e.aside,n=e.filters,o=e.bulkActionButtons,i=e.pagination,c=e.children,l=e.className,s=(e.classes,e.component),u=e.exporter,d=void 0===u?fi:u,p=e.title,f=e.empty,b=ListView_rest(e,["actions","aside","filters","bulkActionButtons","pagination","children","className","classes","component","exporter","title","empty"]),m=function getListControllerProps(e){return hi.reduce((function(t,r){var n;return useListController_assign(useListController_assign({},t),((n={})[r]=e[r],n))}),{})}(e),h=ec(e),y=ns(e),g=h.defaultTitle,O=h.total,v=h.loaded,j=h.loading,x=h.filterValues,w=h.selectedIds,E=ai(),S=v&&!j&&0===O&&!Object.keys(x).length;return a.createElement("div",ListView_assign({className:Sr()("list-page",y.root,l)},as(b)),a.createElement(ia,{title:p,defaultTitle:g}),S&&!1!==f?Object(a.cloneElement)(f,h):function renderList(){var e;return a.createElement(a.Fragment,null,(n||t)&&a.createElement(Oc,ListView_assign({filters:n},m,{actions:t,exporter:d})),a.createElement("div",{className:y.main},a.createElement(s,{className:Sr()(y.content,(e={},e[y.bulkActionsDisplayed]=w.length>0,e)),key:E},!1!==o&&o&&a.createElement(Sl,ListView_assign({},m),o),c&&Object(a.cloneElement)(a.Children.only(c),ListView_assign(ListView_assign({},m),{hasBulkActions:!1!==o})),i&&Object(a.cloneElement)(i,h)),r&&Object(a.cloneElement)(r,h)))}())};rs.propTypes={actions:wr.a.oneOfType([wr.a.bool,wr.a.element]),aside:wr.a.element,basePath:wr.a.string,bulkActionButtons:wr.a.oneOfType([wr.a.bool,wr.a.element]),children:wr.a.element,className:wr.a.string,classes:wr.a.object,component:ComponentPropType,currentSort:wr.a.shape({field:wr.a.string.isRequired,order:wr.a.string.isRequired}),data:wr.a.any,defaultTitle:wr.a.string,displayedFilters:wr.a.object,exporter:wr.a.oneOfType([wr.a.func,wr.a.bool]),filterDefaultValues:wr.a.object,filters:wr.a.oneOfType([wr.a.element,wr.a.arrayOf(wr.a.element)]),filterValues:wr.a.object,hasCreate:wr.a.bool,hideFilter:wr.a.func,ids:wr.a.array,loading:wr.a.bool,onSelect:wr.a.func,onToggleItem:wr.a.func,onUnselectItems:wr.a.func,page:wr.a.number,pagination:wr.a.oneOfType([wr.a.element,wr.a.bool]),perPage:wr.a.number,refresh:wr.a.func,resource:wr.a.string,selectedIds:wr.a.array,setFilters:wr.a.func,setPage:wr.a.func,setPerPage:wr.a.func,setSort:wr.a.func,showFilter:wr.a.func,title:oa,total:wr.a.number,version:wr.a.number};rs.defaultProps={actions:a.createElement(Xl,null),classes:{},component:_a.a,bulkActionButtons:a.createElement((function DefaultBulkActionButtons(e){return a.createElement(yl,ListView_assign({},e))}),null),pagination:a.createElement(Nc,null),empty:a.createElement((function Empty(e){var t=ec(e),r=t.basePath,n=t.hasCreate,o=bi(e),i=ts(e),c=Ur(),l=c("resources."+o+".forcedCaseName",{smart_count:0,_:In()(o,0)}),s=c("ra.page.empty",{name:l}),u=c("ra.page.invite");return a.createElement(a.Fragment,null,a.createElement("div",{className:i.message},a.createElement(es.a,{className:i.icon}),a.createElement(Lr.a,{variant:"h4",paragraph:!0},c("resources."+o+".empty",{_:s})),n&&a.createElement(Lr.a,{variant:"body1"},c("resources."+o+".invite",{_:u}))),n&&a.createElement("div",{className:i.toolbar},a.createElement(Il,{variant:"contained",basePath:r})))}),null)};var ns=Object(Br.a)((function(e){var t;return{root:{},main:{display:"flex"},content:(t={marginTop:0,transition:e.transitions.create("margin-top"),position:"relative",flex:"1 1 auto"},t[e.breakpoints.down("xs")]={boxShadow:"none"},t.overflow="inherit",t),bulkActionsDisplayed:{marginTop:-e.spacing(8),transition:e.transitions.create("margin-top")},actions:{zIndex:2,display:"flex",justifyContent:"flex-end",flexWrap:"wrap"},noResults:{padding:20}}}),{name:"RaList"}),as=function sanitizeRestProps(e){e.basePath,e.currentSort,e.data,e.defaultTitle,e.displayedFilters,e.filterDefaultValues,e.filterValues,e.hasCreate,e.hasEdit,e.hasList,e.hasShow,e.hideFilter,e.history,e.ids,e.loading,e.loaded,e.location,e.match,e.onSelect,e.onToggleItem,e.onUnselectItems,e.options,e.page,e.permissions,e.perPage,e.refetch,e.resource,e.selectedIds,e.setFilters,e.setPage,e.setPerPage,e.setSort,e.showFilter,e.syncWithLocation,e.sort,e.total;return ListView_rest(e,["basePath","currentSort","data","defaultTitle","displayedFilters","filterDefaultValues","filterValues","hasCreate","hasEdit","hasList","hasShow","hideFilter","history","ids","loading","loaded","location","match","onSelect","onToggleItem","onUnselectItems","options","page","permissions","perPage","refetch","resource","selectedIds","setFilters","setPage","setPerPage","setSort","showFilter","syncWithLocation","sort","total"])},os=rs,is=r(966),cs=r(967),ls=r(965),ss=r(949),us=r(973),ds=r(239),ps=r.n(ds),fs=r(473),bs=r.n(fs),ms=r(980),DatagridHeaderCell_assign=function(){return(DatagridHeaderCell_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DatagridHeaderCell_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},hs=Object(Br.a)({icon:{display:"none"},active:{"& $icon":{display:"inline"}}},{name:"RaDatagridHeaderCell"}),ys=function DatagridHeaderCell(e){var t=e.className,r=(e.classes,e.field),n=e.currentSort,o=e.updateSort,i=(e.isSorting,DatagridHeaderCell_rest(e,["className","classes","field","currentSort","updateSort","isSorting"])),c=bi(e),l=hs(e),s=Ur();return a.createElement(ss.a,DatagridHeaderCell_assign({className:Sr()(t,r.props.headerClassName),align:r.props.textAlign,variant:"head"},i),o&&!1!==r.props.sortable&&(r.props.sortBy||r.props.source)?a.createElement(_r.a,{title:s("ra.action.sort"),placement:"right"===r.props.textAlign?"bottom-end":"bottom-start",enterDelay:300},a.createElement(ms.a,{active:n.field===(r.props.sortBy||r.props.source),direction:"ASC"===n.order?"asc":"desc","data-sort":r.props.sortBy||r.props.source,"data-field":r.props.sortBy||r.props.source,"data-order":r.props.sortByOrder||"ASC",onClick:o,classes:l},a.createElement(Gl,{label:r.props.label,source:r.props.source,resource:c}))):a.createElement(Gl,{label:r.props.label,source:r.props.source,resource:c}))};ys.propTypes={className:wr.a.string,classes:wr.a.object,field:wr.a.element,currentSort:wr.a.shape({sort:wr.a.string,order:wr.a.string}).isRequired,isSorting:wr.a.bool,resource:wr.a.string,updateSort:wr.a.func};var gs=Object(a.memo)(ys,(function(e,t){return e.updateSort===t.updateSort&&e.currentSort.field===t.currentSort.field&&e.currentSort.order===t.currentSort.order&&e.isSorting===t.isSorting&&e.resource===t.resource})),Os=r(964),vs=r(188),js=r.n(vs),xs=Object(Br.a)((function(e){return{root:{backgroundColor:e.palette.grey[300],display:"flex"}}}),{name:"RaPlaceholder"}),ws=function Placeholder(e){var t=xs(e);return a.createElement("span",{className:Sr()(t.root,e.className)},"\xa0")},Es=function times(e,t){return Array.from({length:e},(function(e,r){return t(r)}))},Ss=function DatagridLoading(e){var t=e.classes,r=e.className,n=e.expand,o=e.hasBulkActions,i=e.nbChildren,c=e.nbFakeLines,l=void 0===c?5:c,s=e.size;return useTimeout(1e3)?a.createElement(is.a,{className:Sr()(t.table,r),size:s},a.createElement(cs.a,null,a.createElement(ls.a,{className:t.row},n&&a.createElement(ss.a,{padding:"none",className:t.expandHeader}),o&&a.createElement(ss.a,{padding:"checkbox",className:t.expandIconCell},a.createElement(us.a,{className:"select-all",color:"primary",checked:!1})),Es(i,(function(e){return a.createElement(ss.a,{variant:"head",className:t.headerCell,key:e},a.createElement(ws,null))})))),a.createElement(Os.a,null,Es(l,(function(e){return a.createElement(ls.a,{key:e,style:{opacity:1/(e+1)}},n&&a.createElement(ss.a,{padding:"none",className:t.expandIconCell},a.createElement(Dr.a,{className:t.expandIcon,component:"div","aria-hidden":"true"},a.createElement(js.a,null))),o&&a.createElement(ss.a,{padding:"checkbox",className:t.expandIconCell},a.createElement(us.a,{className:"select-all",color:"primary",checked:!1})),Es(i,(function(e){return a.createElement(ss.a,{className:t.rowCell,key:e},a.createElement(ws,null))})))})))):null};Ss.propTypes={classes:wr.a.object,className:wr.a.string,expand:wr.a.oneOfType([wr.a.element,wr.a.elementType]),hasBulkActions:wr.a.bool,nbChildren:wr.a.number,nbFakeLines:wr.a.number,size:wr.a.oneOf(["small","medium"])};var Ps=Object(a.memo)(Ss),Cs=function useExpanded(e,t){var r=Object(u.e)(),n=Object(u.f)((function(t){return t.admin.resources[e]?t.admin.resources[e].list.expanded:void 0}));return[void 0!==n&&-1!==n.map((function(e){return e==t})).indexOf(!0),Object(a.useCallback)((function(){r(function toggleListItemExpand(e,t){return{type:Oe,payload:t,meta:{resource:e}}}(e,t))}),[r,e,t])]},As=Object(a.createContext)(void 0),Ts=function RecordContextProvider(e){var t=e.children,r=e.value;return a.createElement(As.Provider,{value:r},t)};As.displayName="RecordContext";var ks=function useRecordContext(e){var t=Object(a.useContext)(As);return e&&e.record||t},DatagridCell_assign=function(){return(DatagridCell_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DatagridCell_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Rs=a.forwardRef((function(e,t){var r=e.className,n=e.field,o=e.record,i=e.basePath,c=e.resource,l=DatagridCell_rest(e,["className","field","record","basePath","resource"]);return a.createElement(ss.a,DatagridCell_assign({className:Sr()(r,n.props.cellClassName),align:n.props.textAlign,ref:t},l),a.cloneElement(n,{record:o,basePath:n.props.basePath||i,resource:c}))}));Rs.propTypes={className:wr.a.string,field:wr.a.element,record:wr.a.object,basePath:wr.a.string,resource:wr.a.string},Rs.displayName="DatagridCell";var Ns=Rs,ExpandRowButton_assign=function(){return(ExpandRowButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ExpandRowButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Is=Object(a.memo)((function ExpandRowButton(e){var t,r=e.classes,n=e.expanded,o=e.expandContentId,i=ExpandRowButton_rest(e,["classes","expanded","expandContentId"]),c=Ur();return a.createElement(Dr.a,ExpandRowButton_assign({"aria-label":c(n?"ra.action.close":"ra.action.expand"),"aria-expanded":n,"aria-controls":o,className:Sr()(r.expandIcon,(t={},t[r.expanded]=n,t)),tabIndex:-1,"aria-hidden":"true",component:"div"},i),a.createElement(js.a,null))})),Fs=Object(a.createContext)({});Fs.displayName="DatagridContext";var _s=Fs,DatagridRow_assign=function(){return(DatagridRow_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DatagridRow_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},DatagridRow_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},DatagridRow_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ds=function computeNbColumns(e,t,r){return e?1+(r?1:0)+o.a.Children.toArray(t).filter((function(e){return!!e})).length:0},Ls={expandIconCell:"",checkbox:"",rowCell:""},Bs=o.a.forwardRef((function(e,t){var r=e.basePath,n=e.children,i=e.classes,c=void 0===i?Ls:i,l=e.className,s=e.expand,u=e.hasBulkActions,d=e.hover,p=e.id,f=e.onToggleItem,b=e.record,m=e.rowClick,h=e.selected,y=e.style,g=e.selectable,O=DatagridRow_rest(e,["basePath","children","classes","className","expand","hasBulkActions","hover","id","onToggleItem","record","rowClick","selected","style","selectable"]),v=function useDatagridContext(e){var t=Object(a.useContext)(_s);return Object(a.useMemo)((function(){return $i()({},null!=e?{isRowExpandable:e.isRowExpandable}:{},t)}),[t,e])}(),j=(!v||!v.isRowExpandable||v.isRowExpandable(b))&&s,x=bi(e),w=Cs(x,p),E=w[0],S=w[1],P=Object(a.useState)((function(){return Ds(j,n,u)})),C=P[0],A=P[1];Object(a.useEffect)((function(){var e=Ds(j,n,u);e!==C&&A(e)}),[j,C,n,u]);var T=Object(Zt.g)(),k=Object(a.useCallback)((function(e){S(),e.stopPropagation()}),[S]),R=Object(a.useCallback)((function(e){g&&(f(p,e),e.stopPropagation())}),[p,f,g]),N=Object(a.useCallback)((function(e){return DatagridRow_awaiter(void 0,void 0,void 0,(function(){var t,n;return DatagridRow_generator(this,(function(a){switch(a.label){case 0:return m?(e.persist(),"function"!==typeof m?[3,2]:[4,m(p,r||"/"+x,b)]):[2];case 1:return n=a.sent(),[3,3];case 2:n=m,a.label=3;case 3:switch(t=n){case"edit":return T.push(linkToRecord(r||"/"+x,p)),[2];case"show":return T.push(linkToRecord(r||"/"+x,p,"show")),[2];case"expand":return k(e),[2];case"toggleSelection":return R(e),[2];default:return t&&T.push(t),[2]}return[2]}}))}))}),[r,T,k,R,p,b,x,m]);return o.a.createElement(Ts,{value:b},o.a.createElement(ls.a,DatagridRow_assign({ref:t,className:l,key:p,style:y,hover:d,onClick:N},O),s&&o.a.createElement(ss.a,{padding:"none",className:c.expandIconCell},j&&o.a.createElement(Is,{classes:c,expanded:E,onClick:k,expandContentId:p+"-expand"})),u&&o.a.createElement(ss.a,{padding:"checkbox"},g&&o.a.createElement(us.a,{color:"primary",className:"select-item "+c.checkbox,checked:h,onClick:R})),o.a.Children.map(n,(function(e,t){return Object(a.isValidElement)(e)?o.a.createElement(Ns,DatagridRow_assign({key:p+"-"+(e.props.source||t),className:Sr()("column-"+e.props.source,c.rowCell),record:b},{field:e,basePath:r,resource:x})):null}))),j&&E&&o.a.createElement(ls.a,{key:p+"-expand",id:p+"-expand"},o.a.createElement(ss.a,{colSpan:C},Object(a.isValidElement)(s)?Object(a.cloneElement)(s,{record:b,basePath:r,resource:x,id:String(p)}):Object(a.createElement)(s,{record:b,basePath:r,resource:x,id:String(p)}))))}));Bs.propTypes={basePath:wr.a.string,children:wr.a.node,classes:wr.a.any,className:wr.a.string,expand:wr.a.oneOfType([wr.a.element,wr.a.elementType]),hasBulkActions:wr.a.bool.isRequired,hover:wr.a.bool,id:wr.a.any,onToggleItem:wr.a.func,record:wr.a.object,resource:wr.a.string,rowClick:wr.a.oneOfType([wr.a.string,wr.a.func]),selected:wr.a.bool,style:wr.a.object,selectable:wr.a.bool},Bs.defaultProps={hasBulkActions:!1,hover:!0,selected:!1,selectable:!0};var Ms=Object(a.memo)(Bs,(function areEqual(e,t){e.children,e.expand;var r=DatagridRow_rest(e,["children","expand"]),n=(t.children,t.expand,DatagridRow_rest(t,["children","expand"]));return Object(u.d)(r,n)}));Ms.displayName="PureDatagridRow";var Vs=Bs,DatagridBody_assign=function(){return(DatagridBody_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DatagridBody_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ws=a.forwardRef((function(e,t){var r=e.basePath,n=e.children,o=e.classes,i=e.className,c=e.data,l=e.expand,s=e.hasBulkActions,u=e.hover,d=e.ids,p=e.onToggleItem,f=e.resource,b=e.row,m=e.rowClick,h=e.rowStyle,y=e.selectedIds,g=e.isRowSelectable,O=DatagridBody_rest(e,["basePath","children","classes","className","data","expand","hasBulkActions","hover","ids","onToggleItem","resource","row","rowClick","rowStyle","selectedIds","isRowSelectable"]);return a.createElement(Os.a,DatagridBody_assign({ref:t,className:Sr()("datagrid-body",i)},O),d.map((function(e,t){var i;return Object(a.cloneElement)(b,{basePath:r,classes:o,className:Sr()(o.row,(i={},i[o.rowEven]=t%2===0,i[o.rowOdd]=t%2!==0,i[o.clickableRow]=m,i)),expand:l,hasBulkActions:s&&!!y,hover:u,id:e,key:e,onToggleItem:p,record:c[e],resource:f,rowClick:m,selectable:!g||g(c[e]),selected:null===y||void 0===y?void 0:y.includes(e),style:h?h(c[e],t):null},n)})))}));Ws.propTypes={basePath:wr.a.string,classes:wr.a.any,className:wr.a.string,children:wr.a.node,data:wr.a.object.isRequired,expand:wr.a.oneOfType([wr.a.element,wr.a.elementType]),hasBulkActions:wr.a.bool.isRequired,hover:wr.a.bool,ids:wr.a.arrayOf(wr.a.any).isRequired,onToggleItem:wr.a.func,resource:wr.a.string,row:wr.a.element,rowClick:wr.a.oneOfType([wr.a.string,wr.a.func]),rowStyle:wr.a.func,selectedIds:wr.a.arrayOf(wr.a.any),styles:wr.a.object,isRowSelectable:wr.a.func},Ws.defaultProps={data:{},hasBulkActions:!1,ids:[],row:a.createElement(Vs,null)},Ws.muiName="TableBody";var Us=Object(a.memo)(Ws,(function areEqual(e,t){e.children,e.expand,e.row;var r=DatagridBody_rest(e,["children","expand","row"]),n=(t.children,t.expand,t.row,DatagridBody_rest(t,["children","expand","row"]));return Object(u.d)(r,n)}));Us.muiName="TableBody",Us.defaultProps={row:a.createElement(Ms,null)};var zs=Ws,qs=Object(Br.a)((function(e){return{table:{tableLayout:"auto"},thead:{},tbody:{},headerRow:{},headerCell:{position:"sticky",top:0,zIndex:2,backgroundColor:e.palette.background.paper,"&:first-child":{borderTopLeftRadius:e.shape.borderRadius},"&:last-child":{borderTopRightRadius:e.shape.borderRadius}},checkbox:{},row:{},clickableRow:{cursor:"pointer"},rowEven:{},rowOdd:{},rowCell:{},expandHeader:{padding:0,width:e.spacing(6)},expandIconCell:{width:e.spacing(6)},expandIcon:{padding:e.spacing(1),transform:"rotate(-90deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expanded:{transform:"rotate(0deg)"}}}),{name:"RaDatagrid"}),Gs=function DatagridContextProvider(e){var t=e.children,r=e.value;return o.a.createElement(_s.Provider,{value:r},t)},Datagrid_assign=function(){return(Datagrid_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Datagrid_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Hs=a.forwardRef((function(e,t){var r=qs(e),n=e.optimized,o=void 0!==n&&n,i=e.body,c=void 0===i?o?a.createElement(Us,null):a.createElement(zs,null):i,l=e.children,s=(e.classes,e.className),u=e.empty,d=e.expand,p=e.hasBulkActions,f=void 0!==p&&p,b=e.hover,m=e.isRowSelectable,h=e.isRowExpandable,y=e.resource,g=e.rowClick,O=e.rowStyle,v=e.size,j=void 0===v?"small":v,x=Datagrid_rest(e,["optimized","body","children","classes","className","empty","expand","hasBulkActions","hover","isRowSelectable","isRowExpandable","resource","rowClick","rowStyle","size"]),w=ec(e),E=w.basePath,S=w.currentSort,P=w.data,C=w.ids,A=w.loaded,T=w.onSelect,k=w.onToggleItem,R=w.selectedIds,N=w.setSort,I=w.total,F=ai(),_=Object(a.useMemo)((function(){return{isRowExpandable:h}}),[h]),D=Object(a.useCallback)((function(e){e.stopPropagation();var t=e.currentTarget.dataset.field,r=S.field===t?"ASC"===S.order?"DESC":"ASC":e.currentTarget.dataset.order;N(t,r)}),[S.field,S.order,N]),L=N?D:null,B=Object(a.useCallback)((function(e){if(e.target.checked){var t=C.concat(R.filter((function(e){return!C.includes(e)})));T(m?t.filter((function(e){return m(P[e])})):t)}else T([])}),[P,C,T,m,R]),M=Object(a.useRef)(null);Object(a.useEffect)((function(){R&&0!==R.length||(M.current=null)}),[JSON.stringify(R)]);var V=Object(a.useCallback)((function(e,t){var r=C.indexOf(M.current);if(M.current=t.target.checked?e:null,t.shiftKey&&-1!==r){var n=C.indexOf(e),a=C.slice(Math.min(r,n),Math.max(r,n)+1),o=t.target.checked?ps()(R,a):bs()(R,a);T(m?o.filter((function(e){return m(P[e])})):o)}else k(e)}),[P,C,m,T,k,R]);if(!1===A)return a.createElement(Ps,{classes:r,className:s,expand:d,hasBulkActions:f,nbChildren:a.Children.count(l),size:j});if(A&&(0===C.length||0===I))return u||null;var W=m?C.filter((function(e){return m(P[e])})):C;return a.createElement(Gs,{value:_},a.createElement(is.a,Datagrid_assign({ref:t,className:Sr()(r.table,s),size:j},yi(x)),a.createElement(cs.a,{className:r.thead},a.createElement(ls.a,{className:Sr()(r.row,r.headerRow)},d&&a.createElement(ss.a,{padding:"none",className:Sr()(r.headerCell,r.expandHeader)}),f&&R&&a.createElement(ss.a,{padding:"checkbox",className:r.headerCell},a.createElement(us.a,{className:"select-all",color:"primary",checked:R.length>0&&W.length>0&&W.every((function(e){return R.includes(e)})),onChange:B})),a.Children.map(l,(function(e,t){return Object(a.isValidElement)(e)?a.createElement(gs,{className:r.headerCell,currentSort:S,field:e,isSorting:S.field===(e.props.sortBy||e.props.source),key:e.props.source||t,resource:y,updateSort:L}):null})))),Object(a.cloneElement)(c,{basePath:E,className:r.tbody,classes:r,expand:d,rowClick:g,data:P,hasBulkActions:f,hover:b,ids:C,onToggleItem:V,resource:y,rowStyle:O,selectedIds:R,isRowSelectable:m,version:F},l)))}));Hs.propTypes={basePath:wr.a.string,body:wr.a.element,children:wr.a.node.isRequired,classes:wr.a.object,className:wr.a.string,currentSort:wr.a.exact({field:wr.a.string,order:wr.a.string}),data:wr.a.any,empty:wr.a.element,expand:wr.a.oneOfType([wr.a.element,wr.a.elementType]),hasBulkActions:wr.a.bool,hover:wr.a.bool,ids:wr.a.arrayOf(wr.a.any),loading:wr.a.bool,onSelect:wr.a.func,onToggleItem:wr.a.func,resource:wr.a.string,rowClick:wr.a.oneOfType([wr.a.string,wr.a.func]),rowStyle:wr.a.func,selectedIds:wr.a.arrayOf(wr.a.any),setSort:wr.a.func,total:wr.a.number,version:wr.a.number,isRowSelectable:wr.a.func,isRowExpandable:wr.a.func},Hs.displayName="Datagrid";var Js=Hs,Qs=r(936),Link_assign=function(){return(Link_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Link_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ys=Object(Br.a)((function(e){return{link:{textDecoration:"none",color:e.palette.primary.main}}}),{name:"RaLink"}),Zs=function Link(e){var t=e.to,r=e.children,n=(e.classes,e.className),o=Link_rest(e,["to","children","classes","className"]),i=Ys(e);return a.createElement(Dn.a,Link_assign({to:t,className:Sr()(i.link,n)},o),r)};Zs.propTypes={className:wr.a.string,children:wr.a.node,to:wr.a.oneOfType([wr.a.string,wr.a.object])};var Ks=Zs,SingleFieldList_assign=function(){return(SingleFieldList_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SingleFieldList_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Xs=Object(Br.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",marginTop:-e.spacing(1),marginBottom:-e.spacing(1)},link:{}}}),{name:"RaSingleFieldList"}),$s=function stopPropagation(e){return e.stopPropagation()},eu=function handleClick(){},tu=function SingleFieldList(e){e.classes;var t=e.className,r=e.children,n=e.linkType,o=void 0===n?"edit":n,i=e.component,c=void 0===i?"div":i,l=SingleFieldList_rest(e,["classes","className","children","linkType","component"]),s=ec(e),u=s.ids,d=s.data,p=s.loaded,f=s.basePath,b=bi(e),m=Xs(e),h=c;return!1===p?a.createElement(Qs.a,null):a.createElement(h,SingleFieldList_assign({className:Sr()(m.root,t)},yi(l)),u.map((function(e){var t=!!o&&linkToRecord(f,e,o);return t?a.createElement(Ts,{value:d[e],key:e},a.createElement(Ks,{className:m.link,key:e,to:t,onClick:$s},Object(a.cloneElement)(a.Children.only(r),{record:d[e],resource:b,basePath:f,onClick:eu}))):a.createElement(Ts,{value:d[e],key:e},Object(a.cloneElement)(a.Children.only(r),{key:e,record:d[e],resource:b,basePath:f}))})))};tu.propTypes={basePath:wr.a.string,children:wr.a.element.isRequired,classes:wr.a.object,className:wr.a.string,component:ComponentPropType,data:wr.a.any,ids:wr.a.array,linkType:wr.a.oneOfType([wr.a.string,wr.a.bool]),resource:wr.a.string};var ru=tu,nu={addLabel:wr.a.bool,sortBy:wr.a.string,sortByOrder:wr.a.oneOf(["ASC","DESC"]),source:wr.a.string,label:wr.a.oneOfType([wr.a.string,wr.a.element]),sortable:wr.a.bool,className:wr.a.string,cellClassName:wr.a.string,headerClassName:wr.a.string,textAlign:wr.a.oneOf(["inherit","left","center","right","justify"]),emptyText:wr.a.string},ArrayField_assign=function(){return(ArrayField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ArrayField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},au={data:{},ids:[]},ou=Object(a.memo)((function(e){e.addLabel;var t=e.basePath,r=e.children,n=(e.record,e.resource),o=(e.sortable,e.source),i=e.fieldKey,c=ArrayField_rest(e,["addLabel","basePath","children","record","resource","sortable","source","fieldKey"]),l=ks(e),s=Object(a.useState)(au.ids),u=s[0],d=s[1],p=Object(a.useState)(au.data),f=p[0],b=p[1];return Object(a.useEffect)((function(){var e=function getDataAndIds(e,t,r){var n=En()(e,t);return n?r?{data:n.reduce((function(e,t){return e[t[r]]=t,e}),{}),ids:n.map((function(e){return e[r]}))}:{data:n.reduce((function(e,t){return e[JSON.stringify(t)]=t,e}),{}),ids:n.map(JSON.stringify)}:au}(l,o,i),t=e.ids,r=e.data;d(t),b(r)}),[l,o,i]),a.createElement(Ni,{value:{ids:u,data:f,loading:!1,basePath:t,selectedIds:[],currentSort:{field:null,order:null},displayedFilters:null,filterValues:null,hasCreate:null,hideFilter:null,loaded:null,onSelect:null,onToggleItem:null,onUnselectItems:null,page:null,perPage:null,resource:n,setFilters:null,setPage:null,setPerPage:null,setSort:null,showFilter:null,total:null}},Object(a.cloneElement)(a.Children.only(r),ArrayField_assign({ids:u,data:f,loading:!1,basePath:t,currentSort:{field:null,order:null},resource:n},c)))}));ou.defaultProps={addLabel:!0},ou.propTypes=ArrayField_assign(ArrayField_assign({},nu),{fieldKey:wr.a.string}),ou.displayName="ArrayField";var iu=ou,cu=r(474),lu=r.n(cu),su=r(138),uu=r.n(su),sanitizeFieldRestProps_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},du=function sanitizeFieldRestProps(e){e.addLabel,e.allowEmpty,e.basePath,e.cellClassName,e.className,e.emptyText,e.formClassName,e.fullWidth,e.headerClassName,e.label,e.linkType,e.link,e.locale,e.record,e.refetch,e.resource,e.sortable,e.sortBy,e.sortByOrder,e.source,e.textAlign,e.translateChoice;return sanitizeFieldRestProps_rest(e,["addLabel","allowEmpty","basePath","cellClassName","className","emptyText","formClassName","fullWidth","headerClassName","label","linkType","link","locale","record","refetch","resource","sortable","sortBy","sortByOrder","source","textAlign","translateChoice"])},BooleanField_assign=function(){return(BooleanField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BooleanField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},pu=Object(Br.a)({root:{display:"flex"}},{name:"RaBooleanField"}),fu=Object(a.memo)((function(e){var t=e.className,r=(e.classes,e.emptyText),n=e.source,o=e.valueLabelTrue,i=e.valueLabelFalse,c=e.TrueIcon,l=e.FalseIcon,s=e.looseValue,u=BooleanField_rest(e,["className","classes","emptyText","source","valueLabelTrue","valueLabelFalse","TrueIcon","FalseIcon","looseValue"]),d=ks(e),p=Ur(),f=pu(e),b=En()(d,n),m=!0===b||s&&b,h=b?o:i;return h||(h=m?"ra.boolean.true":"ra.boolean.false"),s||!1===b||!0===b?a.createElement(Lr.a,BooleanField_assign({component:"span",variant:"body2",className:Sr()(f.root,t)},du(u)),a.createElement(_r.a,{title:p(h,{_:h})},m?a.createElement("span",null,a.createElement(c,{"data-testid":"true",fontSize:"small"})):a.createElement("span",null,a.createElement(l,{"data-testid":"false",fontSize:"small"})))):a.createElement(Lr.a,BooleanField_assign({component:"span",variant:"body2",className:t},du(u)),r)}));fu.defaultProps={addLabel:!0,TrueIcon:lu.a,FalseIcon:uu.a,looseValue:!1},fu.propTypes=BooleanField_assign(BooleanField_assign(BooleanField_assign({},Lr.a.propTypes),nu),{valueLabelFalse:wr.a.string,valueLabelTrue:wr.a.string,TrueIcon:wr.a.elementType,FalseIcon:wr.a.elementType,looseValue:wr.a.bool});var bu=fu,mu=r(978),ChipField_assign=function(){return(ChipField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ChipField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},hu=Object(Br.a)({chip:{margin:4,cursor:"inherit"}},{name:"RaChipField"}),yu=Object(a.memo)((function(e){var t=e.className,r=(e.classes,e.source),n=e.emptyText,o=ChipField_rest(e,["className","classes","source","emptyText"]),i=ks(e),c=hu(e),l=En()(i,r);return null==l&&n?a.createElement(Lr.a,ChipField_assign({component:"span",variant:"body2",className:t},du(o)),n):a.createElement(mu.a,ChipField_assign({className:Sr()(c.chip,t),label:l},du(o)))}));yu.defaultProps={addLabel:!0},yu.propTypes=ChipField_assign(ChipField_assign({},yu.propTypes),nu);var gu=yu,DateField_assign=function(){return(DateField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DateField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ou=function(){try{(new Date).toLocaleString("i")}catch(e){return e instanceof RangeError}return!1}(),vu=Object(a.memo)((function(e){var t=e.className,r=e.emptyText,n=e.locales,o=e.options,i=e.showTime,c=void 0!==i&&i,l=e.source,s=DateField_rest(e,["className","emptyText","locales","options","showTime","source"]),u=ks(e);if(!u)return null;var d=En()(u,l);if(null==d||""===d)return r?a.createElement(Lr.a,DateField_assign({component:"span",variant:"body2",className:t},du(s)),r):null;var p=d instanceof Date?d:new Date(d),f=c?Ou?p.toLocaleString(n,o):p.toLocaleString():Ou?p.toLocaleDateString(n,o):p.toLocaleDateString();return a.createElement(Lr.a,DateField_assign({component:"span",variant:"body2",className:t},du(s)),f)}));vu.defaultProps={addLabel:!0},vu.propTypes=DateField_assign(DateField_assign(DateField_assign({},Lr.a.propTypes),nu),{locales:wr.a.oneOfType([wr.a.string,wr.a.arrayOf(wr.a.string)]),options:wr.a.object,showTime:wr.a.bool});var ju=vu,xu=r(935),EmailField_assign=function(){return(EmailField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},EmailField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},wu=function stopPropagation(e){return e.stopPropagation()},Eu=Object(a.memo)((function(e){var t=e.className,r=e.source,n=e.emptyText,o=EmailField_rest(e,["className","source","emptyText"]),i=ks(e),c=En()(i,r);return null==c?n?a.createElement(Lr.a,EmailField_assign({component:"span",variant:"body2",className:t},du(o)),n):null:a.createElement(xu.a,EmailField_assign({className:t,href:"mailto:"+c,onClick:wu},du(o)),c)}));Eu.defaultProps={addLabel:!0},Eu.propTypes=nu;var Su=Eu,NumberField_assign=function(){return(NumberField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},NumberField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Pu=!("object"!==typeof Intl||!Intl||"function"!==typeof Intl.NumberFormat),Cu=Object(a.memo)((function(e){var t=e.className,r=e.emptyText,n=e.source,o=e.locales,i=e.options,c=(e.textAlign,NumberField_rest(e,["className","emptyText","source","locales","options","textAlign"])),l=ks(e);if(!l)return null;var s=En()(l,n);return null==s?r?a.createElement(Lr.a,NumberField_assign({component:"span",variant:"body2",className:t},du(c)),r):null:a.createElement(Lr.a,NumberField_assign({variant:"body2",component:"span",className:t},du(c)),Pu?s.toLocaleString(o,i):s)}));Cu.displayName="NumberField",Cu.defaultProps={addLabel:!0,textAlign:"right"},Cu.propTypes=NumberField_assign(NumberField_assign(NumberField_assign({},Lr.a.propTypes),nu),{locales:wr.a.oneOfType([wr.a.string,wr.a.arrayOf(wr.a.string)]),options:wr.a.object});var Au,Tu=Cu,ku=r(427),Ru=r.n(ku),Nu=function getResourceLinkPath(e){var t=e.resource,r=e.source,n=e.reference,a=e.link,o=void 0===a?"edit":a,i=e.record,c=void 0===i?{id:""}:i,l=e.basePath,s=void 0===l?"":l,u=e.linkType;void 0!==u&&console.warn("The 'linkType' prop is deprecated and should be named to 'link' in <ReferenceField />");var d=En()(c,r),p=s?s.replace(t,n):"/"+n,f=void 0!==u?u:o;return!!f&&("function"===typeof f?f(c,n):linkToRecord(p,d,f))},Iu=r(423),Fu="RA/CRUD_GET_MANY",useGetMany_assign=function(){return(useGetMany_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useGetMany_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},_u={},Du={action:Fu},Lu=function makeGetManySelector(){return Object(Iu.createSelector)([function(e,t){return En()(e,["admin","resources",t,"data"])},function(e,t,r){return r}],(function(e,t){return e?t.map((function(t){return e[t]})):t.map((function(e){}))}))},Bu=bo()((function(){Object.keys(_u).forEach((function(e){var t=useGetMany_spreadArrays(_u[e]),r=t.reduce((function(e,t){var r=t.ids;return ps()(e,r)}),[]).filter((function(e){return null!=e&&""!==e}));0!==r.length?(Au.getMany(e,{ids:r},Du).then((function(e){return c.a.unstable_batchedUpdates((function(){return t.forEach((function(t){var r=t.ids,n=t.setState,a=t.onSuccess;(n((function(e){return useGetMany_assign(useGetMany_assign({},e),{error:null,loading:!1,loaded:!0})})),a)&&a({data:r.map((function(t){return e.data.find((function(e){return e.id==t}))}))})}))}))})).catch((function(e){return c.a.unstable_batchedUpdates((function(){return t.forEach((function(t){var r=t.setState,n=t.onFailure;r({error:e,loading:!1,loaded:!1}),n&&n(e)}))}))})),delete _u[e]):t.forEach((function(e){e.ids;var t=e.setState,r=e.onSuccess;t({data:Mu,loading:!1,loaded:!0}),r&&r({data:Mu})}))}))})),Mu=[],Vu=function useGetMany(e,t,r){void 0===r&&(r={enabled:!0});var n=Object(a.useMemo)(Lu,[]),o=Object(u.f)((function(r){return n(r,e,t)})),i=ai(),c=useSafeSetState(0),l=c[0],s=c[1],d=Object(a.useCallback)((function(){s((function(e){return e+1}))}),[s]),p=useSafeSetState({data:o,error:null,loading:0!==t.length,loaded:0!==o.length&&!o.includes(void 0),refetch:d}),f=p[0],b=p[1];return H()(f.data,o)||b(useGetMany_assign(useGetMany_assign({},f),{data:o})),Au=ni(),Object(a.useEffect)((function(){!1!==r.enabled&&(_u[e]||(_u[e]=[]),_u[e]=_u[e].concat({ids:t,setState:b,onSuccess:r&&r.onSuccess,onFailure:r&&r.onFailure}),Bu())}),[JSON.stringify({resource:e,ids:t,options:r,version:i,innerVersion:l}),Au]),f},Wu=function useReference(e){var t=e.reference,r=e.id,n=Vu(t,[r]),a=n.data,o=n.error,i=n.loading,c=n.loaded,l=n.refetch;return{referenceRecord:o?void 0:a[0],refetch:l,error:o,loading:i,loaded:c}},LinearProgress_assign=function(){return(LinearProgress_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},LinearProgress_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Uu=Object(Br.a)((function(e){return{root:{margin:e.spacing(1)+"px 0",width:e.spacing(20)+"px"}}}),{name:"RaLinearProgress"}),zu=function LinearProgress(e){var t=e.timeout,r=void 0===t?1e3:t,n=LinearProgress_rest(e,["timeout"]),o=(n.classes,n.className),i=LinearProgress_rest(n,["classes","className"]),c=Uu(n);return useTimeout(r)?a.createElement(Qs.a,LinearProgress_assign({className:Sr()(c.root,o)},i)):null};zu.propTypes={classes:wr.a.object,className:wr.a.string,timeout:wr.a.number},zu.displayName="LinearProgress";var qu=zu,ReferenceField_assign=function(){return(ReferenceField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ReferenceField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Gu=function ReferenceField(e){var t=e.source,r=e.emptyText,n=ReferenceField_rest(e,["source","emptyText"]),o=ks(e);if(!Object(u.f)((function(t){return"undefined"!==typeof t.admin.resources[e.reference]})))throw new Error('You must declare a <Resource name="'+e.reference+'"> in order to use a <ReferenceField reference="'+e.reference+'">');return null==En()(o,t)?r?a.createElement(Lr.a,{component:"span",variant:"body2"},r):null:a.createElement(Hu,ReferenceField_assign({},n,{record:o,source:t}))};Gu.propTypes={addLabel:wr.a.bool,basePath:wr.a.string,children:wr.a.element.isRequired,classes:wr.a.any,className:wr.a.string,cellClassName:wr.a.string,headerClassName:wr.a.string,label:wr.a.oneOfType([wr.a.string,wr.a.element]),record:wr.a.any,reference:wr.a.string.isRequired,resource:wr.a.string,sortBy:wr.a.string,sortByOrder:nu.sortByOrder,source:wr.a.string.isRequired,translateChoice:wr.a.oneOfType([wr.a.func,wr.a.bool]),linkType:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),link:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]).isRequired},Gu.defaultProps={addLabel:!0,classes:{},link:"edit"};var Hu=function NonEmptyReferenceField(e){var t=e.children,r=e.record,n=e.source,o=ReferenceField_rest(e,["children","record","source"]);if(1!==a.Children.count(t))throw new Error("<ReferenceField> only accepts a single child");var i=o.basePath,c=o.resource,l=o.reference,s=Nu(ReferenceField_assign(ReferenceField_assign({},o),{resource:c,record:r,source:n,basePath:i}));return a.createElement(oo,{value:l},a.createElement(Zu,ReferenceField_assign({},o,Wu({reference:l,id:En()(r,n)}),{resourceLinkPath:s}),t))},Ju=Object(Br.a)((function(e){return{link:{color:e.palette.primary.main}}}),{name:"RaReferenceField"}),Qu=function stopPropagation(e){return e.stopPropagation()},Yu=function ReferenceFieldView(e){var t=e.basePath,r=e.children,n=e.className,o=(e.classes,e.error),i=e.loaded,c=(e.loading,e.record,e.reference),l=e.referenceRecord,s=e.refetch,u=(e.resource,e.resourceLinkPath),d=(e.source,e.translateChoice),p=void 0!==d&&d,f=ReferenceField_rest(e,["basePath","children","className","classes","error","loaded","loading","record","reference","referenceRecord","refetch","resource","resourceLinkPath","source","translateChoice"]),b=Ju(e);return o?a.createElement(Ru.a,{"aria-errormessage":o.message?o.message:o,role:"presentation",color:"error",fontSize:"small"}):i?l?u?a.createElement(Ts,{value:l},a.createElement(Ks,{to:u,className:n,onClick:Qu},Object(a.cloneElement)(a.Children.only(r),ReferenceField_assign({className:Sr()(r.props.className,b.link),record:l,refetch:s,resource:c,basePath:t,translateChoice:p},du(f))))):a.createElement(Ts,{value:l},Object(a.cloneElement)(a.Children.only(r),ReferenceField_assign({record:l,resource:c,basePath:t,translateChoice:p},du(f)))):null:a.createElement(qu,null)};Yu.propTypes={basePath:wr.a.string,children:wr.a.element,className:wr.a.string,classes:wr.a.any,loading:wr.a.bool,record:wr.a.any,reference:wr.a.string,referenceRecord:wr.a.any,resource:wr.a.string,resourceLinkPath:wr.a.oneOfType([wr.a.string,wr.a.oneOf([!1])]),source:wr.a.string,translateChoice:wr.a.oneOfType([wr.a.func,wr.a.bool])};var Zu=Object(a.memo)(Yu),Ku=Gu,Xu=function indexById(e){return void 0===e&&(e=[]),e.filter((function(e){return"undefined"!==typeof e})).reduce((function(e,t){return e[t.id]=t,e}),{})},usePaginationState_assign=function(){return(usePaginationState_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},$u=function paginationReducer(e,t){return usePaginationState_assign(usePaginationState_assign({},e),t)},ed={page:1,perPage:25},usePaginationState=function(e){void 0===e&&(e={});var t=Object(a.useReducer)($u,usePaginationState_assign(usePaginationState_assign({},ed),e)),r=t[0],n=t[1],o=Object(a.useRef)(!0),i=Object(a.useCallback)((function(e){return n({perPage:e})}),[]),c=Object(a.useCallback)((function(e){return n({page:e})}),[]);return Object(a.useEffect)((function(){o.current?o.current=!1:i(e.perPage||25)}),[e.perPage,i]),{page:r.page,perPage:r.perPage,pagination:r,setPage:c,setPerPage:i,setPagination:n}},useSortState_assign=function(){return(useSortState_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},td=function sortReducer(e,t){switch(t.type){case"SET_SORT":return t.payload.sort;case"SET_SORT_FIELD":var r=t.payload.field;return{field:r,order:n=e.field===r&&e.order===jo?xo:jo};case"SET_SORT_ORDER":var n=t.payload.order;return useSortState_assign(useSortState_assign({},e),{order:n});default:return e}},rd={field:"id",order:"DESC"},nd=function useSortState(e){void 0===e&&(e=rd);var t=Object(a.useReducer)(td,e),r=t[0],n=t[1],o=Object(a.useRef)(!0);return Object(a.useEffect)((function(){o.current?o.current=!1:n({type:"SET_SORT",payload:{sort:e}})}),[e.field,e.order]),{setSort:Object(a.useCallback)((function(e){return n({type:"SET_SORT",payload:{sort:e}})}),[n]),setSortField:Object(a.useCallback)((function(e){return n({type:"SET_SORT_FIELD",payload:{field:e}})}),[n]),setSortOrder:Object(a.useCallback)((function(e){return n({type:"SET_SORT_ORDER",payload:{order:e}})}),[n]),sort:r}},useSelectionState_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},ad=[],od=function useSelectionState(e){void 0===e&&(e=ad);var t=useSafeSetState(e),r=t[0],n=t[1],o=Object(a.useRef)(!0);return Object(a.useEffect)((function(){o.current?o.current=!1:n(e)}),[e,n]),{selectedIds:r,onSelect:Object(a.useCallback)((function(e){n(e)}),[n]),onToggleItem:Object(a.useCallback)((function(e){n((function(t){var r=t.indexOf(e);return r>-1?useSelectionState_spreadArrays(t.slice(0,r),t.slice(r+1)):useSelectionState_spreadArrays(t,[e])}))}),[n]),onUnselectItems:Object(a.useCallback)((function(){n([])}),[n])}},useList_assign=function(){return(useList_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useList_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},id={},cd={field:null,order:null},useReferenceArrayFieldController_assign=function(){return(useReferenceArrayFieldController_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ld=[],sd={},ud={field:null,order:null},dd=function useReferenceArrayFieldController(e){var t=e.basePath,r=e.filter,n=void 0===r?sd:r,o=e.page,i=void 0===o?1:o,c=e.perPage,l=void 0===c?1e3:c,s=e.record,u=e.reference,d=e.sort,p=void 0===d?ud:d,f=e.source,b=bi(e),m=tr(),h=En()(s,f)||ld,y=Vu(u,h,{onFailure:function onFailure(e){return m("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}}),g=y.data,O=y.error,v=y.loading,j=y.loaded,x=y.refetch,w=function useList(e){var t=e.data,r=e.error,n=e.filter,o=void 0===n?id:n,i=e.ids,c=e.loaded,l=e.loading,s=e.page,u=void 0===s?1:s,d=e.perPage,p=void 0===d?1e3:d,f=e.sort,b=void 0===f?cd:f,m=useSafeSetState(l),h=m[0],y=m[1],g=useSafeSetState(c),O=g[0],v=g[1],j=useSafeSetState((function(){return{data:Xu(t),ids:i}})),x=j[0],w=j[1],E=usePaginationState({page:u,perPage:p}),S=E.page,P=E.setPage,C=E.perPage,A=E.setPerPage,T=nd(b),k=T.sort,R=T.setSort,N=Object(a.useCallback)((function(e,t){void 0===t&&(t="ASC"),R({field:e,order:t}),P(1)}),[P,R]),I=od(),F=I.selectedIds,_=I.onSelect,D=I.onToggleItem,L=I.onUnselectItems,B=Object(a.useRef)(o),M=useSafeSetState({}),V=M[0],W=M[1],U=useSafeSetState(o),z=U[0],q=U[1],G=Object(a.useCallback)((function(e){W((function(t){var r=t,n=e;return r[n],useList_rest(r,["symbol"===typeof n?n:n+""])})),q((function(t){var r=t,n=e;return r[n],useList_rest(r,["symbol"===typeof n?n:n+""])}))}),[W,q]),J=Object(a.useCallback)((function(e,t){W((function(t){var r;return useList_assign(useList_assign({},t),((r={})[e]=!0,r))})),q((function(r){var n;return yo(useList_assign(useList_assign({},r),((n={})[e]=t,n)))}))}),[W,q]),Q=Object(a.useCallback)((function(e,t){q(yo(e)),t&&W(t),P(1)}),[W,q,P]);return Object(a.useEffect)((function(){H()(o,B.current)||(B.current=o,q(o))})),Object(a.useEffect)((function(){if(c){var e=t.filter((function(e){return Object.entries(z).every((function(t){var r=t[0],n=t[1],a=En()(e,r);return Array.isArray(a)?Array.isArray(n)?a.some((function(e){return n.includes(e)})):a.includes(n):Array.isArray(n)?n.includes(a):n==a}))}));k.field&&(e=e.sort((function(e,t){return En()(e,k.field)>En()(t,k.field)?"ASC"===k.order?1:-1:En()(e,k.field)<En()(t,k.field)?"ASC"===k.order?-1:1:0}))),e=e.slice((S-1)*C,S*C);var r=Xu(e),n=e.filter((function(e){return"undefined"!==typeof e})).map((function(e){return e.id}));w({data:r,ids:n})}}),[t,z,c,S,C,w,k.field,k.order]),Object(a.useEffect)((function(){c!==O&&v(c)}),[c,O,v]),Object(a.useEffect)((function(){l!==h&&y(l)}),[l,h,y]),{currentSort:k,data:x.data,error:r,displayedFilters:V,filterValues:z,hideFilter:G,ids:x.ids,loaded:O,loading:h,onSelect:_,onToggleItem:D,onUnselectItems:L,page:S,perPage:C,selectedIds:F,setFilters:Q,setPage:P,setPerPage:A,setSort:N,showFilter:J,total:x.ids.length}}({data:g,error:O,filter:n,ids:h,loaded:j,loading:v,page:i,perPage:l,sort:p});return useReferenceArrayFieldController_assign(useReferenceArrayFieldController_assign({basePath:t?t.replace(b,u):"/"+u},w),{defaultTitle:null,hasCreate:!1,refetch:x,resource:u})},ReferenceArrayField_assign=function(){return(ReferenceArrayField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ReferenceArrayField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},pd=function ReferenceArrayField(e){var t=e.basePath,r=e.children,n=e.filter,o=e.page,i=void 0===o?1:o,c=e.perPage,l=e.reference,s=e.resource,d=e.sort,p=e.source,f=ks(e);if(1!==a.Children.count(r))throw new Error("<ReferenceArrayField> only accepts a single child (like <Datagrid>)");if(!Object(u.f)((function(t){return"undefined"!==typeof t.admin.resources[e.reference]})))throw new Error('You must declare a <Resource name="'+e.reference+'"> in order to use a <ReferenceArrayField reference="'+e.reference+'">');var b=dd({basePath:t,filter:n,page:i,perPage:c,record:f,reference:l,resource:s,sort:d,source:p});return a.createElement(oo,{value:l},a.createElement(Ni,{value:b},a.createElement(md,ReferenceArrayField_assign({},e,b))))};pd.propTypes=ReferenceArrayField_assign(ReferenceArrayField_assign({},nu),{addLabel:wr.a.bool,basePath:wr.a.string,classes:wr.a.object,className:wr.a.string,children:wr.a.element.isRequired,label:wr.a.string,record:wr.a.any,reference:wr.a.string.isRequired,resource:wr.a.string,sortBy:wr.a.string,sortByOrder:nu.sortByOrder,source:wr.a.string.isRequired}),pd.defaultProps={addLabel:!0};var fd=Object(Br.a)((function(e){return{progress:{marginTop:e.spacing(2)}}}),{name:"RaReferenceArrayField"}),bd=function ReferenceArrayFieldView(e){var t=e.children,r=e.pagination,n=e.className,o=e.resource,i=(e.reference,ReferenceArrayField_rest(e,["children","pagination","className","resource","reference"])),c=fd(e);return ec(e).loaded?a.createElement(a.Fragment,null,Object(a.cloneElement)(a.Children.only(t),ReferenceArrayField_assign(ReferenceArrayField_assign({},du(i)),{className:n,resource:o}))," ",r&&void 0!==e.total&&Object(a.cloneElement)(r,du(i))):a.createElement(qu,{className:c.progress})};bd.propTypes={basePath:wr.a.string,classes:wr.a.any,className:wr.a.string,data:wr.a.any,ids:wr.a.array,loaded:wr.a.bool,children:wr.a.element.isRequired,reference:wr.a.string.isRequired};var md=Object(a.memo)(bd),hd=pd,TextField_assign=function(){return(TextField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},TextField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},yd=Object(a.memo)((function(e){var t=e.className,r=e.source,n=e.emptyText,o=TextField_rest(e,["className","source","emptyText"]),i=ks(e),c=En()(i,r);return a.createElement(Lr.a,TextField_assign({component:"span",variant:"body2",className:t},du(o)),null!=c&&"string"!==typeof c?JSON.stringify(c):c||n)}));yd.displayName="TextField",yd.defaultProps={addLabel:!0},yd.propTypes=TextField_assign(TextField_assign({},Lr.a.propTypes),nu);var gd=yd,UrlField_assign=function(){return(UrlField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},UrlField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Od=Object(a.memo)((function(e){var t=e.className,r=e.emptyText,n=e.source,o=UrlField_rest(e,["className","emptyText","source"]),i=ks(e),c=En()(i,n);return null==c?a.createElement(Lr.a,UrlField_assign({component:"span",variant:"body2",className:t},du(o)),r):a.createElement(xu.a,UrlField_assign({className:t,href:c},du(o)),c)}));Od.defaultProps={addLabel:!0},Od.propTypes=nu,Od.displayName="UrlField";var listFieldTypes_assign=function(){return(listFieldTypes_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},listFieldTypes_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},vd={table:{component:function component(e){return a.createElement(Js,listFieldTypes_assign({rowClick:"edit"},e))},representation:function representation(e,t){return'        <Datagrid rowClick="edit">\n'+t.map((function(e){return"            "+e.getRepresentation()})).join("\n")+"\n        </Datagrid>"}},array:{component:function component(e){var t=e.children,r=listFieldTypes_rest(e,["children"]);return a.createElement(iu,listFieldTypes_assign({},r),a.createElement(ru,null,a.createElement(gu,{source:t.length>0&&t[0].props.source})))},representation:function representation(e,t){return'<ArrayField source="'+e.source+'"><SingleFieldList><ChipField source="'+(t.length>0&&t[0].getProps().source)+'" /></SingleFieldList></ArrayField>'}},boolean:{component:bu,representation:function representation(e){return'<BooleanField source="'+e.source+'" />'}},date:{component:ju,representation:function representation(e){return'<DateField source="'+e.source+'" />'}},email:{component:Su,representation:function representation(e){return'<EmailField source="'+e.source+'" />'}},id:{component:gd,representation:function representation(e){return'<TextField source="'+e.source+'" />'}},number:{component:Tu,representation:function representation(e){return'<NumberField source="'+e.source+'" />'}},reference:{component:Ku,representation:function representation(e){return'<ReferenceField source="'+e.source+'" reference="'+e.reference+'"><TextField source="id" /></ReferenceField>'}},referenceChild:{component:function component(e){return a.createElement(gd,listFieldTypes_assign({source:"id"},e))},representation:function representation(){return'<TextField source="id" />'}},referenceArray:{component:hd,representation:function representation(e){return'<ReferenceArrayField source="'+e.source+'" reference="'+e.reference+'"><TextField source="id" /></ReferenceArrayField>'}},referenceArrayChild:{component:function component(e){return a.createElement(gd,listFieldTypes_assign({source:"id"},e))},representation:function representation(){return'<TextField source="id" />'}},richText:void 0,string:{component:gd,representation:function representation(e){return'<TextField source="'+e.source+'" />'}},url:{component:Od,representation:function representation(e){return'<UrlField source="'+e.source+'" />'}}},ListGuesser_assign=function(){return(ListGuesser_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jd=function ListViewGuesser(e){var t=e.ids,r=e.data,n=bi(e),o=Object(a.useState)(null),i=o[0],c=o[1];return Object(a.useEffect)((function(){if(t.length>0&&r&&!i){var e=function(e,t){var r=getValuesFromRecords(e);return Object.keys(r).reduce((function(e,n){return e.concat(Ki(n,r[n],t))}),[]).filter((function(e){return e.isDefined()}))}(t.map((function(e){return r[e]})),vd),n=new Ii(vd.table,null,e);c(n.getElement())}}),[r,t,i,n]),a.createElement(os,ListGuesser_assign({},e),i)};jd.propTypes=os.propTypes;var xd=function ListGuesser(e){var t=gi(e);return a.createElement(Ni,{value:t},a.createElement(jd,ListGuesser_assign({},e,t)))},wd=r(412),Ed=r.n(wd),Sd=function(){var e=function extendStatics(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){function __(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(__.prototype=r.prototype,new __)}}(),ra_data_fakerest_esm_assign=function(){return(ra_data_fakerest_esm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};var Pd=function(e){function UndefinedResourceError(){return null!==e&&e.apply(this,arguments)||this}return Sd(UndefinedResourceError,e),UndefinedResourceError}(Error),Cd=r(72),Ad=r(24),Td=[{id:0,name:"football-fan",color:"#eddcd2"},{id:1,name:"holiday-card",color:"#fff1e6"},{id:2,name:"influencer",color:"#fde2e4"},{id:3,name:"manager",color:"#fad2e1"},{id:4,name:"musician",color:"#c5dedd"},{id:5,name:"vip",color:"#dbe7e4"}],kd=r(199),Rd=r.n(kd),Nd=function weightedBoolean(e){return Rd.a.random.number(99)<e},Id=function randomDate(e,t){var r=e instanceof Date?e.getTime():Date.now()-15768e7,n=(t instanceof Date?t.getTime():Date.now())-r,a=Rd.a.random.number({max:n}),o=Math.sqrt(a/n)*n;return new Date(r+o)},Fd=["Communication Services","Consumer Discretionary","Consumer Staples","Energy","Financials","Health Care","Industrials","Information Technology","Materials","Real Estate","Utilities"],_d=[1,10,50,250,500],Dd=/\W+/,Ld=["male","female"],Bd=["cold","cold","cold","warm","warm","hot","in-contract"],Md={1:1,10:4,50:12,250:25,500:50},Vd=["Email","Call","Call","Call","Call","Meeting","Reminder"],Wd=["cold","cold","cold","warm","warm","hot","in-contract"],Ud=["Email","Email","Email","Email","Email","Email","Call","Call","Call","Call","Call","Call","Call","Call","Call","Call","Call","Demo","Lunch","Meeting","Follow-up","Follow-up","Thank you","Ship","None"],zd=r(976),qd=["Other","Copywriting","Print project","UI Design","Website design"],Gd=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],Hd=["Email","Call","Call","Call","Call","Meeting","Reminder"],Jd=function(e,t){void 0===t&&(t=!1);var r=new Ed.a.Server;r.init(e),"undefined"!==typeof window&&(window.restServer=r);var n=function handle(e,n,a){var o;if(!r.getCollection(n)&&"create"!==e){var i=new Pd('Undefined collection "'+n+'"');return i.code=1,Promise.reject(i)}try{o=function getResponse(e,t,n){var a;switch(e){case"getList":var o=n.pagination,i=o.page,c=o.perPage,l=n.sort,s={sort:[l.field,l.order],range:[(i-1)*c,i*c-1],filter:n.filter};return{data:r.getAll(t,s),total:r.getCount(t,{filter:n.filter})};case"getOne":return{data:r.getOne(t,n.id,ra_data_fakerest_esm_assign({},n))};case"getMany":return{data:r.getAll(t,{filter:{id:n.ids}})};case"getManyReference":var u=n.pagination,d=(i=u.page,c=u.perPage,n.sort);return s={sort:[d.field,d.order],range:[(i-1)*c,i*c-1],filter:ra_data_fakerest_esm_assign(ra_data_fakerest_esm_assign({},n.filter),(a={},a[n.target]=n.id,a))},{data:r.getAll(t,s),total:r.getCount(t,{filter:s.filter})};case"update":return{data:r.updateOne(t,n.id,ra_data_fakerest_esm_assign({},n.data))};case"updateMany":return n.ids.forEach((function(e){return r.updateOne(t,e,ra_data_fakerest_esm_assign({},n.data))})),{data:n.ids};case"create":return{data:r.addOne(t,ra_data_fakerest_esm_assign({},n.data))};case"delete":return{data:r.removeOne(t,n.id)};case"deleteMany":return n.ids.forEach((function(e){return r.removeOne(t,e)})),{data:n.ids};default:return!1}}(e,n,a)}catch(i){return console.error(i),Promise.reject(i)}return t&&function log(e,t,r,n){console.group?(console.groupCollapsed(e,t,JSON.stringify(r)),console.log(n),console.groupEnd()):(console.log("FakeRest request ",e,t,r),console.log("FakeRest response",n))}(e,n,a,o),Promise.resolve(o)};return{getList:function getList(e,t){return n("getList",e,t)},getOne:function getOne(e,t){return n("getOne",e,t)},getMany:function getMany(e,t){return n("getMany",e,t)},getManyReference:function getManyReference(e,t){return n("getManyReference",e,t)},update:function update(e,t){return n("update",e,t)},updateMany:function updateMany(e,t){return n("updateMany",e,t)},create:function create(e,t){return n("create",e,t)},delete:function _delete(e,t){return n("delete",e,t)},deleteMany:function deleteMany(e,t){return n("deleteMany",e,t)}}}(function(){var e={};return e.sales=function generateSales(e){var t=Array.from(Array(10).keys()).map((function(e){var t=Ad.name.firstName(),r=Ad.name.lastName();return{id:e+1,first_name:t,last_name:r,email:Ad.internet.email(t,r)}}));return[{id:0,first_name:"Jane",last_name:"Doe",email:"janedoe@atomic.dev"}].concat(Object(Cd.a)(t))}(),e.tags=function generateTags(e){return[].concat(Td)}(),e.companies=function generateCompanies(e){return Array.from(Array(55).keys()).map((function(t){var r=Ad.company.companyName();return{id:t,name:r,logo:"/logos/".concat(t,".png"),sector:Ad.random.arrayElement(Fd),size:Ad.random.arrayElement(_d),linkedIn:"https://www.linkedin.com/company/".concat(r.toLowerCase().replace(Dd,"_")),website:Ad.internet.url(),phone_number:Ad.phone.phoneNumber(),address:Ad.address.streetAddress(),zipcode:Ad.address.zipCode(),city:Ad.address.city(),stateAbbr:Ad.address.stateAbbr(),nb_contacts:0,nb_deals:0,sales_id:0===Ad.random.number(2)?0:Ad.random.arrayElement(e.sales).id,created_at:Id().toISOString()}}))}(e),e.contacts=function generateContacts(e){var t=0;return Array.from(Array(500).keys()).map((function(r){var n,a=Nd(25)&&t<223,o=Ad.random.arrayElement(Ld),i=Ad.name.firstName(o),c=Ad.name.lastName(),l=Ad.internet.email(i,c),s=a?"https://marmelab.com/posters/avatar-"+(223-t)+".jpeg":void 0,u=Ad.company.bsAdjective();a&&t++;do{n=Ad.random.arrayElement(e.companies)}while(n.nb_contacts>=Md[n.size]);n.nb_contacts++;var d=Id(new Date(n.created_at)).toISOString(),p=d;return{id:r,first_name:i,last_name:c,gender:o,title:u.charAt(0).toUpperCase()+u.substr(1),company_id:n.id,email:l,phone_number1:Ad.phone.phoneNumber(),phone_number2:Ad.phone.phoneNumber(),background:Ad.lorem.sentence(),acquisition:Ad.random.arrayElement(["inbound","outbound"]),avatar:s,first_seen:d,last_seen:p,has_newsletter:Nd(30),status:Ad.random.arrayElement(Bd),tags:Ad.random.arrayElements(e.tags,Ad.random.arrayElement([0,0,0,1,1,2])).map((function(e){return e.id})),sales_id:n.sales_id,nb_notes:0}}))}(e),e.contactNotes=function generateContactNotes(e){return Array.from(Array(1200).keys()).map((function(t){var r=Ad.random.arrayElement(e.contacts),n=Id(new Date(r.first_seen)).toISOString();return r.nb_notes++,r.last_seen=n>r.last_seen?n:r.last_seen,{id:t,contact_id:r.id,type:Ad.random.arrayElement(Vd),text:Ad.lorem.paragraphs(Ad.random.number({min:1,max:4})),date:n,sales_id:r.sales_id,status:Ad.random.arrayElement(Wd)}}))}(e),e.deals=function generateDeals(e){var t=Array.from(Array(50).keys()).map((function(t){var r=Ad.random.arrayElement(e.companies);r.nb_deals++;var n=Ad.random.arrayElements(e.contacts.filter((function(e){return e.company_id===r.id})),Ad.random.number({min:1,max:3})),a=Ad.lorem.words(),o=Id(new Date(r.created_at)).toISOString();return{id:t,name:a[0].toUpperCase()+a.slice(1),company_id:r.id,contact_ids:n.map((function(e){return e.id})),type:Ad.random.arrayElement(qd),stage:Ad.random.arrayElement(Gd),description:Ad.lorem.paragraphs(Ad.random.number({min:1,max:4})),amount:100*Ad.random.number(1e3),created_at:o,updated_at:Id(new Date(o)).toISOString(),start_at:Id(new Date,Object(zd.a)(new Date,{months:6})).toISOString(),sales_id:r.sales_id,index:0,nb_notes:0}}));return Gd.forEach((function(e){t.filter((function(t){return t.stage===e})).forEach((function(e,r){t[e.id].index=r}))})),t}(e),e.dealNotes=function generateDealNotes(e){return Array.from(Array(300).keys()).map((function(t){var r=Ad.random.arrayElement(e.deals);return r.nb_notes++,{id:t,deal_id:r.id,type:Ad.random.arrayElement(Hd),text:Ad.lorem.paragraphs(Ad.random.number({min:1,max:4})),date:Id(new Date(e.companies[r.company_id].created_at)).toISOString(),sales_id:r.sales_id}}))}(e),e.tasks=function generateTasks(e){return Array.from(Array(400).keys()).map((function(t){var r=Ad.random.arrayElement(e.contacts);return{id:t,contact_id:r.id,type:Ad.random.arrayElement(Ud),text:Ad.lorem.sentence(),due_date:Id(new Date(r.first_seen)),sales_id:r.sales_id}}))}(e),function finalize(e){e.contactNotes.sort((function(e,t){return new Date(e.date).valueOf()-new Date(t.date).valueOf()})).forEach((function(t){e.contacts[t.contact_id].status=t.status}))}(e),e}(),!0),Qd=new Proxy(Jd,{get:function get(e,t){return function(e,r){return new Promise((function(n){return setTimeout((function(){return n(Jd[t](e,r))}),300)}))}}});localStorage.setItem("username","Jane Doe");var Yd={login:function login(e){var t=e.username;return localStorage.setItem("username",t),Promise.resolve()},logout:function logout(){return localStorage.removeItem("username"),Promise.resolve()},checkError:function checkError(){return Promise.resolve()},checkAuth:function checkAuth(){return localStorage.getItem("username")?Promise.resolve():Promise.reject()},getPermissions:function getPermissions(){return Promise.reject("Unknown method")},getIdentity:function getIdentity(){return Promise.resolve({id:0,fullName:"Jane Doe",avatar:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4gKgSUNDX1BST0ZJTEUAAQEAAAKQbGNtcwQwAABtbnRyUkdCIFhZWiAH3wAIABMAEgAWADFhY3NwQVBQTAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA9tYAAQAAAADTLWxjbXMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAtkZXNjAAABCAAAADhjcHJ0AAABQAAAAE53dHB0AAABkAAAABRjaGFkAAABpAAAACxyWFlaAAAB0AAAABRiWFlaAAAB5AAAABRnWFlaAAAB+AAAABRyVFJDAAACDAAAACBnVFJDAAACLAAAACBiVFJDAAACTAAAACBjaHJtAAACbAAAACRtbHVjAAAAAAAAAAEAAAAMZW5VUwAAABwAAAAcAHMAUgBHAEIAIABiAHUAaQBsAHQALQBpAG4AAG1sdWMAAAAAAAAAAQAAAAxlblVTAAAAMgAAABwATgBvACAAYwBvAHAAeQByAGkAZwBoAHQALAAgAHUAcwBlACAAZgByAGUAZQBsAHkAAAAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEoAAAXj///zKgAAB5sAAP2H///7ov///aMAAAPYAADAlFhZWiAAAAAAAABvlAAAOO4AAAOQWFlaIAAAAAAAACSdAAAPgwAAtr5YWVogAAAAAAAAYqUAALeQAAAY3nBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbcGFyYQAAAAAAAwAAAAJmZgAA8qcAAA1ZAAAT0AAACltwYXJhAAAAAAADAAAAAmZmAADypwAADVkAABPQAAAKW2Nocm0AAAAAAAMAAAAAo9cAAFR7AABMzQAAmZoAACZmAAAPXP/bAEMACAYGBwYFCAcHBwkJCAoMFA0MCwsMGRITDxQdGh8eHRocHCAkLicgIiwjHBwoNyksMDE0NDQfJzk9ODI8LjM0Mv/bAEMBCQkJDAsMGA0NGDIhHCEyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMv/AABEIAIAAgAMBIgACEQEDEQH/xAAcAAABBAMBAAAAAAAAAAAAAAABAAUGBwIDBAj/xAA2EAABAwMBBgMHAwQDAQAAAAABAAIDBAUREgYTITFBUSJxgRQyYZGxwdEHQqEkUmLhFRYjkv/EABoBAAIDAQEAAAAAAAAAAAAAAAIDAAEEBQb/xAAkEQACAgIDAAEEAwAAAAAAAAAAAQIRAyEEEjETBSJRcTJBYf/aAAwDAQACEQMRAD8AuIIoIogAooIqygorB72xsc97g1rRkk9FFrlfnVD3Rwu0Qj5uQyko+hRi5eEjlr6aEkOlBI6N4rSbpCG6j4R0zzPoFEIpZpn+Ahv+TuJ9E9Qtipodc0haD15ud5BI+Vsb8aXoq/a6GgJ1UsrgBknTj6rgp/1JtEkgjnbNTk9Xxkt/+m5Cbrvbam9sc2XeU9G0jTFry6Q9M/hddk/T6kpId7UwNmqJCOBOGxjoD3KLvIroiX0VxprhCJaeVr2njlpyutR+k2dlttQZ4KwMZpwIGjwD5lbI785leaSppZWHmJG+JpHfKYppgOLQ9pIAhwBHIpIwBJFJBQhgiEAiFRYQkgmzaCuNDaZHsOJHeBvmVG6VkSt0Me0l93spoqY5Y0+N3Qn8JgjdrcA3xOPU9f8AS485Jy4c8ucep/CzirNBIh4D9zz1WGU7dmyMElRIIXspeBw+fGeJ4N8/wtsEstTUtHFzz1Pb7BNVHvJQA0EAnOo83fH/AGpBR7qniw14yfekz9+qFMNxHiljYwjhqc3kTxPxwnaIZA+6ZoJWDGhjnZ68gnaEvewftHw4BOixTVGc2GsOdI4c3KFXmSuq75Rw0kQ3EWZKieQaQG8g0D4n7KauaGgiNu8eeJJPBN89JLUN8btWg5HDAL++OwUZSMbTWxV9vZNFqxyIcMEELuTdTBtNUbiP3A0D5BOC0QdozzVMWUksoIwTBFBIKEMlFdtJSIKaMHHEuKlKg+3Ly6rgizhugl3wHVLyv7WMxK5Ih8k2+IAJEecNGeLvj5LvoossDsZHl9E2x6ZZNTvDGPp2WFde45P6WlqI4tPAZIGT6rAb0vwSiOox4RgA+84nn6ruiuAhLdA1n+5x5Kt6SsrYagtqqkyuJ8Jxj+FLpIql9qM0b9GW8Ceioaoa2TigrXStDsMb8SOKeYtUgGpxLe5+wVQ2eouftIabs52T7ugHPqrOtNNX7gb+r3zSPE1zNJPljknQaehGSFDo6piax5Em7iZ78h+gXJV1OId7lzIgzIYOePyue4QvxGGs8OsAN6D/ACPfH1QinirgZmODoi4Mb5BFYlqjfSsc58kjxgkN4dua61wWWqFbb2VGCDM4uAPMN6LsJ4p+LwRlM8pZWGUU0UBFYhFUWFV/t0S67xR8muhGT8MqwFDNvKJz4IqxgyWjQ49uyXl3EbidSKxrp31VWaKnJaxoySO6aX7INZG9swlcHuD3OyMkjlxKdLWA2uqJH/3NH8KRVNWz2XJ7LCm1tHSUIyWyL0NvdC6CnBeQHjRqOSB2VwVdnd/1YwRt/wDQx8Pkq4sX9XdoXubpZrGCeo7q7i3eW0OjbqLW8B3RRjdkm+tJHn6usdbV1JY6rnpmBww5jT4QPLn6q09jLdcKBsRgv0lZSFgaaaoYXBuBza4kuB7g5HwCa6y50tRWvi3ZjeHYc1wwQVMdm42NaC3lhXBu6JkikuzHS4QuNuqCPf3biPPCqj9OdonubHa6txLyXkPJ65JH1x6K27tKYrXVPAyRE/A7nBVE7OUEtJtDSs0k6JwHO8zghMemZ6bjZcdqjZT0jo2DAY4tC68rVBHuosY4klx81sWnGqiYcjuRkllAIhGCBFBFUWFc9dSR11FLTyDLXtI8l0BJUXZRt4tNRZ7hPFI3Trw5p6HHBcEk0jgwO93l6q3tsrJ/y1oL4WZqYTqZ8R1H0VRVEDKqikgkaQRkdiCsOWHWR0+Pk7RFRzVNHXQmNwc1pHAHBVq2m+19QIzTgMhaMFsjclx+ap2wW6gn3dNXvqIpA7G+DstcB9CrVtVqsVDa4Zpa2eUmPIDS4knIzgD4FUou9Dvtqpe/oZ9qrfUR1Elw3ZDy7UeGAVKtibgKi3skzwPDj0KiV7ornc6xk8EtdTW+QhraSZ+S49SW8cAeamWzlsFupBG39ztXkotSKl/CmO21N3pbLs7U3GtL/Z4tOsMGScuAwB6qK7JUrbs1t6ex+5kOuESBoceJ4uDeGfJP+1NpO0NLSWyRgNE6cS1Rzza3iGjzOPknKCnipadkEEbY4o2hrWtGAAFojj7O2YJ5eq6oyKCywlhaTIBEJJKEMQigEVRYUViioQJAIIPVVrtzYW0FY2507cQVLtMoH7X9/X6hWVlcl0pKWvtlRTVuPZ3sOs5xpxx1A9COaDJDtGhuKbhKyjW2uT2newSuZq544g+in2ytGYpGzTPMj28WgNAwofRV0cFU6F7w5oOGudw1DoVPbRdKCBrdU0eojg1pyT6BYbr+zsd5dKRIvZN6/ey4yPhyXRTx+PDeXfssaZz6wBzssj6N6nzTiyJrAABgI1vaMrdaZp06SQTniktkvv5WtbIO4o5+RVJgwkikjAAkigVCGsJZWuSaOGMySvaxg5uccAJiqtqqeNxbSxOmP9x8I/KCU4x9DjCUvESIJuvG0Fp2fp2zXWvhpWPzo3h4uxzwBxKi1XtTcJGnS5sDe7Bx+ZVD7WX+p2gvs1TNM+VkZ3cOp2fCD9+amOayPReTG4LZaF2/XVjKmRlotTZIG5DZal5Bce+kch5lcLNqL5erSJrhXPd7SNRiYA2No6AAKocHGOqs21NJs1K3HERgfwg5T6xSQzixTk2zAtEziCn6wwbmoa4DHHoE1tgO9BA9FJLfTua0ODeK5sjpw0WFaagua0Ek+akAcC3KiNnbI0AkKTsfiLJTsb0IyrZue3U3yULuW39stV+fbKlkmmMAPmZ4sPPTCeNoL9HZbPUVbiCWN8I7novPE9TLVVktTM4ukkLnuJ6kldPg4fkk2/DncyfSKr09C2zaizXZzI6SvidM/lE7wv8AkU7rznsdUvG1Nvbk5FWz6r0O2XuPkj5EYYpJJ+isPfIm6NqCQcDySSk0/A2mvStrpepLtWu0kimYcRt+5+K1sZlqa6LmMp13ga1cuUnJ2zrQioqkM21VULfs7VzA4foLWeZ4fdUnjAHmrI/Uiv8A6OmpQffeXkfAD8lVyBlkY75K6XDhWO/yc7ly++vwGMZljGM5I+qvWlpab2eMNiDQGjgAqNb4J2EftwR6cV6Et0Daihp5WjwyRtcPUIebGkhnCabZjTWykmOHsHDkU7U9BHF7ucLXFTljuSc4W8srnUb26OmmeI2Dgt7qzIw44C1BgwmLaq7w2a0S1Dj4sYYM8S7oEyKb0hcmvWRD9S9pI6qaCz0rsiM7ydw79B6c/kq/Mni7cM/RYmd9XUyVEpJe4l7s9StD3nWT105+y9NxsXw4lE8/nyfLkch32Lk07X21zjw3+r5L0HHUa25yvPWxzc7YW9nYk/wVdrKgsAHRcn6lKpx/R0+BG4N/6P8AFL4hxTg2IvZkc1HqSoy8EqUUUgfGFjxt3o0ZUq2f/9k="})}},Zd=r(58),Kd=r(66),Xd=r(67),$d=r(68),ep=r(927),tp=r(928),rp=r(969),np=r(971),ap=r(919),op=Object(Br.a)({root:{flexGrow:1},logo:{width:50,height:43.54}}),ip=function Header(){var e,t=op(),r=Object(Zt.i)(["/contacts","/companies","/deals"]),a=null!==(e=null===r||void 0===r?void 0:r.path)&&void 0!==e?e:"/";return Object(n.jsx)("nav",{className:t.root,children:Object(n.jsx)(Ir.a,{position:"static",color:"primary",children:Object(n.jsx)(Fr.a,{variant:"dense",children:Object(n.jsxs)(rp.a,{flex:1,display:"flex",justifyContent:"space-between",children:[Object(n.jsxs)(rp.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)("img",{className:t.logo,src:"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg",alt:"Bosch Logo"}),Object(n.jsx)(Lr.a,{component:"span",variant:"h5",children:"Atomic CRM"})]}),Object(n.jsx)(rp.a,{children:Object(n.jsxs)(np.a,{value:a,"aria-label":"Navigation Tabs",children:[Object(n.jsx)(ap.a,{label:"Dashboard",component:Dn.a,to:"/",value:"/"}),Object(n.jsx)(ap.a,{label:"Contacts",component:Dn.a,to:"/contacts",value:"/contacts"}),Object(n.jsx)(ap.a,{label:"Companies",component:Dn.a,to:"/companies",value:"/companies"}),Object(n.jsx)(ap.a,{label:"Deals",component:Dn.a,to:"/deals",value:"/deals"})]})}),Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(tn,{}),Object(n.jsx)(mn,{logout:Object(n.jsx)($a,{button:!0})})]})]})})})})},cp=function(e){Object(Xd.a)(Layout,e);var t=Object($d.a)(Layout);function Layout(e){var r;return Object(Zd.a)(this,Layout),(r=t.call(this,e)).state={hasError:!1,errorMessage:void 0,errorInfo:void 0},e.history.listen((function(){r.state.hasError&&r.setState({hasError:!1})})),r}return Object(Kd.a)(Layout,[{key:"componentDidCatch",value:function componentDidCatch(e,t){this.setState({hasError:!0,errorMessage:e.message,errorInfo:t})}},{key:"render",value:function render(){var e=this.props,t=e.theme,r=e.title,a=e.children,o=this.state,i=o.hasError,c=o.errorMessage,l=o.errorInfo;return Object(n.jsxs)(Ar.a,{theme:Object(ya.a)(t),children:[Object(n.jsx)(ep.a,{}),Object(n.jsx)(ip,{}),Object(n.jsx)(tp.a,{children:Object(n.jsx)("main",{id:"main-content",children:i?Object(n.jsx)(sa,{error:c,errorInfo:l,title:r}):a})}),Object(n.jsx)($n,{})]})}}]),Layout}(a.Component),lp=Object(Zt.j)(cp),sp=function useGetOne(e,t,r){return ci({type:"getOne",resource:e,payload:{id:t}},r,(function(r){if(Object.keys(r.admin.resources).length>0&&!r.admin.resources[e])throw new Error('No <Resource> defined for "'+e+"\". useGetOne() relies on the Redux store, so it cannot work if you don't include a <Resource>.");return En()(r,["admin","resources",e,"data",t])}))},up="RA/CRUD_GET_ONE",dp=function useShowController(e){uo("Show",["basePath","resource"],e);var t=e.basePath,r=e.hasCreate,n=e.hasEdit,a=e.hasList,o=e.hasShow,i=e.id,c=bi(e),l=Ur(),s=tr(),u=Mc(),d=Gr(),p=ai(),f=sp(c,i,{action:up,onFailure:function onFailure(){s("ra.notification.item_doesnt_exist","warning"),u("list",t),d()}}),b=f.data,m=f.loading,h=f.loaded,y=f.refetch;return{loading:m,loaded:h,defaultTitle:l("ra.page.show",{name:In()(c,1),id:i,record:b}),resource:c,basePath:t,record:b,refetch:y,hasCreate:r,hasEdit:n,hasList:a,hasShow:o,version:p}},pp=Object(a.createContext)({basePath:null,record:null,defaultTitle:null,loaded:null,loading:null,refetch:null,resource:null,version:null});pp.displayName="ShowContext";var fp=function ShowContextProvider(e){var t=e.children,r=e.value;return a.createElement(pp.Provider,{value:r},a.createElement(Ts,{value:r&&r.record},t))},ShowBase_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},bp=function ShowBase(e){var t=e.children,r=ShowBase_rest(e,["children"]);return a.createElement(fp,{value:dp(r)},t)},mp=function useShowContext(e){var t=Object(a.useContext)(pp);return Object(a.useMemo)((function(){return $i()({},null!=e?hp(e):{},t)}),[t,e])},hp=function extractShowContextProps(e){var t=e.basePath,r=e.record,n=e.data;return{basePath:t,record:r||n,data:r||n,defaultTitle:e.defaultTitle,loaded:e.loaded,loading:e.loading,resource:e.resource,version:e.version}},useGetManyReference_assign=function(){return(useGetManyReference_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},yp=[],gp={},Op=function isDataLoaded(e){return null!=e.ids},vp=function useGetManyReference(e,t,r,n,o,i,c,l){var s=Object(a.useMemo)((function(){return function nameRelatedTo(e,t,r,n,a){void 0===a&&(a={});var o=Object.keys(a);return o.length?r+"_"+e+"@"+n+"_"+t+"?"+o.map((function(e){return e+"="+JSON.stringify(a[e])})).join("&"):r+"_"+e+"@"+n+"_"+t}(e,r,c,t,i)}),[i,e,r,c,t]),u=ci({type:"getManyReference",resource:e,payload:{target:t,id:r,pagination:n,sort:o,filter:i}},useGetManyReference_assign(useGetManyReference_assign({},l),{relatedTo:s,action:it}),(function(t){return{ids:lt(t,s),allRecords:En()(t.admin.resources,[e,"data"],gp)}}),(function(e){return function getTotal(e,t){return e.admin.references.oneToMany[t]&&e.admin.references.oneToMany[t].total}(e,s)}),Op),d=u.data,p=d.ids,f=d.allRecords,b=u.total,m=u.error,h=u.loading,y=u.loaded,g=u.refetch;return{data:Object(a.useMemo)((function(){return null==p?gp:p.map((function(e){return f[e]})).reduce((function(e,t){return t?(e[t.id]=t,e):e}),{})}),[p,f]),ids:p||yp,total:b,error:m,loading:h,loaded:y,refetch:g}},useReferenceManyFieldController_assign=function(){return(useReferenceManyFieldController_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useReferenceManyFieldController_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},jp={},xp=function useReferenceManyFieldController(e){var t=e.reference,r=e.record,n=e.target,o=e.filter,i=void 0===o?jp:o,c=e.source,l=e.basePath,s=e.page,u=e.perPage,d=e.sort,p=void 0===d?{field:"id",order:"DESC"}:d,f=bi(e),b=tr(),m=usePaginationState({page:s,perPage:u}),h=m.page,y=m.setPage,g=m.perPage,O=m.setPerPage,v=nd(p),j=v.sort,x=v.setSort,w=Object(a.useCallback)((function(e,t){void 0===t&&(t="ASC"),x({field:e,order:t}),y(1)}),[y,x]),E=od(),S=E.selectedIds,P=E.onSelect,C=E.onToggleItem,A=E.onUnselectItems,T=Object(a.useRef)(i),k=useSafeSetState({}),R=k[0],N=k[1],I=useSafeSetState(i),F=I[0],_=I[1],D=Object(a.useCallback)((function(e){N((function(t){var r=t,n=e;r[n];return useReferenceManyFieldController_rest(r,["symbol"===typeof n?n:n+""])})),_((function(t){var r=t,n=e;r[n];return useReferenceManyFieldController_rest(r,["symbol"===typeof n?n:n+""])}))}),[N,_]),L=Object(a.useCallback)((function(e,t){N((function(t){var r;return useReferenceManyFieldController_assign(useReferenceManyFieldController_assign({},t),((r={})[e]=!0,r))})),_((function(r){var n;return useReferenceManyFieldController_assign(useReferenceManyFieldController_assign({},r),((n={})[e]=t,n))}))}),[N,_]),B=Object(a.useCallback)((function(e,t){_(yo(e)),N(t),y(1)}),[N,_,y]);Object(a.useEffect)((function(){H()(i,T.current)||(T.current=i,_(i))}));var M=En()(r,c),V=vp(t,n,M,{page:h,perPage:g},j,F,f,{onFailure:function onFailure(e){return b("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})}}),W=V.data,U=V.ids,z=V.total,q=V.error,G=V.loading,J=V.loaded,Q=V.refetch;return{basePath:l?l.replace(f,t):"/"+t,currentSort:j,data:W,defaultTitle:null,displayedFilters:R,error:q,filterValues:F,hasCreate:!1,hideFilter:D,ids:U,loaded:J,loading:G,onSelect:P,onToggleItem:C,onUnselectItems:A,page:h,perPage:g,refetch:Q,resource:t,selectedIds:S,setFilters:B,setPage:y,setPerPage:O,setSort:w,showFilter:L,total:z}},ReferenceManyField_assign=function(){return(ReferenceManyField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ReferenceManyField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},wp=function ReferenceManyField(e){var t=e.basePath,r=e.children,n=e.filter,a=e.page,i=void 0===a?1:a,c=e.perPage,l=e.reference,s=e.resource,d=e.sort,p=e.source,f=e.target,b=ks(e);if(1!==o.a.Children.count(r))throw new Error("<ReferenceManyField> only accepts a single child (like <Datagrid>)");if(!Object(u.f)((function(t){return"undefined"!==typeof t.admin.resources[e.reference]})))throw new Error('You must declare a <Resource name="'+e.reference+'"> in order to use a <ReferenceManyField reference="'+e.reference+'">');var m=xp({basePath:t,filter:n,page:i,perPage:c,record:b,reference:l,resource:s,sort:d,source:p,target:f});return o.a.createElement(oo,{value:l},o.a.createElement(Ni,{value:m},o.a.createElement(Ep,ReferenceManyField_assign({},e,m))))};wp.propTypes={addLabel:wr.a.bool,basePath:wr.a.string,children:wr.a.element.isRequired,className:wr.a.string,filter:wr.a.object,label:wr.a.string,perPage:wr.a.number,record:wr.a.any,reference:wr.a.string.isRequired,resource:wr.a.string,sortBy:wr.a.string,sortByOrder:nu.sortByOrder,source:wr.a.string.isRequired,sort:wr.a.exact({field:wr.a.string,order:wr.a.string}),target:wr.a.string.isRequired},wp.defaultProps={filter:{},perPage:25,sort:{field:"id",order:"DESC"},source:"id",addLabel:!0};var Ep=function ReferenceManyFieldView(e){var t=e.basePath,r=e.children,n=e.pagination,i=e.reference,c=ReferenceManyField_rest(e,["basePath","children","pagination","reference"]);return o.a.createElement(o.a.Fragment,null,Object(a.cloneElement)(a.Children.only(r),ReferenceManyField_assign(ReferenceManyField_assign({},du(c)),{basePath:t,resource:i})),n&&void 0!==e.total&&Object(a.cloneElement)(n))};Ep.propTypes={basePath:wr.a.string.isRequired,children:wr.a.element,className:wr.a.string,currentSort:wr.a.exact({field:wr.a.string,order:wr.a.string}),data:wr.a.any,ids:wr.a.array,loaded:wr.a.bool,pagination:wr.a.element,reference:wr.a.string,setSort:wr.a.func};var Sp=wp,Pp=function Avatar(e){var t=e.record;return Object(n.jsxs)(on.a,{src:t.avatar,children:[t.first_name.charAt(0),t.last_name.charAt(0)]})},Cp=r(425),Ap=r.n(Cp),EditButton_assign=function(){return(EditButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},EditButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Tp=function EditButton(e){var t=e.basePath,r=void 0===t?"":t,n=e.icon,o=void 0===n?kp:n,i=e.label,c=void 0===i?"ra.action.edit":i,l=e.record,s=e.scrollToTop,u=void 0===s||s,d=EditButton_rest(e,["basePath","icon","label","record","scrollToTop"]),p=bi();return a.createElement(fa,EditButton_assign({component:Dn.a,to:Object(a.useMemo)((function(){return{pathname:l?linkToRecord(r||"/"+p,l.id):"",state:{_scrollToTop:u}}}),[r,l,p,u]),label:c,onClick:Rp},d),o)},kp=a.createElement(Ap.a,null),Rp=function stopPropagation(e){return e.stopPropagation()};Tp.propTypes={basePath:wr.a.string,icon:wr.a.element,label:wr.a.string,record:wr.a.any,scrollToTop:wr.a.bool};var Np=Tp,Ip=r(426),Fp=r.n(Ip),ShowButton_assign=function(){return(ShowButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ShowButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},_p=function ShowButton(e){var t=e.basePath,r=void 0===t?"":t,n=e.icon,o=void 0===n?Dp:n,i=e.label,c=void 0===i?"ra.action.show":i,l=e.record,s=e.scrollToTop,u=void 0===s||s,d=ShowButton_rest(e,["basePath","icon","label","record","scrollToTop"]),p=bi();return a.createElement(fa,ShowButton_assign({component:Dn.a,to:Object(a.useMemo)((function(){return{pathname:l?linkToRecord(r||"/"+p,l.id)+"/show":"",state:{_scrollToTop:u}}}),[r,l,p,u]),label:c,onClick:Lp},d),o)},Dp=a.createElement(Fp.a,null),Lp=function stopPropagation(e){return e.stopPropagation()};_p.propTypes={basePath:wr.a.string,icon:wr.a.element,label:wr.a.string,record:wr.a.any,scrollToTop:wr.a.bool};var Bp=Object(a.memo)(_p,(function(e,t){return(e.record&&t.record?e.record.id===t.record.id:e.record==t.record)&&e.basePath===t.basePath&&e.to===t.to&&e.disabled===t.disabled})),FunctionField_assign=function(){return(FunctionField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FunctionField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Mp=function FunctionField(e){var t=e.className,r=e.source,n=void 0===r?"":r,o=e.render,i=FunctionField_rest(e,["className","source","render"]),c=ks(e);return Object(a.useMemo)((function(){return c?a.createElement(Lr.a,FunctionField_assign({component:"span",variant:"body2",className:t},du(i)),o(c,n)):null}),[t,c,n,o,i])};Mp.defaultProps={addLabel:!0},Mp.propTypes=FunctionField_assign(FunctionField_assign(FunctionField_assign({},Lr.a.propTypes),nu),{render:wr.a.func.isRequired});var Vp=Mp,Wp=r(934),Up=r(923),zp=r(831),qp=r(27),Gp={page:1,perPage:25},Hp={field:"id",order:"DESC"},Jp={},Qp=[],Yp={},Zp=function isDataLoaded(e){return null!==e.ids},Kp=function useGetList(e,t,r,n,o){void 0===t&&(t=Gp),void 0===r&&(r=Hp),void 0===n&&(n=Jp);var i=JSON.stringify({pagination:t,sort:r,filter:n}),c=ci({type:"getList",resource:e,payload:{pagination:t,sort:r,filter:n}},o,(function(t){return{ids:En()(t.admin.resources,[e,"list","cachedRequests",i,"ids"],null),allRecords:En()(t.admin.resources,[e,"data"],Yp)}}),(function(t){return En()(t.admin.resources,[e,"list","cachedRequests",i,"total"])}),Zp),l=c.data,s=l.ids,u=l.allRecords,d=c.total,p=c.error,f=c.loading,b=c.loaded,m=c.refetch;return{data:Object(a.useMemo)((function(){return null===s?Yp:s.map((function(e){return u[e]})).reduce((function(e,t){return t?(e[t.id]=t,e):e}),{})}),[s,u]),ids:null===s?Qp:s,total:d,error:p,loading:f,loaded:b,refetch:m}},Xp=function useUpdate(e,t,r,n,o){var i=Hc({type:"update",resource:e,payload:{id:t,data:r,previousData:n}},o),c=i[0],l=i[1];return[Object(a.useCallback)((function(e,t,r,n,a){return"string"===typeof e?c({type:"update",resource:e,payload:{id:t,data:r,previousData:n}},a):c(e,t)}),[c]),l]},$p=function useCreate(e,t,r){var n=Hc({type:"create",resource:e,payload:{data:t}},r),o=n[0],i=n[1];return[Object(a.useCallback)((function(e,t,r){return"string"===typeof e?o({type:"create",resource:e,payload:{data:t}},r):o(e,t)}),[o]),i]},ef=r(424),tf=r.n(ef),rf=r(240),nf=r.n(rf),af=["#eddcd2","#fff1e6","#fde2e4","#fad2e1","#c5dedd","#dbe7e4","#f0efeb","#d6e2e9","#bcd4e6","#99c1de"],of=function TagsListEdit(e){var t=e.record,r=Object(a.useState)(!1),o=Object(qp.a)(r,2),i=o[0],c=o[1],l=Object(a.useState)(""),s=Object(qp.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)(af[0]),f=Object(qp.a)(p,2),b=f[0],m=f[1],h=Object(a.useState)(null),y=Object(qp.a)(h,2),g=y[0],O=y[1],v=Object(a.useState)(0),j=Object(qp.a)(v,2),x=j[0],w=j[1],E=Object(a.useState)(!1),S=Object(qp.a)(E,2),P=S[0],C=S[1],A=Kp("tags",{page:1,perPage:10},{field:"name",order:"ASC"},{},{version:x}),T=A.data,k=A.ids,R=Vu("tags",t.tags,{enabled:t.tags&&t.tags.length>0}),N=R.data,I=R.loaded,F=Xp(),_=Object(qp.a)(F,1)[0],D=$p(),L=Object(qp.a)(D,1)[0],B=k&&k.filter((function(e){return!t.tags.includes(e)})),M=function handleAddTag(e){var r=[].concat(Object(Cd.a)(t.tags),[e]);_("contacts",t.id,{tags:r},t),O(null)},V=function handleOpenCreateDialog(){c(!0),O(null),C(!1)};return I&&N?Object(n.jsxs)(n.Fragment,{children:[N.map((function(e){return Object(n.jsx)(rp.a,{mt:1,mb:1,children:Object(n.jsx)(mu.a,{size:"small",variant:"outlined",onDelete:function onDelete(){return function handleDeleteTag(e){var r=t.tags.filter((function(t){return t!==e}));_("contacts",t.id,{tags:r},t)}(e.id)},label:e.name,style:{backgroundColor:e.color,border:0}})},e.id)})),Object(n.jsx)(rp.a,{mt:1,children:Object(n.jsx)(mu.a,{icon:Object(n.jsx)(tf.a,{}),size:"small",variant:"outlined",onClick:function handleOpen(e){O(e.currentTarget)},label:"Add tag",color:"primary"})}),Object(n.jsxs)(cn.a,{open:Boolean(g),onClose:function handleClose(){O(null)},anchorEl:g,children:[null===B||void 0===B?void 0:B.map((function(e){return Object(n.jsx)(Ln.a,{onClick:function onClick(){return M(e)},children:Object(n.jsx)(mu.a,{size:"small",variant:"outlined",label:T&&T[e].name,style:{backgroundColor:T&&T[e].color,border:0},onClick:function onClick(){return M(e)}})},e)})),Object(n.jsx)(Ln.a,{onClick:V,children:Object(n.jsx)(mu.a,{icon:Object(n.jsx)(nf.a,{}),size:"small",variant:"outlined",onClick:V,color:"primary",label:"Create new tag"})})]}),Object(n.jsx)(Yc.a,{open:i,onClose:function onClose(){return c(!1)},"aria-labelledby":"form-dialog-title",children:Object(n.jsxs)("form",{onSubmit:function handleCreateTag(e){e.preventDefault(),C(!0),L("tags",{name:u,color:b},{onSuccess:function onSuccess(e){var r=e.data;_("contacts",t.id,{tags:[].concat(Object(Cd.a)(t.tags),[r.id])},t,{onSuccess:function onSuccess(){d(""),m(af[0]),c(!1),w((function(e){return e+1}))}})}})},children:[Object(n.jsx)($c.a,{id:"form-dialog-title",children:"Create a new tag"}),Object(n.jsxs)(Kc.a,{children:[Object(n.jsx)(Ma.a,{autoFocus:!0,label:"Tag name",fullWidth:!0,value:u,onChange:function handleNewTagNameChange(e){d(e.target.value)}}),Object(n.jsx)(rp.a,{display:"flex",flexWrap:"wrap",width:230,mt:2,children:af.map((function(e){return Object(n.jsx)(lf,{color:e,selected:e===b,handleClick:function handleClick(){m(e)}},e)}))})]}),Object(n.jsxs)(Zc.a,{children:[Object(n.jsx)(an.a,{onClick:function onClick(){return c(!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(an.a,{type:"submit",color:"primary",disabled:P,children:"Add tag"})]})]})})]}):null},cf=Object(Br.a)({root:{width:30,height:30,borderRadius:15,display:"inline-block",margin:8}}),lf=function RoundButton(e){var t=e.color,r=e.handleClick,a=e.selected,o=cf();return Object(n.jsx)("button",{type:"button",className:o.root,style:{backgroundColor:t,border:a?"2px solid grey":"none"},onClick:r})},sf=function ContactAside(e){var t=e.record,r=e.link,a=void 0===r?"edit":r;return Object(n.jsxs)(rp.a,{ml:4,width:250,minWidth:250,children:[Object(n.jsx)(rp.a,{textAlign:"center",mb:2,children:"edit"===a?Object(n.jsx)(Np,{basePath:"/contacts",record:t,label:"Edit Contact"}):Object(n.jsx)(Bp,{basePath:"/contacts",record:t,label:"Show Contact"})}),Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Personal info"}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(rp.a,{mt:2,children:Object(n.jsx)(Su,{source:"email"})}),Object(n.jsxs)(rp.a,{mt:1,children:[Object(n.jsx)(gd,{source:"phone_number1"})," ",Object(n.jsx)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:"Work"})]}),Object(n.jsxs)(rp.a,{mb:1,children:[Object(n.jsx)(gd,{source:"phone_number2"})," ",Object(n.jsx)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:"Home"})]}),Object(n.jsx)(rp.a,{mb:3,children:Object(n.jsx)(Lr.a,{variant:"body2",children:"male"===t.gender?"He/Him":"She/Her"})}),Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Background"}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(rp.a,{mt:2,children:t&&t.background}),Object(n.jsxs)(rp.a,{mt:1,mb:3,children:[Object(n.jsx)(Lr.a,{component:"span",variant:"body2",color:"textSecondary",children:"Added on"})," ",Object(n.jsx)(ju,{source:"first_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(n.jsx)("br",{}),Object(n.jsx)(Lr.a,{component:"span",variant:"body2",color:"textSecondary",children:"Last seen on"})," ",Object(n.jsx)(ju,{source:"last_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(n.jsx)("br",{}),Object(n.jsx)(Lr.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(n.jsx)(Ku,{resource:"contacts",source:"sales_id",reference:"sales",children:Object(n.jsx)(Vp,{source:"last_name",render:function render(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]}),Object(n.jsxs)(rp.a,{mb:3,children:[Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Tags"}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(of,{record:t})]}),Object(n.jsx)(Sp,{resource:"contacts",target:"contact_id",reference:"tasks",children:Object(n.jsx)(uf,{})})]})},uf=function TasksIterator(){var e=ec(),t=e.data,r=e.ids;return e.loading||0===r.length?null:Object(n.jsxs)(rp.a,{children:[Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Tasks"}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(Up.a,{children:r.map((function(e){var r=t[e];return Object(n.jsx)(zp.a,{disableGutters:!0,children:Object(n.jsxs)(rp.a,{children:[Object(n.jsx)(Lr.a,{variant:"body2",children:r.text}),Object(n.jsxs)(Lr.a,{variant:"body2",color:"textSecondary",children:["due"," ",Object(n.jsx)(ju,{source:"due_date",record:r})]})]})},e)}))})]})},df=Object(Br.a)({image:{objectFit:"contain"}}),pf={medium:42,small:20},ff=function LogoField(e){var t=e.record,r=(e.source,e.size),a=void 0===r?"medium":r,o=df();return t?Object(n.jsx)("img",{src:"."+t.logo,alt:t.name,title:t.name,width:pf[a],height:pf[a],className:o.image}):null},bf=r(84),mf=r(5),hf=function getColorFromStatus(e){return"cold"===e?"#7dbde8":"warm"===e?"#e8cb7d":"hot"===e?"#e88b7d":"in-contract"===e?"#a4e87d":"#000"},yf=function Status(e){var t=e.status;return Object(n.jsx)(rp.a,{width:10,height:10,display:"inline-block",borderRadius:5,bgcolor:hf(t),component:"span"})},gf=Object(Br.a)({root:{width:150}}),Of=function StatusSelector(e){var t=e.status,r=e.setStatus,a=e.className,o=void 0===a?"":a,i=gf();return Object(n.jsxs)(Ma.a,{select:!0,value:t,onChange:function onChange(e){r(e.target.value)},variant:"filled",label:!1,margin:"none",size:"small",className:Object(mf.a)(o,i.root),children:[Object(n.jsxs)(Ln.a,{value:"cold",children:["Cold ",Object(n.jsx)(yf,{status:"cold"})]}),Object(n.jsxs)(Ln.a,{value:"warm",children:["Warm ",Object(n.jsx)(yf,{status:"warm"})]}),Object(n.jsxs)(Ln.a,{value:"hot",children:["Hot ",Object(n.jsx)(yf,{status:"hot"})]}),Object(n.jsxs)(Ln.a,{value:"in-contract",children:["In Contract ",Object(n.jsx)(yf,{status:"in-contract"})]})]})},vf=Object(Br.a)((function(e){return{root:{marginTop:e.spacing(4),marginBottom:e.spacing(1)},toolbar:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1)},small:{marginRight:"1em","& .MuiFilledInput-input":{paddingTop:10}}}})),jf=function NewNote(e){var t=e.showStatus,r=e.reference,o=vf(),i=ks(),c=bi(),l=Object(a.useState)(""),s=Object(qp.a)(l,2),u=s[0],d=s[1],p=Object(a.useState)(i&&i.status),f=Object(qp.a)(p,2),b=f[0],m=f[1],h=Object(a.useState)(xf()),y=Object(qp.a)(h,2),g=y[0],O=y[1],v=$p(),j=Object(qp.a)(v,2),x=j[0],w=j[1].loading,E=Xp(),S=Object(qp.a)(E,1)[0],P=Gr(),C=tr(),A=nn().identity;if(!i||!A)return null;return Object(n.jsx)("div",{className:o.root,children:Object(n.jsxs)("form",{onSubmit:function handleSubmit(e){var n;e.preventDefault();var a=(n={},Object(bf.a)(n,wf[r],i.id),Object(bf.a)(n,"sales_id",A.id),Object(bf.a)(n,"date",g),Object(bf.a)(n,"text",u),n);return t&&(a.status=b),S(r,i&&i.id,{last_seen:g,status:b,nb_notes:i.nb_notes+1},i),x(c,a,{onSuccess:function onSuccess(){d(""),C("Note added successfully"),P()}}),!1},children:[Object(n.jsx)(Ma.a,{label:"Add a note",variant:"filled",size:"small",fullWidth:!0,multiline:!0,value:u,onChange:function onChange(e){return d(e.target.value)},rows:3}),Object(n.jsxs)("div",{className:o.toolbar,children:[Object(n.jsx)("span",{children:u?Object(n.jsxs)(n.Fragment,{children:[t&&Object(n.jsx)(Of,{status:b,setStatus:m,className:o.small}),Object(n.jsx)(Ma.a,{type:"datetime-local",variant:"filled",size:"small",value:g,onChange:function onChange(e){O(e.target.value)},className:o.small})]}):null}),Object(n.jsx)(an.a,{type:"submit",variant:"contained",color:"primary",disabled:!u||w,children:"Add this note"})]})]})})},xf=function getCurrentDate(){var e=new Date;return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e.toISOString().slice(0,-1)},wf={contacts:"contact_id",deals:"deal_id"},Ef=function useDelete(e,t,r,n){void 0===r&&(r={});var o=Hc({type:"delete",resource:e,payload:{id:t,previousData:r}},n),i=o[0],c=o[1];return[Object(a.useCallback)((function(e,t,r,n){return"string"===typeof e?i({type:"delete",resource:e,payload:{id:t,previousData:r}},n):i(e,t)}),[i]),c]},Sf=r(833),Pf=Object(Br.a)((function(e){return{root:{marginBottom:e.spacing(2)},metadata:{marginBottom:e.spacing(1),color:e.palette.text.secondary},textarea:{paddingTop:16,paddingLeft:14,paddingRight:60,paddingBottom:14,lineHeight:1.3},buttons:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},cancel:{marginRight:e.spacing(1)},content:{backgroundColor:"#edf3f0",padding:"0 1em",borderRadius:10,display:"flex",alignItems:"stretch",marginBottom:e.spacing(1)},text:{flex:1},paragraph:{fontFamily:e.typography.fontFamily,fontSize:e.typography.body1.fontSize,lineHeight:1.3,marginBottom:e.spacing(2.4)},toolbar:{marginLeft:e.spacing(2),visibility:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-around"}}})),Cf=function Note(e){var t=e.showStatus,r=e.note,o=(e.isLast,e.reference),i=Object(a.useState)(!1),c=Object(qp.a)(i,2),l=c[0],s=c[1],u=Object(a.useState)(!1),d=Object(qp.a)(u,2),p=d[0],f=d[1],b=Object(a.useState)(r.text),m=Object(qp.a)(b,2),h=m[0],y=m[1],g=bi(),O=ks(),v=tr(),j=Pf(),x=Xp(),w=Object(qp.a)(x,2),E=w[0],S=w[1].loading,P=Ef(g,r.id,r,{mutationMode:"undoable",onSuccess:function onSuccess(){v("Note deleted",void 0,void 0,!0),E(o,O.id,{nb_notes:O.nb_notes-1},O)}}),C=Object(qp.a)(P,1)[0];return Object(n.jsxs)("div",{className:j.root,onMouseEnter:function onMouseEnter(){return s(!0)},onMouseLeave:function onMouseLeave(){return s(!1)},children:[Object(n.jsxs)("div",{className:j.metadata,children:[Object(n.jsx)(Ku,{record:r,resource:"contactNotes",source:"sales_id",reference:"sales",basePath:"/contactNotes",children:Object(n.jsx)(gd,{source:"first_name",variant:"body1"})})," ",Object(n.jsxs)(Lr.a,{component:"span",variant:"body1",children:["added a note on"," "]}),Object(n.jsx)(ju,{source:"date",record:r,variant:"body1",showTime:!0,locales:"en",options:{dateStyle:"full",timeStyle:"short"}})," ",t&&Object(n.jsx)(yf,{status:r.status})]}),p?Object(n.jsxs)("form",{onSubmit:function handleNoteUpdate(e){e.preventDefault(),E(g,r.id,{text:h},r,{onSuccess:function onSuccess(){f(!1),y(r.text),s(!1)}})},children:[Object(n.jsx)(Sf.a,{value:h,onChange:function handleTextChange(e){y(e.target.value)},fullWidth:!0,multiline:!0,className:j.textarea,autoFocus:!0}),Object(n.jsxs)("div",{className:j.buttons,children:[Object(n.jsx)(an.a,{className:j.cancel,onClick:function handleCancelEdit(){f(!1),y(r.text),s(!1)},color:"primary",children:"Cancel"}),Object(n.jsx)(an.a,{type:"submit",color:"primary",variant:"contained",disabled:S,children:"Update Note"})]})]}):Object(n.jsxs)("div",{className:j.content,children:[Object(n.jsx)("div",{className:j.text,children:r.text.split("\n").map((function(e,t){return Object(n.jsx)("p",{className:j.paragraph,children:e},t)}))}),Object(n.jsxs)("div",{className:j.toolbar,style:{visibility:l?"visible":"hidden"},children:[Object(n.jsx)(_r.a,{title:"Edit note",children:Object(n.jsx)(Dr.a,{size:"small",onClick:function handleEnterEditMode(){f(!0)},children:Object(n.jsx)(nf.a,{})})}),Object(n.jsx)(_r.a,{title:"Delete note",children:Object(n.jsx)(Dr.a,{size:"small",onClick:C,children:Object(n.jsx)(Fc.a,{})})})]})]})]})},Af=Object(Br.a)({root:{marginTop:"0.5em"}}),Tf=function NotesIterator(e){var t=e.showStatus,r=e.reference,a=Af(),o=ec(),i=o.data,c=o.ids;return o.loaded?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(jf,{showStatus:t,reference:r}),Object(n.jsx)("div",{className:a.root,children:c.map((function(e,a){return Object(n.jsx)(Cf,{note:i[e],isLast:a===c.length-1,showStatus:t,reference:r},a)}))})]}):null},kf=function ContactShowContent(){var e=mp(),t=e.record;return e.loaded&&t?Object(n.jsxs)(rp.a,{mt:2,display:"flex",children:[Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(_a.a,{children:Object(n.jsxs)(Ac.a,{children:[Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pp,{record:t}),Object(n.jsxs)(rp.a,{ml:2,flex:"1",children:[Object(n.jsxs)(Lr.a,{variant:"h5",children:[t.first_name," ",t.last_name]}),Object(n.jsxs)(Lr.a,{variant:"body2",children:[t.title," at"," ",Object(n.jsx)(Ku,{source:"company_id",reference:"companies",link:"show",children:Object(n.jsx)(gd,{source:"name"})})]})]}),Object(n.jsx)(rp.a,{children:Object(n.jsx)(Ku,{source:"company_id",reference:"companies",link:"show",children:Object(n.jsx)(ff,{})})})]}),Object(n.jsx)(Sp,{target:"contact_id",reference:"contactNotes",sort:{field:"date",order:"DESC"},children:Object(n.jsx)(Tf,{showStatus:!0,reference:"contacts"})})]})})}),Object(n.jsx)(sf,{record:t})]}):null},Rf=r(946),Nf=r(941),If=r(940),SimpleListLoading_assign=function(){return(SimpleListLoading_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SimpleListLoading_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ff=Object(Br.a)((function(e){return{primary:{width:"30vw",display:"inline-block",marginBottom:e.spacing()},tertiary:{float:"right",opacity:.541176,minWidth:"10vw"}}}),{name:"RaSimpleListLoading"}),_f=function SimpleListLoading(e){e.classes;var t=e.className,r=e.hasLeftAvatarOrIcon,n=e.hasRightAvatarOrIcon,o=e.hasSecondaryText,i=e.hasTertiaryText,c=e.nbFakeLines,l=void 0===c?5:c,s=SimpleListLoading_rest(e,["classes","className","hasLeftAvatarOrIcon","hasRightAvatarOrIcon","hasSecondaryText","hasTertiaryText","nbFakeLines"]),u=Ff(e);return useTimeout(1e3)?a.createElement(Up.a,SimpleListLoading_assign({className:t},s),function times(e,t){return Array.from({length:e},(function(e,r){return t(r)}))}(l,(function(e){return a.createElement(zp.a,{key:e},r&&a.createElement(Rf.a,null,a.createElement(on.a,null,"\xa0")),a.createElement(If.a,{primary:a.createElement("div",null,a.createElement(ws,{className:u.primary}),i&&a.createElement("span",{className:u.tertiary},a.createElement(ws,null))),secondary:o?a.createElement(ws,null):void 0}),n&&a.createElement(Nf.a,null,a.createElement(on.a,null,"\xa0")))}))):null};_f.propTypes={className:wr.a.string,hasLeftAvatarOrIcon:wr.a.bool,hasRightAvatarOrIcon:wr.a.bool,hasSecondaryText:wr.a.bool,hasTertiaryText:wr.a.bool,nbFakeLines:wr.a.number};var Df=_f,Lf=r(435),Bf=r.n(Lf),Mf=r(434),Vf=r.n(Mf),Wf=function useListSortContext(e){var t=Object(a.useContext)(Ai);return t.setSort?t:e},Uf=a.createElement(Bf.a,null),zf=function inverseOrder(e){return"ASC"===e?"DESC":"ASC"},qf=Object(a.memo)((function SortButton(e){var t=e.fields,r=e.label,n=void 0===r?"ra.sort.sort_by":r,o=e.icon,i=void 0===o?Uf:o,c=Wf(),l=c.resource,s=c.currentSort,u=c.setSort,d=Ur(),p=Object(Nr.a)((function(e){return e.breakpoints.down("xs")})),f=a.useState(null),b=f[0],m=f[1],h=function handleClick(e){m(e.currentTarget)},y=function handleChangeSort(e){var t=e.currentTarget.dataset.sort;u(t,t===s.field?zf(s.order):"ASC"),m(null)},g=d(n,{field:d.apply(void 0,getFieldLabelTranslationArgs({resource:l,source:s.field})),order:d("ra.sort."+s.order),_:n});return a.createElement(a.Fragment,null,p?a.createElement(_r.a,{title:g},a.createElement(Dr.a,{"aria-label":g,color:"primary",onClick:h},i)):a.createElement(an.a,{"aria-controls":"simple-menu","aria-haspopup":"true",color:"primary",onClick:h,startIcon:i,endIcon:a.createElement(Vf.a,null),size:"small"},g),a.createElement(cn.a,{id:"simple-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:function handleClose(){m(null)}},t.map((function(e){return a.createElement(Ln.a,{onClick:y,"data-sort":e,key:e},d.apply(void 0,getFieldLabelTranslationArgs({resource:l,source:e}))," ",d("ra.sort."+(s.field===e?zf(s.order):"ASC")))}))))}),(function arePropsEqual(e,t){return Object(u.d)(e.fields,t.fields)})),List_assign=function(){return(List_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Gf=function List(e){uo("List",["children"],e);var t=gi(e);return a.createElement(Ni,{value:t},a.createElement(os,List_assign({},e,t)))};Gf.propTypes={actions:wr.a.oneOfType([wr.a.bool,wr.a.element]),aside:wr.a.element,bulkActionButtons:wr.a.oneOfType([wr.a.element,wr.a.bool]),children:wr.a.element,classes:wr.a.object,className:wr.a.string,filter:wr.a.object,filterDefaultValues:wr.a.object,filters:wr.a.oneOfType([wr.a.element,wr.a.arrayOf(wr.a.element)]),pagination:wr.a.oneOfType([wr.a.element,wr.a.bool]),perPage:wr.a.number.isRequired,sort:wr.a.shape({field:wr.a.string,order:wr.a.string}),title:oa,authProvider:wr.a.func,hasCreate:wr.a.bool,hasEdit:wr.a.bool,hasList:wr.a.bool,hasShow:wr.a.bool,location:wr.a.any,match:wr.a.any,path:wr.a.string,resource:wr.a.string,syncWithLocation:wr.a.bool},Gf.defaultProps={filter:{},perPage:10};var Hf=Gf,Jf=r(970),Qf=r(253),Yf=function ColoredChipField(e){var t=e.record,r=Object(Qf.a)(e,["record"]);return t?Object(n.jsx)(gu,Object(l.a)(Object(l.a)({record:t},r),{},{style:{backgroundColor:t.color,border:0},component:"span"})):null},Zf=Object(Br.a)({root:{display:"inline-block"}}),Kf=function TagsList(e){var t=e.record,r=Zf();return t?Object(n.jsx)(hd,{record:t,basePath:"/contacts",resource:"contacts",source:"tags",reference:"tags",className:r.root,children:Object(n.jsx)(ru,{linkType:!1,component:"span",children:Object(n.jsx)(Yf,{source:"name",variant:"outlined",size:"small"})})}):null},Xf=r(939),$f=r(241),eb=r.n($f),tb=function useListFilterContext(e){var t=Object(a.useContext)(Si);return t.hideFilter?t:e},rb=r(238),nb=r.n(rb),ab=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,ob=function isEmpty(e){return"undefined"===typeof e||null===e||""===e||Array.isArray(e)&&0===e.length};var ib=function getMessage(e,t,r,n){return"function"===typeof e?e({args:t,value:r,values:n}):t?{message:e,args:t}:e},cb=function memoize(e){return nb()(e,(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return JSON.stringify(e)}))},lb=function isFunction(e){return"function"===typeof e},sb=function combine2Validators(e,t){return function(r,n,a){var o=e(r,n,a);return o?"string"===typeof o||function isValidationErrorMessageWithArgs(e){return e.hasOwnProperty("message")}(o)?o:o.then((function(e){return e||t(r,n,a)})):t(r,n,a)}},ub=cb((function(e){return void 0===e&&(e="ra.validation.required"),Object.assign((function(t,r){return ob(t)?ib(e,void 0,t,r):void 0}),{isRequired:!0})})),db=(cb((function(e,t){return void 0===t&&(t="ra.validation.minLength"),function(r,n){return!ob(r)&&r.length<e?ib(t,{min:e},r,n):void 0}})),cb((function(e,t){return void 0===t&&(t="ra.validation.maxLength"),function(r,n){return!ob(r)&&r.length>e?ib(t,{max:e},r,n):void 0}})),cb((function(e,t){return void 0===t&&(t="ra.validation.minValue"),function(r,n){return!ob(r)&&r<e?ib(t,{min:e},r,n):void 0}})),cb((function(e,t){return void 0===t&&(t="ra.validation.maxValue"),function(r,n){return!ob(r)&&r>e?ib(t,{max:e},r,n):void 0}})),cb((function(e){return void 0===e&&(e="ra.validation.number"),function(t,r){return!ob(t)&&isNaN(Number(t))?ib(e,void 0,t,r):void 0}})),nb()((function(e,t){return void 0===t&&(t="ra.validation.regex"),function(r,n){return ob(r)||"string"!==typeof r||e.test(r)?void 0:ib(t,{pattern:e},r,n)}}),(function(e,t){return e.toString()+t}))),pb=(cb((function(e){return void 0===e&&(e="ra.validation.email"),db(ab,e)})),function oneOfTypeMessage(e){return{message:"ra.validation.oneOf",args:e.args}}),fb=(cb((function(e,t){return void 0===t&&(t=pb),function(r,n){return ob(r)||-1!==e.indexOf(r)?void 0:ib(t,{list:e},r,n)}})),function isRequired(e){return!(!e||!e.isRequired)||!!Array.isArray(e)&&e.some((function(e){return e.isRequired}))}),bb=Object(a.createContext)(void 0),mb=Object(a.createContext)(void 0),hb=function useFormContext(){return Object(a.useContext)(mb)},useInput_assign=function(){return(useInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},yb=function useInput(e){var t=e.defaultValue,r=e.initialValue,n=e.id,o=e.name,i=e.source,c=e.validate,l=e.onBlur,s=e.onChange,u=e.onFocus,d=e.isRequired,p=useInput_rest(e,["defaultValue","initialValue","id","name","source","validate","onBlur","onChange","onFocus","isRequired"]),f=o||i,b=function useFormGroupContext(){return Object(a.useContext)(bb)}(),m=hb(),h=ks();Object(a.useEffect)((function(){if(m&&b)return m.registerField(i,b),function(){m.unregisterField(i,b)}}),[m,b,i]);var y=Array.isArray(c)?function composeValidators(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(Array.isArray(e[0])?e[0]:e).filter(lb).reduce(sb,(function(){return null}))}(c):c,g=Object(Ba.d)(f,useInput_assign({initialValue:r,defaultValue:t,validate:y},p)),O=g.input,v=g.meta,j=O.onBlur,x=O.onChange,w=O.onFocus,E=useInput_rest(O,["onBlur","onChange","onFocus"]),S=Object(a.useCallback)((function(e){j(e),"function"===typeof l&&l(e)}),[j,l]),P=Object(a.useCallback)((function(e){x(e),"function"===typeof s&&s(e)}),[x,s]),C=Object(a.useCallback)((function(e){w(e),"function"===typeof u&&u(e)}),[w,u]),A=Object(Ba.e)(),T=null===h||void 0===h?void 0:h.id;return Object(a.useEffect)((function(){null!=O.value&&""!==O.value||(null!=t&&A.change(i,t),null!=r&&A.batch((function(){A.change(i,r),A.resetFieldState(i)})))}),[T,O.value,t,r,i,A]),p.input?{id:n||i,input:p.input,meta:p.meta,isRequired:d||fb(c)}:{id:n||i,input:useInput_assign(useInput_assign({},E),{onBlur:S,onChange:P,onFocus:C}),meta:v,isRequired:d||fb(c)}},ResettableTextField_assign=function(){return(ResettableTextField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ResettableTextField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};function ResettableTextField(e){e.classes;var t=e.clearAlwaysVisible,r=e.InputProps,n=e.value,o=e.resettable,i=e.disabled,c=e.variant,l=void 0===c?"filled":c,s=e.margin,u=void 0===s?"dense":s,d=ResettableTextField_rest(e,["classes","clearAlwaysVisible","InputProps","value","resettable","disabled","variant","margin"]),p=gb(e),f=Ur(),b=e.onChange,m=e.onFocus,h=e.onBlur,y=Object(a.useCallback)((function(e){e.preventDefault(),b("")}),[b]),g=Object(a.useCallback)((function(e){m&&m(e)}),[m]),O=Object(a.useCallback)((function(e){h&&h(e)}),[h]),v=p.clearButton,j=p.clearIcon,x=p.inputAdornedEnd,w=p.selectAdornment,E=p.visibleClearIcon,S=ResettableTextField_rest(p,["clearButton","clearIcon","inputAdornedEnd","selectAdornment","visibleClearIcon"]),P=r||{},C=P.endAdornment,A=ResettableTextField_rest(P,["endAdornment"]);if(t&&C)throw new Error("ResettableTextField cannot display both an endAdornment and a clear button always visible");return a.createElement(Ma.a,ResettableTextField_assign({classes:S,value:n,InputProps:ResettableTextField_assign({classes:e.select&&"filled"===l?{adornedEnd:x}:{},endAdornment:function getEndAdornment(){var r;return o?n?a.createElement(Xf.a,{position:"end",classes:{root:e.select?w:null}},a.createElement(Dr.a,{className:v,"aria-label":f("ra.action.clear_input_value"),title:f("ra.action.clear_input_value"),disableRipple:!0,onClick:y,onMouseDown:Ob,disabled:i},a.createElement(uu.a,{className:Sr()(j,(r={},r[E]=t||n,r))}))):t?a.createElement(Xf.a,{position:"end",classes:{root:e.select?w:null}},a.createElement(Dr.a,{className:v,"aria-label":f("ra.action.clear_input_value"),title:f("ra.action.clear_input_value"),disableRipple:!0,disabled:!0},a.createElement(uu.a,{className:Sr()(j,E)}))):C||a.createElement(Xf.a,{position:"end",classes:{root:e.select?w:null}},a.createElement("span",{className:v},"\xa0")):C}()},A),disabled:i,variant:l,margin:u},d,{onFocus:g,onBlur:O}))}var gb=Object(Br.a)({clearIcon:{height:16,width:0},visibleClearIcon:{width:16},clearButton:{height:24,width:24,padding:0},selectAdornment:{position:"absolute",right:24},inputAdornedEnd:{paddingRight:0}},{name:"RaResettableTextField"}),Ob=function handleMouseDownClearButton(e){e.preventDefault()};ResettableTextField.propTypes={classes:wr.a.object,clearAlwaysVisible:wr.a.bool,disabled:wr.a.bool,InputProps:wr.a.object,onBlur:wr.a.func,onChange:wr.a.func.isRequired,onFocus:wr.a.func,resettable:wr.a.bool,value:wr.a.any.isRequired};var vb=ResettableTextField,ValidationError_assign=function(){return(ValidationError_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},jb=function ValidationError(e){var t=e.error,r=Ur();if(t.message){var n=t,o=n.message,i=n.args;return a.createElement(a.Fragment,null,r(o,ValidationError_assign({_:o},i)))}return a.createElement(a.Fragment,null,r(t,{_:t}))},xb={__html:"&#8203;"},wb=function InputHelperText(e){var t=e.helperText,r=e.touched,n=e.error,o=Ur();return r&&n?a.createElement(jb,{error:n}):"string"===typeof t?a.createElement(a.Fragment,null,o(t,{_:t})):!1!==t?a.createElement("span",{dangerouslySetInnerHTML:xb}):null},sanitizeInputRestProps_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Eb=function sanitizeInputRestProps(e){e.afterSubmit,e.allowEmpty,e.allowNull,e.alwaysOn,e.basePath,e.beforeSubmit,e.component,e.data,e.defaultValue,e.error,e.format,e.formatOnBlur,e.formClassName,e.initialValue,e.initializeForm,e.input,e.isEqual,e.isRequired,e.label,e.limitChoicesToValue,e.locale,e.meta,e.multiple,e.name,e.options,e.optionText,e.optionValue,e.parse,e.record,e.ref,e.render,e.resource,e.source,e.submitError,e.subscription,e.textAlign,e.translate,e.translateChoice,e.type,e.validate,e.validateFields,e.value;return sanitizeInputRestProps_rest(e,["afterSubmit","allowEmpty","allowNull","alwaysOn","basePath","beforeSubmit","component","data","defaultValue","error","format","formatOnBlur","formClassName","initialValue","initializeForm","input","isEqual","isRequired","label","limitChoicesToValue","locale","meta","multiple","name","options","optionText","optionValue","parse","record","ref","render","resource","source","submitError","subscription","textAlign","translate","translateChoice","type","validate","validateFields","value"])},TextInput_assign=function(){return(TextInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},TextInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Sb=function TextInput(e){var t=e.label,r=e.format,n=e.helperText,o=e.onBlur,i=e.onFocus,c=e.onChange,l=e.options,s=e.parse,u=e.resource,d=e.source,p=e.validate,f=TextInput_rest(e,["label","format","helperText","onBlur","onFocus","onChange","options","parse","resource","source","validate"]),b=yb(TextInput_assign({format:r,onBlur:o,onChange:c,onFocus:i,parse:s,resource:u,source:d,type:"text",validate:p},f)),m=b.id,h=b.input,y=b.isRequired,g=b.meta,O=g.error,v=g.submitError,j=g.touched;return a.createElement(vb,TextInput_assign({id:m},h,{label:a.createElement(Gl,{label:t,source:d,resource:u,isRequired:y}),error:!(!j||!O&&!v),helperText:a.createElement(wb,{touched:j,error:O||v,helperText:n})},l,Eb(f)))};Sb.propTypes={className:wr.a.string,label:wr.a.oneOfType([wr.a.string,wr.a.bool]),options:wr.a.object,resource:wr.a.string,source:wr.a.string},Sb.defaultProps={options:{}};var Pb=Sb,FilterLiveSearch_assign=function(){return(FilterLiveSearch_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FilterLiveSearch_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Cb=Object(a.memo)((function FilterLiveSearch(e){var t=e.source,r=void 0===t?"q":t,n=FilterLiveSearch_rest(e,["source"]),o=tb(),i=o.filterValues,c=o.setFilters,l=Ur(),s=function onSearchChange(e){var t;if(e.target)c(FilterLiveSearch_assign(FilterLiveSearch_assign({},i),((t={})[r]=e.target.value,t)),null);else{var n=i,a=r,o=(n[a],FilterLiveSearch_rest(n,["symbol"===typeof a?a:a+""]));c(o,null)}},u=Object(a.useMemo)((function(){var e;return(e={})[r]=i[r],e}),[i,r]);return a.createElement(Ba.b,{initialValues:u,onSubmit:function onSubmit(){}},(function(){return a.createElement(Pb,FilterLiveSearch_assign({resettable:!0,helperText:!1,source:r,label:l("ra.action.search"),InputProps:{endAdornment:a.createElement(Xf.a,{position:"end"},a.createElement(eb.a,{color:"disabled"}))},onChange:s},n))}))})),Ab=function FilterList(e){var t=e.label,r=e.icon,n=e.children,o=Ur();return a.createElement(a.Fragment,null,a.createElement(rp.a,{mt:2,display:"flex",alignItems:"center"},a.createElement(rp.a,{mr:1},r),a.createElement(Lr.a,{variant:"overline"},o(t))),a.createElement(Up.a,{dense:!0,disablePadding:!0},n))},Tb=r(431),kb=r.n(Tb),Rb=r(430),Nb=r.n(Rb),FilterListItem_assign=function(){return(FilterListItem_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ib=Object(Br.a)((function(e){return{listItem:{paddingLeft:"2em"},listItemText:{margin:0}}})),Fb=Object(a.memo)((function FilterListItem(e){var t=e.label,r=e.value,n=tb(),o=n.filterValues,i=n.setFilters,c=Ur(),l=Ib(e),s=Nb()(X()(r,(function(e){return"undefined"!==typeof e})))(o),u=function toggleFilter(){return s?function removeFilter(){var e=Object.keys(r),t=Object.keys(o).reduce((function(t,r){var n;return e.includes(r)?t:FilterListItem_assign(FilterListItem_assign({},t),((n={})[r]=o[r],n))}),{});i(t,null,!1)}():function addFilter(){i(FilterListItem_assign(FilterListItem_assign({},o),r),null,!1)}()};return a.createElement(zp.a,{button:!0,onClick:u,selected:s,className:l.listItem},a.createElement(If.a,{primary:Object(a.isValidElement)(t)?t:c(t,{_:t}),className:l.listItemText,"data-selected":s?"true":"false"}),s&&a.createElement(Nf.a,null,a.createElement(Dr.a,{size:"small",onClick:u},a.createElement(kb.a,null))))}),(function arePropsEqual(e,t){return e.label===t.label&&Object(u.d)(e.value,t.value)})),_b=r(429),Db=r.n(_b),Lb=r(432),Bb=r.n(Lb),Mb=r(433),Vb=r.n(Mb),Wb=r(242),Ub=r.n(Wb),zb=r(942),qb=r(943),Gb=r(944),Hb=r(945),Jb=function ContactListFilter(){var e=nn().identity,t=Kp("tags",{page:1,perPage:10},{field:"name",order:"ASC"}),r=t.data,a=t.ids;return Object(n.jsxs)(rp.a,{width:"15em",order:"-1",marginRight:"1em",children:[Object(n.jsx)(Cb,{}),Object(n.jsxs)(Ab,{label:"Last seen",icon:Object(n.jsx)(Db.a,{}),children:[Object(n.jsx)(Fb,{label:"Today",value:{last_seen_gte:Object(zb.a)().toISOString(),last_seen_lte:void 0}}),Object(n.jsx)(Fb,{label:"This week",value:{last_seen_gte:Object(qb.a)(new Date).toISOString(),last_seen_lte:void 0}}),Object(n.jsx)(Fb,{label:"Before this week",value:{last_seen_gte:void 0,last_seen_lte:Object(qb.a)(new Date).toISOString()}}),Object(n.jsx)(Fb,{label:"Before this month",value:{last_seen_gte:void 0,last_seen_lte:Object(Gb.a)(new Date).toISOString()}}),Object(n.jsx)(Fb,{label:"Before last month",value:{last_seen_gte:void 0,last_seen_lte:Object(Hb.a)(Object(Gb.a)(new Date),1).toISOString()}})]}),Object(n.jsxs)(Ab,{label:"Status",icon:Object(n.jsx)(Bb.a,{}),children:[Object(n.jsx)(Fb,{label:Object(n.jsxs)(n.Fragment,{children:["Cold ",Object(n.jsx)(yf,{status:"cold"})]}),value:{status:"cold"}}),Object(n.jsx)(Fb,{label:Object(n.jsxs)(n.Fragment,{children:["Warm ",Object(n.jsx)(yf,{status:"warm"})]}),value:{status:"warm"}}),Object(n.jsx)(Fb,{label:Object(n.jsxs)(n.Fragment,{children:["Hot ",Object(n.jsx)(yf,{status:"hot"})]}),value:{status:"hot"}}),Object(n.jsx)(Fb,{label:Object(n.jsxs)(n.Fragment,{children:["In contract ",Object(n.jsx)(yf,{status:"in-contract"})]}),value:{status:"in-contract"}})]}),Object(n.jsx)(Ab,{label:"Tags",icon:Object(n.jsx)(Vb.a,{}),children:a&&r&&a.map((function(e){var t,a;return Object(n.jsx)(Fb,{label:Object(n.jsx)(mu.a,{label:null===(t=r[e])||void 0===t?void 0:t.name,size:"small",style:{backgroundColor:null===(a=r[e])||void 0===a?void 0:a.color,border:0,cursor:"pointer"}}),value:{tags:[e]}},e)}))}),Object(n.jsx)(Ab,{label:"Account manager",icon:Object(n.jsx)(Ub.a,{}),children:Object(n.jsx)(Fb,{label:"Me",value:{sales_id:e&&e.id}})})]})},Qb=function ContactListContent(){var e=ec(),t=e.data,r=e.ids,a=e.loaded,o=e.onToggleItem,i=e.selectedIds,c=Date.now();return!1===a?Object(n.jsx)(Df,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(n.jsx)(Up.a,{children:r.map((function(e){var r=t[e];return Object(n.jsxs)(zp.a,{button:!0,component:Dn.a,to:"/contacts/".concat(e,"/show"),children:[Object(n.jsx)(Bn.a,{children:Object(n.jsx)(us.a,{edge:"start",checked:i.includes(e),tabIndex:-1,disableRipple:!0,onClick:function onClick(t){t.stopPropagation(),o(e)}})}),Object(n.jsx)(Rf.a,{children:Object(n.jsx)(Pp,{record:r})}),Object(n.jsx)(If.a,{primary:"".concat(r.first_name," ").concat(r.last_name),secondary:Object(n.jsxs)(n.Fragment,{children:[r.title," at"," ",Object(n.jsx)(Ku,{record:r,source:"company_id",reference:"companies",basePath:"/companies",link:!1,children:Object(n.jsx)(gd,{source:"name"})})," ",r.nb_notes&&"- ".concat(r.nb_notes," notes "),Object(n.jsx)(Kf,{record:r})]})}),Object(n.jsx)(Nf.a,{children:Object(n.jsxs)(Lr.a,{variant:"body2",color:"textSecondary",children:["last activity"," ",Object(Jf.a)(new Date(r.last_seen),c)," ","ago ",Object(n.jsx)(yf,{status:r.status})]})})]},e)}))})},Yb=Object(Br.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Zb=function ContactListActions(){var e=Yb();return Object(n.jsxs)(xl,{children:[Object(n.jsx)(qf,{fields:["last_name","first_name","last_seen"]}),Object(n.jsx)(Wl,{}),Object(n.jsx)(Il,{basePath:"/contacts",variant:"contained",label:"New Contact",className:e.createButton})]})},Kb=Object(a.createContext)({basePath:null,record:null,defaultTitle:null,loaded:null,loading:null,onFailureRef:null,onSuccessRef:null,transformRef:null,redirect:null,setOnFailure:null,setOnSuccess:null,setTransform:null,refetch:null,resource:null,save:null,saving:null,successMessage:null,version:null});Kb.displayName="EditContext";var Xb=function useEditContext(e){var t=Object(a.useContext)(Kb);return Object(a.useMemo)((function(){return $i()({},null!=e?$b(e):{},t)}),[t,e])},$b=function extractEditContextProps(e){var t=e.basePath,r=e.data,n=e.record;return{basePath:t,data:n||r,record:n||r,defaultTitle:e.defaultTitle,onFailureRef:e.onFailureRef,onSuccessRef:e.onSuccessRef,transformRef:e.transformRef,loaded:e.loaded,loading:e.loading,redirect:e.redirect,setOnFailure:e.setOnFailure,setOnSuccess:e.setOnSuccess,setTransform:e.setTransform,resource:e.resource,save:e.save,saving:e.saving,successMessage:e.successMessage,version:e.version}};function getFormInitialValues(e,t,r){return"undefined"!==typeof t&&console.warn('"defaultValue" is deprecated, please use "initialValues" instead'),Bc()({},getValues(t,r),getValues(e,r),r)}function getValues(e,t){return"object"===typeof e?e:"function"===typeof e?e(t):{}}var em=function useInitializeFormWithRecord(e){var t=Object(Ba.e)();Object(a.useEffect)((function(){if(e){var r=getFormInitialValues(t.getState().initialValues,void 0,e);H()(t.getState().initialValues,r)||(t.setConfig("keepDirtyOnReinitialize",!1),t.restart(r),t.setConfig("keepDirtyOnReinitialize",!0))}}),[t,JSON.stringify(e)])},tm=function useWarnWhenUnsavedChanges(e){var t=Object(Ba.e)(),r=Object(Zt.g)(),n=Ur(),o=Object(a.useRef)(r.location);Object(a.useEffect)((function(){o.current=r.location}),[r.location]),Object(a.useEffect)((function(){if(e){var a=JSON.parse(window.sessionStorage.getItem("unsavedChanges"));return a&&(Object.keys(a).forEach((function(e){return t.change(e,a[e])})),window.sessionStorage.removeItem("unsavedChanges")),function(){var e=t.getState();if(e.dirty&&(!e.submitSucceeded||e.submitSucceeded&&e.dirtySinceLastSubmit)){if(!window.confirm(n("ra.message.unsaved_changes"))){var a=e.submitSucceeded?e.dirtySinceLastSubmit:e.dirtyFields,i=Object.keys(a).reduce((function(t,r){return t[r]=En()(e.values,r),t}),{});window.sessionStorage.setItem("unsavedChanges",JSON.stringify(i)),r.push(o.current)}}else window.sessionStorage.removeItem("unsavedChanges")}}window.sessionStorage.removeItem("unsavedChanges")}),[n])},rm=function useResetSubmitErrors(){var e=Object(Ba.e)(),t=Object(a.useRef)(e.getState().values);Object(a.useEffect)((function(){return e.subscribe((function(r){var n=r.values;e.mutators.resetSubmitErrors({current:n,prev:t.current}),t.current=n}),{values:!0})}),[e])},nm=function sanitizeEmptyValues(e,t){if(!e)return t;var r=Object.keys(e).reduce((function(r,n){return t[n]instanceof Date?r[n]=t[n]:Array.isArray(t[n])?Array.isArray(e[n])?r[n]=t[n].map((function(t,r){return sanitizeEmptyValues(e[n][r],t)})):r[n]=t[n]:"object"===typeof t[n]&&"object"===typeof e[n]&&null!==t[n]?r[n]=sanitizeEmptyValues(e[n],t[n]):r[n]="undefined"===typeof t[n]?null:t[n],r}),{});return Bc()(r,t)},am=function FormContextProvider(e){var t=e.children,r=e.value;return a.createElement(mb.Provider,{value:r},t)};function clean(e){var t=Array.isArray(e)?[]:{};return Object.keys(e).forEach((function(r){if(e[r]&&"object"===typeof e[r]){var n=clean(e[r]);isObjectEmpty(n)||0===n.length||(t[r]=n)}else null!==e[r]&&(t[r]=e[r])})),t}function flatten(e){var t={};for(var r in e)if(e.hasOwnProperty(r))if("object"!==typeof e[r]||null===e[r]||om(e[r]))t[r]=e[r];else{var n=flatten(e[r]);for(var a in n){if(n.hasOwnProperty(a))t[(r+"."+a).split(".").reduce((function(e,t){return/^\[\d\]/.test(t)?""+e+t:isNaN(Number(t))?e?e+"."+t:t:e+"["+t+"]"}),"")]=n[a]}}return t}var om=function isValidationError(e){return e.message&&e.args};function isObjectEmpty(e){return!e||0===Object.entries(e).length&&e.constructor===Object}var im={resetSubmitErrors:function resetSubmitErrors(e,t,r){var n=e[0],a=n.prev,o=n.current,i=r.getIn,c=r.setIn;if(t.formState.submitError&&delete t.formState.submitError,!isObjectEmpty(t.formState.submitErrors)){var l=flatten(t.formState.submitErrors),s=[];if(Object.keys(l).forEach((function(e){i(a,e)!==i(o,e)&&s.push(e)})),s.length){var u=t.formState.submitErrors;s.forEach((function(e){u=c(u,e,null)}));var d=clean(u);t.formState.submitErrors=d}}}},FormWithRedirect_assign=function(){return(FormWithRedirect_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FormWithRedirect_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},cm=FormWithRedirect_assign(FormWithRedirect_assign({},rc.a),im),lm={submitting:!0,pristine:!0,valid:!0,invalid:!0,validating:!0},sm=function FormView(e){var t=e.render,r=e.warnWhenUnsavedChanges,n=e.setRedirect,o=FormWithRedirect_rest(e,["render","warnWhenUnsavedChanges","setRedirect"]);em(o.record),tm(r),rm();var i=Object(u.e)();Object(a.useEffect)((function(){i(function setAutomaticRefresh(e){return{type:q,payload:e}}(o.pristine))}),[i,o.pristine]);var c=o.redirect,l=o.handleSubmit,s=Object(a.useCallback)((function(e){void 0===e&&(e=c),n(e),l()}),[n,c,l]);return t(FormWithRedirect_assign(FormWithRedirect_assign({},o),{handleSubmitWithRedirect:s}))},um=function FormWithRedirect(e){var t=e.debug,r=e.decorators,n=e.defaultValue,o=e.destroyOnUnregister,i=e.form,c=e.initialValues,l=e.initialValuesEqual,s=e.keepDirtyOnReinitialize,u=void 0===s||s,d=e.mutators,p=void 0===d?cm:d,f=e.record,b=e.render,m=e.save,h=e.saving,y=e.subscription,g=void 0===y?lm:y,O=e.validate,v=e.validateOnBlur,j=e.version,x=e.warnWhenUnsavedChanges,w=e.sanitizeEmptyValues,E=void 0===w||w,S=FormWithRedirect_rest(e,["debug","decorators","defaultValue","destroyOnUnregister","form","initialValues","initialValuesEqual","keepDirtyOnReinitialize","mutators","record","render","save","saving","subscription","validate","validateOnBlur","version","warnWhenUnsavedChanges","sanitizeEmptyValues"]),P=Object(a.useRef)(S.redirect),C=Object(a.useRef)(m),A=Object(a.useRef)({}),T=Object(a.useMemo)((function(){return p===cm?p:FormWithRedirect_assign(FormWithRedirect_assign({},cm),p)}),[p]),k=function setRedirect(e){P.current=e},R=Object(a.useCallback)((function(e){C.current="function"===typeof e?e:m}),[m]),N=Object(a.useMemo)((function(){return{setOnSave:R,getGroupFields:function getGroupFields(e){return A.current[e]||[]},registerGroup:function registerGroup(e){A.current[e]=A.current[e]||[]},unregisterGroup:function unregisterGroup(e){delete A[e]},registerField:function registerField(e,t){if(t){var r=new Set(A.current[t]||[]);r.add(e),A.current[t]=Array.from(r)}},unregisterField:function unregisterField(e,t){if(t)if(A.current[t]){var r=new Set(A.current[t]);r.delete(e),A.current[t]=Array.from(r)}else console.warn("Invalid form group "+t)}}}),[R]),I=Object(a.useMemo)((function(){return getFormInitialValues(c,n,f)}),[JSON.stringify({initialValues:c,defaultValue:n,record:f})]);return a.createElement(am,{value:N},a.createElement(Ba.b,{key:j,debug:t,decorators:r,destroyOnUnregister:o,form:i,initialValues:I,initialValuesEqual:l,keepDirtyOnReinitialize:u,mutators:T,onSubmit:function submit(e){var t=void 0===typeof P.current?S.redirect:P.current;if(E){var r=nm(I,e);return C.current(r,t)}return C.current(e,t)},subscription:g,validate:O,validateOnBlur:v,render:function render(e){return a.createElement(sm,FormWithRedirect_assign({},S,e,{record:f,setRedirect:k,saving:e.submitting||h,render:b,save:m,warnWhenUnsavedChanges:x}))}}))},dm=function isMatchingReferencesError(e){return e&&void 0!==e.error},useFilterState_assign=function(){return(useFilterState_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},pm=function defaultFilterToQuery(e){return{q:e}},useReferenceInputController_assign=function(){return(useReferenceInputController_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},useReferenceInputController_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},fm={},bm=function useReferenceInputController(e){var t,r,n,o,i=e.basePath,c=e.input,l=e.page,s=void 0===l?1:l,u=e.perPage,d=void 0===u?25:u,p=e.filter,f=void 0===p?fm:p,b=e.reference,m=e.filterToQuery,h=e.sort,y=bi(e),g=Ur(),O=usePaginationState({page:s,perPage:d}),v=O.pagination,j=O.setPagination,x=O.page,w=O.setPage,E=O.perPage,S=O.setPerPage,P=nd(h),C=P.sort,A=P.setSort,T=Object(a.useCallback)((function(e,t){void 0===t&&(t="ASC"),A({field:e,order:t}),w(1)}),[w,A]),k=function(e){var t=e.filterToQuery,r=void 0===t?pm:t,n=e.permanentFilter,o=void 0===n?{}:n,i=e.debounceTime,c=void 0===i?500:i,l=Object(a.useRef)(o),s=Object(a.useRef)(),u=useSafeSetState(useFilterState_assign(useFilterState_assign({},o),r(""))),d=u[0],p=u[1],f=JSON.stringify(o);return Object(a.useEffect)((function(){H()(l.current,o)||(l.current=o,p(useFilterState_assign(useFilterState_assign({},o),r(s.current))))}),[f,l,r]),{filter:d,setFilter:Object(a.useCallback)(bo()((function(e){p(useFilterState_assign(useFilterState_assign({},o),r(e))),s.current=e}),c),[f])}}({permanentFilter:f,filterToQuery:m}),R=k.filter,N=k.setFilter,I=od(),F=I.selectedIds,_=I.onSelect,D=I.onToggleItem,L=I.onUnselectItems,B=Kp(b,v,C,R),M=B.ids,V=B.data,W=B.total,U=B.loaded,z=B.loading,q=B.error,G=B.refetch,J=Wu({id:c.value,reference:b}),Q=J.referenceRecord,Y=J.refetch,Z=J.error,K=J.loading,X=J.loaded;!Q||M.includes(c.value)?(r=M,n=V,o=W):(r=useReferenceInputController_spreadArrays([c.value],M),n=useReferenceInputController_assign(((t={})[c.value]=Q,t),V),o=W+1);var $=function getStatusForInput(e){var t=e.input,r=e.matchingReferences,n=e.referenceRecord,a=e.translate,o=void 0===a?function(e){return e}:a,i=dm(r)?o(r.error,{_:r.error}):null,c=t.value&&!n?o("ra.input.references.single_missing",{_:"ra.input.references.single_missing"}):null;return{waiting:t.value&&c&&!r||!t.value&&!r,error:t.value&&c&&i||!t.value&&i?t.value?c:i:null,warning:c||i,choices:Array.isArray(r)?r:[n].filter((function(e){return e}))}}({input:c,matchingReferences:Object.keys(n).map((function(e){return n[e]})),referenceRecord:Q,translate:g}),ee=Object(a.useCallback)((function(){G(),Y()}),[G,Y]);return{possibleValues:{basePath:i,data:n,ids:r,total:o,error:q,loaded:U,loading:z,hasCreate:!1,page:x,setPage:w,perPage:E,setPerPage:S,currentSort:C,setSort:T,filterValues:R,displayedFilters:[],setFilters:N,showFilter:hm,hideFilter:mm,selectedIds:F,onSelect:_,onToggleItem:D,onUnselectItems:L,refetch:ee,resource:y},referenceRecord:{data:Q,loaded:X,loading:K,error:Z,refetch:Y},dataStatus:{error:$.error,loading:$.waiting,warning:$.warning},choices:r.map((function(e){return n[e]})),error:$.error,loading:z||K,loaded:U&&X,filter:R,refetch:ee,setFilter:N,pagination:v,setPagination:j,sort:C,setSort:A,warning:$.warning}},mm=function hideFilter(){},hm=function showFilter(){},ym=function ReferenceError(e){var t=e.label,r=e.error;return a.createElement(Ma.a,{error:!0,disabled:!0,label:t,value:r,margin:"normal"})};ym.propTypes={error:wr.a.string.isRequired,label:wr.a.string.isRequired};var gm=ym,ReferenceInput_assign=function(){return(ReferenceInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},ReferenceInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Om=function ReferenceInput(e){var t=e.format,r=e.onBlur,n=e.onChange,a=e.onFocus,i=e.parse,c=e.validate,l=ReferenceInput_rest(e,["format","onBlur","onChange","onFocus","parse","validate"]),s=yb(ReferenceInput_assign({format:t,onBlur:r,onChange:n,onFocus:a,parse:i,validate:c},l));return o.a.createElement(vm,ReferenceInput_assign({},s,l,bm(ReferenceInput_assign(ReferenceInput_assign({},l),s))))};Om.propTypes={allowEmpty:wr.a.bool,basePath:wr.a.string,children:wr.a.element.isRequired,className:wr.a.string,classes:wr.a.object,filter:wr.a.object,filterToQuery:wr.a.func.isRequired,label:wr.a.string,onChange:wr.a.func,perPage:wr.a.number,record:wr.a.object,reference:wr.a.string.isRequired,resource:wr.a.string,sort:wr.a.shape({field:wr.a.string,order:wr.a.oneOf(["ASC","DESC"])}),source:wr.a.string},Om.defaultProps={filter:{},filterToQuery:function filterToQuery(e){return e?{q:e}:{}},perPage:25,sort:{field:"id",order:"DESC"}};var vm=function ReferenceInputView(e){var t=e.allowEmpty,r=e.basePath,n=e.children,i=e.choices,c=e.classes,l=e.className,s=e.error,u=e.helperText,d=(e.id,e.input),p=e.isRequired,f=e.label,b=e.meta,m=e.possibleValues,h=e.resource,y=e.reference,g=e.setFilter,O=e.setPagination,v=e.setSort,j=e.source,x=e.warning,w=ReferenceInput_rest(e,["allowEmpty","basePath","children","choices","classes","className","error","helperText","id","input","isRequired","label","meta","possibleValues","resource","reference","setFilter","setPagination","setSort","source","warning"]);if(1!==a.Children.count(n))throw new Error("<ReferenceInput> only accepts a single child");if(s)return o.a.createElement(gm,{label:f,error:s});var E=x?ReferenceInput_assign(ReferenceInput_assign({},b),{error:x}):b;util_warning();var S=!1===u?{helperText:u}:{};return o.a.createElement(oo,{value:y},o.a.createElement(Ni,{value:m},Object(a.cloneElement)(n,ReferenceInput_assign(ReferenceInput_assign({allowEmpty:t,classes:c,className:l,input:d,isRequired:p,label:f,resource:h,meta:E,source:j,choices:i,basePath:r,setFilter:g,setPagination:O,setSort:v,translateChoice:!1},S),function sanitizeRestProps(e){e.dataStatus,e.filter,e.filterToQuery,e.onChange,e.perPage,e.reference,e.referenceRecord,e.referenceSource,e.sort,e.validation;var t=ReferenceInput_rest(e,["dataStatus","filter","filterToQuery","onChange","perPage","reference","referenceRecord","referenceSource","sort","validation"]);return Eb(t)}(w)))))},jm=Om,xm=r(479),wm=function useChoices(e){var t=e.optionText,r=void 0===t?"name":t,n=e.optionValue,o=void 0===n?"id":n,i=e.disableValue,c=void 0===i?"disabled":i,l=e.translateChoice,s=void 0===l||l,u=Ur();return{getChoiceText:Object(a.useCallback)((function(e){if(Object(a.isValidElement)(r))return Object(a.cloneElement)(r,{record:e});var t="function"===typeof r?r(e):En()(e,r);return s?u(t,{_:t}):t}),[r,u,s]),getChoiceValue:Object(a.useCallback)((function(e){return En()(e,o)}),[o]),getDisableValue:Object(a.useCallback)((function(e){return En()(e,c)}),[c])}},Em=function useSuggestions(e){var t=e.allowCreate,r=e.allowDuplicates,n=e.allowEmpty,o=e.choices,i=e.createText,c=void 0===i?"ra.action.create":i,l=e.createValue,s=void 0===l?"@@create":l,u=e.emptyText,d=void 0===u?"":u,p=e.emptyValue,f=void 0===p?null:p,b=e.limitChoicesToValue,m=e.matchSuggestion,h=e.optionText,y=e.optionValue,g=e.selectedItem,O=e.suggestionLimit,v=void 0===O?0:O,j=e.translateChoice,x=Ur(),w=wm({optionText:h,optionValue:y,translateChoice:j}),E=w.getChoiceText,S=w.getChoiceValue;return{getChoiceText:E,getChoiceValue:S,getSuggestions:Object(a.useCallback)(Sm({allowCreate:t,allowDuplicates:r,allowEmpty:n,choices:o,createText:c,createValue:s,emptyText:x(d,{_:d}),emptyValue:f,getChoiceText:E,getChoiceValue:S,limitChoicesToValue:b,matchSuggestion:m,optionText:h,optionValue:y,selectedItem:g,suggestionLimit:v}),[t,r,n,o,c,s,d,f,E,S,b,m,h,y,g,v,x])}},Sm=function getSuggestionsFactory(e){var t=e.allowCreate,r=void 0!==t&&t,n=e.allowDuplicates,o=void 0!==n&&n,i=e.allowEmpty,c=void 0!==i&&i,l=e.choices,s=void 0===l?[]:l,u=e.createText,d=void 0===u?"ra.action.create":u,p=e.createValue,f=void 0===p?"@@create":p,b=e.emptyText,m=void 0===b?"":b,h=e.emptyValue,y=void 0===h?null:h,g=e.optionText,O=void 0===g?"name":g,v=e.optionValue,j=void 0===v?"id":v,x=e.getChoiceText,w=e.getChoiceValue,E=e.limitChoicesToValue,S=void 0!==E&&E,P=e.matchSuggestion,C=void 0===P?function defaultMatchSuggestion(e){return function(t,r,n){void 0===n&&(n=!1);var o=e(r),i=Object(a.isValidElement)(o),c=function escapeRegExp(e){return e?e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):""}(t);return!i&&o&&o.match(new RegExp(n?"^"+c+"$":c,"i"))}}(x):P,A=e.selectedItem,T=e.suggestionLimit,k=void 0===T?0:T;return function(e){var t=[];A&&!Array.isArray(A)&&C(e,A)?t=S?s.filter((function(e){return w(e)===w(A)})):o?s:Pm(s,A,w):(t=s.filter((function(t){return C(e,t)})),o||(t=Pm(t,A,w)));var n=(t=Cm(t,k)).some((function(t){return C(e,t,!0)}));if(r){var a=!(!A||Array.isArray(A))&&C(e,A,!0);n||a||t.push(Am({optionText:O,optionValue:j,text:d,value:f}))}return c&&t.unshift(Am({optionText:O,optionValue:j,text:m,value:y})),t}},Pm=function removeAlreadySelectedSuggestions(e,t,r){if(!t)return e;var n=Array.isArray(t)?t.map(r):[r(t)];return e.filter((function(e){return!n.includes(r(e))}))},Cm=function limitSuggestions(e,t){return void 0===t&&(t=0),Number.isInteger(t)&&t>0?e.slice(0,t):e},Am=function getSuggestion(e){var t=e.optionText,r=void 0===t?"name":t,n=e.optionValue,a=void 0===n?"id":n,o=e.text,i=void 0===o?"":o,c=e.value,l=void 0===c?null:c,s={};return ho()(s,a,l),"string"===typeof r&&ho()(s,r,i),s},Tm=r(826),km=r(258),AutocompleteSuggestionList_assign=function(){return(AutocompleteSuggestionList_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Rm=Object(Br.a)({suggestionsContainer:{zIndex:2},suggestionsPaper:{maxHeight:"50vh",overflowY:"auto"}},{name:"RaAutocompleteSuggestionList"}),Nm=function AutocompleteSuggestionList(e){var t=e.children,r=e.className,n=e.isOpen,o=e.menuProps,i=e.inputEl,c=e.suggestionsContainerProps,l=Rm(e);return a.createElement(Tm.a,AutocompleteSuggestionList_assign({open:n,anchorEl:i,className:Sr()(l.suggestionsContainer,r),modifiers:{}},c),a.createElement("div",AutocompleteSuggestionList_assign({},n?o:{}),a.createElement(km.a,{square:!0,style:{marginTop:8,minWidth:i?i.clientWidth:null},className:l.suggestionsPaper},t)))},Im=r(444),Fm=r.n(Im),_m=r(445),Dm=r.n(_m),AutocompleteSuggestionItem_assign=function(){return(AutocompleteSuggestionItem_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},AutocompleteSuggestionItem_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Lm=Object(Br.a)((function(e){return{root:{fontWeight:400},selected:{fontWeight:500},suggestion:{display:"block",fontFamily:e.typography.fontFamily,minHeight:24},suggestionText:{fontWeight:300},highlightedSuggestionText:{fontWeight:500}}}),{name:"RaAutocompleteSuggestionItem"}),Bm=function AutocompleteSuggestionItem(e){var t,r,n,o=e.createValue,i=e.suggestion,c=e.index,l=e.highlightedIndex,s=e.isSelected,u=e.filterValue,d=(e.classes,e.getSuggestionText),p=AutocompleteSuggestionItem_rest(e,["createValue","suggestion","index","highlightedIndex","isSelected","filterValue","classes","getSuggestionText"]),f=Lm(e),b=l===c,m="id"in i&&i.id===o?i.name:d(i);return Object(a.isValidElement)(m)||(r=Dm()(m,u),n=Fm()(m,r)),a.createElement(Ln.a,AutocompleteSuggestionItem_assign({key:m,selected:b,className:Sr()(f.root,(t={},t[f.selected]=s,t))},p),Object(a.isValidElement)(m)?Object(a.cloneElement)(m,{filterValue:u}):a.createElement("div",{className:f.suggestion},n.map((function(e,t){return e.highlight?a.createElement("span",{key:t,className:f.highlightedSuggestionText},e.text):a.createElement("strong",{key:t,className:f.suggestionText},e.text)}))))},Mm=function AutocompleteInputLoader(e){var t=e.timeout;return useTimeout(void 0===t?1e3:t)?o.a.createElement(qr.a,{size:24}):null},useSupportCreateSuggestion_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},useSupportCreateSuggestion_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},useSupportCreateSuggestion_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Vm=function useSupportCreateSuggestion(e){var t=e.create,r=e.createLabel,n=void 0===r?"ra.action.create":r,o=e.createItemLabel,i=void 0===o?"ra.action.create_item":o,c=e.createValue,l=void 0===c?"@@ra-create":c,s=e.filter,u=e.handleChange,d=e.onCreate,p=Ur(),f=Object(a.useState)(!1),b=f[0],m=f[1],h={filter:s,onCancel:function onCancel(){return m(!1)},onCreate:function onCreate(e){m(!1),u(void 0,e)}};return{getCreateItem:function getCreateItem(){return{id:l,name:s&&i?p(i,{item:s,_:i}):p(n,{_:n})}},handleChange:function handleChange(e){return useSupportCreateSuggestion_awaiter(void 0,void 0,void 0,(function(){var r,n,o,i;return useSupportCreateSuggestion_generator(this,(function(c){switch(c.label){case 0:return r=(null===(i=e.target)||void 0===i?void 0:i.value)||e,n=Array.isArray(r)?useSupportCreateSuggestion_spreadArrays(r).pop():r,(null===e||void 0===e?void 0:e.preventDefault)&&(e.preventDefault(),e.stopPropagation()),(null===n||void 0===n?void 0:n.id)!==l&&n!==l?[3,3]:Object(a.isValidElement)(t)?[3,2]:[4,d(s)];case 1:return(o=c.sent())?(u(e,o),[2]):[3,3];case 2:return m(!0),[2];case 3:return u(e,void 0),[2]}}))}))},createElement:b&&Object(a.isValidElement)(t)?a.createElement(Wm.Provider,{value:h},t):null}},Wm=Object(a.createContext)(void 0),AutocompleteInput_assign=function(){return(AutocompleteInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},AutocompleteInput_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},AutocompleteInput_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},AutocompleteInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},AutocompleteInput_spreadArrays=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),a=0;for(t=0;t<r;t++)for(var o=arguments[t],i=0,c=o.length;i<c;i++,a++)n[a]=o[i];return n},Um=function AutocompleteInput(e){var t=e.allowEmpty,r=e.className,n=(e.classes,e.clearAlwaysVisible),i=e.choices,c=void 0===i?[]:i,l=e.createLabel,s=e.createItemLabel,u=e.createValue,d=e.create,p=e.disabled,f=e.emptyText,b=e.emptyValue,m=e.format,h=e.fullWidth,y=e.helperText,g=e.id,O=e.input,v=e.inputText,j=e.isRequired,x=e.label,w=e.limitChoicesToValue,E=(e.loaded,e.loading),S=e.margin,P=void 0===S?"dense":S,C=e.matchSuggestion,A=e.meta,T=e.onBlur,k=e.onChange,R=e.onCreate,N=e.onFocus,I=e.options,F=void 0===I?{suggestionsContainerProps:void 0,labelProps:void 0,InputProps:void 0}:I,_=F.suggestionsContainerProps,D=F.labelProps,L=F.InputProps,B=AutocompleteInput_rest(F,["suggestionsContainerProps","labelProps","InputProps"]),M=e.optionText,V=void 0===M?"name":M,W=e.optionValue,U=void 0===W?"id":W,z=e.parse,q=(e.refetch,e.resettable),G=e.resource,H=e.setFilter,J=e.shouldRenderSuggestions,Q=e.source,Y=e.suggestionLimit,Z=e.translateChoice,K=void 0===Z||Z,X=e.validate,$=e.variant,ee=void 0===$?"filled":$,te=AutocompleteInput_rest(e,["allowEmpty","className","classes","clearAlwaysVisible","choices","createLabel","createItemLabel","createValue","create","disabled","emptyText","emptyValue","format","fullWidth","helperText","id","input","inputText","isRequired","label","limitChoicesToValue","loaded","loading","margin","matchSuggestion","meta","onBlur","onChange","onCreate","onFocus","options","optionText","optionValue","parse","refetch","resettable","resource","setFilter","shouldRenderSuggestions","source","suggestionLimit","translateChoice","validate","variant"]);if(Object(a.isValidElement)(V)&&!v)throw new Error("If the optionText prop is a React element, you must also specify the inputText prop:\n        <AutocompleteInput\n            inputText={(record) => record.title}\n        />");util_warning(Object(a.isValidElement)(V)),util_warning(),util_warning();var re=qm(e),ne=Object(a.useRef)(),ae=Object(a.useRef)(),oe=Ur(),ie=yb(AutocompleteInput_assign({format:m,id:g,input:O,meta:A,onBlur:T,onChange:k,onFocus:N,parse:z,resource:G,source:Q,validate:X},te)),ce=ie.id,le=ie.input,se=ie.isRequired,ue=ie.meta,de=ue.touched,pe=ue.error,fe=ue.submitError,be=Object(a.useState)(""),me=be[0],he=be[1],ye=Object(a.useCallback)((function(e){return c.find((function(t){return En()(t,U)===e}))}),[c,U]),ge=Object(a.useMemo)((function(){return ye(le.value)||null}),[le.value,ye]),Oe=Em({allowEmpty:t,choices:c,emptyText:f,emptyValue:b,limitChoicesToValue:w,matchSuggestion:C,optionText:V,optionValue:U,selectedItem:ge,suggestionLimit:Y,translateChoice:K}),ve=Oe.getChoiceText,je=Oe.getChoiceValue,xe=Oe.getSuggestions,we=Object(a.useCallback)((function(e,t){return AutocompleteInput_awaiter(void 0,void 0,void 0,(function(){var r;return AutocompleteInput_generator(this,(function(n){return null==(r=je(t||e))&&me&&he(""),le.onChange(r),[2]}))}))}),[me,je,le]),Ee=Vm({create:d,createLabel:l,createItemLabel:s,createValue:u,handleChange:we,filter:me,onCreate:R}),Se=Ee.getCreateItem,Pe=Ee.handleChange,Ce=Ee.createElement,Ae=Object(a.useCallback)((function(e){var t=e,r=t.target?t.target.value:e;H&&H(r)}),[H]);Object(a.useEffect)((function(){Ae(""),he("undefined"===typeof le.value||null===le.value||null===ge?"":v?v(ve(ge).props.record):ve(ge))}),[le.value,Ae,ge,ve,v]);var Te=function storeInputRef(e){ne.current=e,function updateAnchorEl(){if(ne.current){var e=ne.current.getBoundingClientRect();if(ae.current){var t=ae.current.getBoundingClientRect();t.x===e.x&&t.y===e.y||(ae.current={getBoundingClientRect:function getBoundingClientRect(){return e}})}else ae.current={getBoundingClientRect:function getBoundingClientRect(){return e}}}}()},ke=Object(a.useCallback)((function(e){Ae(""),he(le.value?v?v(ve(ge).props.record):ve(ge):""),le.onBlur(e)}),[ve,Ae,le,v,ge]),Re=Object(a.useCallback)((function(e){return function(t){e(t),le.onFocus(t)}}),[le]),Ne=L||{},Ie=Ne.endAdornment,Fe=AutocompleteInput_rest(Ne,["endAdornment"]),_e=Object(a.useCallback)((function(e){return function(t){t.stopPropagation(),he(""),le.onChange(""),e(t),le.onFocus(t)}}),[le]),De=function getEndAdornment(e){var t;if(q){if(me){var r=oe("ra.action.clear_input_value");return o.a.createElement(Xf.a,{position:"end"},o.a.createElement(Dr.a,{className:re.clearButton,"aria-label":r,title:r,disableRipple:!0,onClick:_e(e),onMouseDown:zm,disabled:p},o.a.createElement(uu.a,{className:Sr()(re.clearIcon,(t={},t[re.visibleClearIcon]=n||me,t))})),E&&o.a.createElement(Mm,null))}var a=oe("ra.action.clear_input_value");return n?o.a.createElement(Xf.a,{position:"end"},o.a.createElement(Dr.a,{className:re.clearButton,"aria-label":a,title:a,disableRipple:!0,disabled:!0},o.a.createElement(uu.a,{className:Sr()(re.clearIcon,re.visibleClearIcon)})),E&&o.a.createElement(Mm,null)):Ie||o.a.createElement(Xf.a,{position:"end"},o.a.createElement("span",{className:re.clearButton},"\xa0"),E&&o.a.createElement(Mm,null))}return Ie||(E?o.a.createElement(Mm,null):void 0)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(xm.a,AutocompleteInput_assign({inputValue:me,onChange:Pe,selectedItem:ge,itemToString:function itemToString(e){return je(e)}},te),(function(e){var t=e.getInputProps,n=e.getItemProps,a=e.getLabelProps,i=e.getMenuProps,c=e.isOpen,l=e.highlightedIndex,s=e.openMenu,f=c&&function shouldRenderSuggestions(e){return void 0===J||"function"!==typeof J||J(e)}(me),b=t(AutocompleteInput_assign({onBlur:ke,onFocus:Re(s)},L)),m=(b.id,b.value,b.onBlur),g=b.onChange,O=b.onFocus,v=(b.ref,b.size),w=b.color,E=AutocompleteInput_rest(b,["id","value","onBlur","onChange","onFocus","ref","size","color"]),S=AutocompleteInput_spreadArrays(xe(me),R||d?[Se()]:[]);return o.a.createElement("div",{className:re.container},o.a.createElement(Ma.a,AutocompleteInput_assign({id:ce,name:le.name,InputProps:AutocompleteInput_assign({inputRef:Te,endAdornment:De(s),onBlur:m,onChange:function onChange(e){he(e.target.value),Ae(e),g(e)},onFocus:O},Fe),error:!(!de||!pe&&!fe),label:o.a.createElement(Gl,AutocompleteInput_assign({label:x},D,{source:Q,resource:G,isRequired:"undefined"!==typeof j?j:se})),InputLabelProps:a({htmlFor:ce}),helperText:o.a.createElement(wb,{touched:de,error:pe||fe,helperText:y}),disabled:p,variant:ee,margin:P,fullWidth:h,value:me,className:r,size:v,color:w},E,B)),o.a.createElement(Nm,{isOpen:f,menuProps:i({},{suppressRefError:!0}),inputEl:ne.current,suggestionsContainerProps:_,className:re.suggestionsContainer},S.map((function(e,t){return o.a.createElement(Bm,AutocompleteInput_assign({key:je(e),suggestion:e,index:t,highlightedIndex:l,isSelected:le.value===je(e),filterValue:me,getSuggestionText:ve,createValue:u},n({item:e})))}))))})),Ce)},zm=function handleMouseDownClearButton(e){e.preventDefault()},qm=Object(Br.a)((function(e){return{container:{flexGrow:1,position:"relative"},clearIcon:{height:16,width:0},visibleClearIcon:{width:16},clearButton:{height:24,width:24,padding:0},selectAdornment:{position:"absolute",right:24},inputAdornedEnd:{paddingRight:0},suggestionsContainer:{zIndex:e.zIndex.modal}}}),{name:"RaAutocompleteInput"}),Gm=r(951),Hm=r(835),Jm=r(950),Qm=r(952),Ym={label:wr.a.oneOfType([wr.a.string,wr.a.bool]),resource:wr.a.string,source:wr.a.string},BooleanInput_assign=function(){return(BooleanInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},BooleanInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Zm=function BooleanInput(e){var t=e.format,r=e.label,n=(e.fullWidth,e.helperText),o=e.onBlur,i=e.onChange,c=e.onFocus,l=e.options,s=e.disabled,u=e.parse,d=e.resource,p=e.source,f=e.validate,b=BooleanInput_rest(e,["format","label","fullWidth","helperText","onBlur","onChange","onFocus","options","disabled","parse","resource","source","validate"]),m=yb(BooleanInput_assign({format:t,onBlur:o,onChange:i,onFocus:c,parse:u,resource:d,source:p,type:"checkbox",validate:f},b)),h=m.id,y=m.input,g=y.onChange,O=(y.type,y.value,BooleanInput_rest(y,["onChange","type","value"])),v=m.isRequired,j=m.meta,x=j.error,w=j.submitError,E=j.touched,S=Object(a.useCallback)((function(e,t){g(t)}),[g]);return a.createElement(Jm.a,BooleanInput_assign({},Eb(b)),a.createElement(Gm.a,{control:a.createElement(Qm.a,BooleanInput_assign({id:h,color:"primary",onChange:S},O,l,{disabled:s})),label:a.createElement(Gl,{label:r,source:p,resource:d,isRequired:v})}),a.createElement(Hm.a,{error:!(!x&&!w)},a.createElement(wb,{touched:E,error:x||w,helperText:n})))};Zm.propTypes=BooleanInput_assign(BooleanInput_assign({},Ym),{options:wr.a.shape(Qm.a.propTypes),disabled:wr.a.bool}),Zm.defaultProps={options:{}};var Km=Zm,Xm=r(953),$m=r(446),eh=r.n($m),th=Object(a.createContext)(void 0),rh=function SaveContextProvider(e){var t=e.children,r=e.value;return a.createElement(th.Provider,{value:r},t)},nh=function usePickSaveContext(e){return Object(a.useMemo)((function(){return xi()(e,["save","saving","setOnFailure","setOnSuccess","setTransform","onSuccessRef","onFailureRef","transformRef"])}),[e.save,e.saving,e.setOnFailure,e.setOnSuccess,e.setTransform,e.setTransform,e.onFailureRef,e.onSuccessRef,e.transformRef])},SaveButton_assign=function(){return(SaveButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SaveButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},ah=function SaveButton(e){var t=e.className,r=(e.classes,e.invalid),n=e.label,i=void 0===n?"ra.action.save":n,c=e.disabled,l=e.redirect,s=e.saving,u=e.submitOnEnter,d=e.variant,p=void 0===d?"contained":d,f=e.icon,b=void 0===f?oh:f,m=e.onClick,h=e.handleSubmitWithRedirect,y=e.onSave,g=e.onSuccess,O=e.onFailure,v=e.transform,j=SaveButton_rest(e,["className","classes","invalid","label","disabled","redirect","saving","submitOnEnter","variant","icon","onClick","handleSubmitWithRedirect","onSave","onSuccess","onFailure","transform"]),x=ih(e),w=tr(),E=Ur(),S=hb(),P=function useSaveContext(e){var t=Object(a.useContext)(th);return t&&t.save&&t.setOnFailure?t:e}(e),C=P.setOnSuccess,A=P.setOnFailure,T=P.setTransform,k=u?"submit":"button",R=i&&E(i,{_:i});return o.a.createElement(an.a,SaveButton_assign({className:Sr()(x.button,t),variant:p,type:k,onClick:function handleClick(e){"function"===typeof y?S&&S.setOnSave&&S.setOnSave(y):S&&S.setOnSave&&S.setOnSave(),g&&C(g),O&&A(O),v&&T(v),s?e.preventDefault():(r&&w("ra.message.invalid_form","warning"),e&&e.preventDefault(),h(l)),"function"===typeof m&&m(e)},color:s?"default":"primary","aria-label":R,disabled:c},pa(j)),s?o.a.createElement(qr.a,{size:18,thickness:2,className:x.leftIcon}):Object(a.cloneElement)(b,{className:Sr()(x.leftIcon,x.icon)}),R)},oh=o.a.createElement(eh.a,null),ih=Object(Br.a)((function(e){return{button:{position:"relative"},leftIcon:{marginRight:e.spacing(1)},icon:{fontSize:18}}}),{name:"RaSaveButton"});ah.propTypes={className:wr.a.string,classes:wr.a.object,handleSubmitWithRedirect:wr.a.func,onSave:wr.a.func,invalid:wr.a.bool,label:wr.a.string,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),saving:wr.a.bool,submitOnEnter:wr.a.bool,variant:wr.a.oneOf(["text","outlined","contained"]),icon:wr.a.element};var ch=ah,lh=function useDeleteWithUndoController(e){var t=e.record,r=e.basePath,n=e.redirect,o=void 0===n?"list":n,i=e.onClick,c=e.onSuccess,l=e.onFailure,s=bi(e),u=tr(),d=Mc(),p=Gr(),f=Ef(s,null,null,{action:Ne,onSuccess:void 0!==c?c:function(){u("ra.notification.deleted","info",{smart_count:1},!0),d(o,r||"/"+s),p()},onFailure:void 0!==l?l:function(e){u("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0}),p()},mutationMode:"undoable"}),b=f[0];return{loading:f[1].loading,handleDelete:Object(a.useCallback)((function(e){e.stopPropagation(),b({payload:{id:t.id,previousData:t}}),"function"===typeof i&&i(e)}),[b,i,t])}},DeleteWithUndoButton_assign=function(){return(DeleteWithUndoButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DeleteWithUndoButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},sh=function DeleteWithUndoButton(e){var t=e.label,r=void 0===t?"ra.action.delete":t,n=(e.classes,e.className),o=e.icon,i=void 0===o?dh:o,c=e.onClick,l=e.record,s=e.basePath,u=e.redirect,d=void 0===u?"list":u,p=e.onSuccess,f=e.onFailure,b=DeleteWithUndoButton_rest(e,["label","classes","className","icon","onClick","record","basePath","redirect","onSuccess","onFailure"]),m=uh(e),h=bi(e),y=lh({record:l,resource:h,basePath:s,redirect:d,onClick:c,onSuccess:p,onFailure:f}),g=y.loading,O=y.handleDelete;return a.createElement(fa,DeleteWithUndoButton_assign({onClick:O,disabled:g,label:r,className:Sr()("ra-delete-button",m.deleteButton,n),key:"button"},b),i)},uh=Object(Br.a)((function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(_c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"RaDeleteWithUndoButton"}),dh=a.createElement(Fc.a,null);sh.propTypes={basePath:wr.a.string,classes:wr.a.object,className:wr.a.string,label:wr.a.string,record:wr.a.any,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),resource:wr.a.string,icon:wr.a.element};var ph=sh,fh=function useDeleteWithConfirmController(e){var t=e.record,r=e.redirect,n=e.basePath,o=e.mutationMode,i=e.onClick,c=e.onSuccess,l=e.onFailure,s=bi(e),u=Object(a.useState)(!1),d=u[0],p=u[1],f=tr(),b=Mc(),m=Gr(),h=Ef(s,null,null,{action:Ne,onSuccess:function onSuccess(e){p(!1),void 0===c?(f("ra.notification.deleted","info",{smart_count:1}),b(r,n||"/"+s),m()):c(e)},onFailure:function onFailure(e){p(!1),void 0===l?(f("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0}),m()):l(e)},mutationMode:o}),y=h[0];return{open:d,loading:h[1].loading,handleDialogOpen:function handleDialogOpen(e){p(!0),e.stopPropagation()},handleDialogClose:function handleDialogClose(e){p(!1),e.stopPropagation()},handleDelete:Object(a.useCallback)((function(e){e.stopPropagation(),y({payload:{id:t.id,previousData:t}}),"function"===typeof i&&i(e)}),[y,i,t])}},DeleteWithConfirmButton_assign=function(){return(DeleteWithConfirmButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DeleteWithConfirmButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},bh=function DeleteWithConfirmButton(e){var t=e.basePath,r=(e.classes,e.className),n=e.confirmTitle,i=void 0===n?"ra.message.delete_title":n,c=e.confirmContent,l=void 0===c?"ra.message.delete_content":c,s=e.icon,u=void 0===s?mh:s,d=e.label,p=void 0===d?"ra.action.delete":d,f=e.mutationMode,b=e.onClick,m=e.record,h=e.redirect,y=void 0===h?"list":h,g=e.onSuccess,O=e.onFailure,v=DeleteWithConfirmButton_rest(e,["basePath","classes","className","confirmTitle","confirmContent","icon","label","mutationMode","onClick","record","redirect","onSuccess","onFailure"]),j=Ur(),x=hh(e),w=bi(e),E=fh({record:m,redirect:y,basePath:t,mutationMode:f,onClick:b,onSuccess:g,onFailure:O,resource:w}),S=E.open,P=E.loading,C=E.handleDialogOpen,A=E.handleDialogClose,T=E.handleDelete;return o.a.createElement(a.Fragment,null,o.a.createElement(fa,DeleteWithConfirmButton_assign({onClick:C,label:p,className:Sr()("ra-delete-button",x.deleteButton,r),key:"button"},v),u),o.a.createElement(il,{isOpen:S,loading:P,title:i,content:l,translateOptions:{name:j("resources."+w+".forcedCaseName",{smart_count:1,_:Nn.a.humanize(j("resources."+w+".name",{smart_count:1,_:Nn.a.singularize(w)}),!0)}),id:m.id},onConfirm:T,onClose:A}))},mh=o.a.createElement(Fc.a,null),hh=Object(Br.a)((function(e){return{deleteButton:{color:e.palette.error.main,"&:hover":{backgroundColor:Object(_c.fade)(e.palette.error.main,.12),"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"RaDeleteWithConfirmButton"});bh.propTypes={basePath:wr.a.string,classes:wr.a.object,className:wr.a.string,confirmTitle:wr.a.string,confirmContent:wr.a.string,label:wr.a.string,record:wr.a.any,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),resource:wr.a.string,icon:wr.a.element};var yh=bh,DeleteButton_assign=function(){return(DeleteButton_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},DeleteButton_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},gh=function DeleteButton(e){var t=e.undoable,r=e.mutationMode,n=e.record,o=DeleteButton_rest(e,["undoable","mutationMode","record"]),i=function getMutationMode(e,t){if(e)return e;switch(t){case!0:return"undoable";case!1:return"pessimistic";default:return"undoable"}}(r,t);return n&&null!=n.id?"undoable"===i?a.createElement(ph,DeleteButton_assign({record:n},o)):a.createElement(yh,DeleteButton_assign({mutationMode:i,record:n},o)):null};gh.propTypes={basePath:wr.a.string,label:wr.a.string,record:wr.a.any,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),resource:wr.a.string,undoable:wr.a.bool,icon:wr.a.element};var Oh=gh,Toolbar_assign=function(){return(Toolbar_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Toolbar_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},vh=Object(Br.a)((function(e){var t;return{toolbar:{backgroundColor:"light"===e.palette.type?e.palette.grey[100]:e.palette.grey[900]},desktopToolbar:{marginTop:e.spacing(2)},mobileToolbar:{position:"fixed",bottom:0,left:0,right:0,padding:"16px",width:"100%",boxSizing:"border-box",flexShrink:0,zIndex:2},defaultToolbar:{flex:1,display:"flex",justifyContent:"space-between"},spacer:(t={},t[e.breakpoints.down("xs")]={height:"5em"},t)}}),{name:"RaToolbar"}),jh=function valueOrDefault(e,t){return"undefined"===typeof e?t:e},xh=function Toolbar(e){var t,r=e.alwaysEnableSaveButton,n=e.basePath,o=e.children,i=e.className,c=(e.classes,e.handleSubmit),l=e.handleSubmitWithRedirect,s=e.invalid,u=e.pristine,d=e.record,p=e.redirect,f=e.resource,b=e.saving,m=e.submitOnEnter,h=e.undoable,y=e.mutationMode,g=e.validating,O=e.width,v=Toolbar_rest(e,["alwaysEnableSaveButton","basePath","children","className","classes","handleSubmit","handleSubmitWithRedirect","invalid","pristine","record","redirect","resource","saving","submitOnEnter","undoable","mutationMode","validating","width"]),j=vh(e),x=!jh(r,!u&&!g);return a.createElement(a.Fragment,null,a.createElement(Fr.a,Toolbar_assign({className:Sr()(j.toolbar,(t={},t[j.mobileToolbar]="xs"===O,t[j.desktopToolbar]="xs"!==O,t),i),role:"toolbar"},v),0===a.Children.count(o)?a.createElement("div",{className:j.defaultToolbar},a.createElement(ch,{handleSubmitWithRedirect:l||c,disabled:x,invalid:s,redirect:p,saving:b||g,submitOnEnter:m}),d&&"undefined"!==typeof d.id&&a.createElement(Oh,{basePath:n,record:d,resource:f,undoable:h,mutationMode:y})):a.Children.map(o,(function(e){return e&&Object(a.isValidElement)(e)?a.cloneElement(e,{basePath:jh(e.props.basePath,n),handleSubmit:jh(e.props.handleSubmit,c),handleSubmitWithRedirect:jh(e.props.handleSubmitWithRedirect,l),onSave:e.props.onSave,invalid:s,pristine:u,record:jh(e.props.record,d),resource:jh(e.props.resource,f),saving:b,submitOnEnter:jh(e.props.submitOnEnter,m),undoable:jh(e.props.undoable,h)}):null}))),a.createElement("div",{className:j.spacer}))};xh.propTypes={basePath:wr.a.string,children:wr.a.node,classes:wr.a.object,className:wr.a.string,handleSubmit:wr.a.func,handleSubmitWithRedirect:wr.a.func,invalid:wr.a.bool,pristine:wr.a.bool,record:wr.a.any,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),resource:wr.a.string,saving:wr.a.bool,submitOnEnter:wr.a.bool,undoable:wr.a.bool,validating:wr.a.bool,width:wr.a.oneOf(["xs","sm","md","lg","xl"])},xh.defaultProps={submitOnEnter:!0};var wh=Object(Xm.a)({initialWidth:"xs"})(xh),Eh="RA/CRUD_UPDATE",Sh=(Object(a.createContext)({}),function useSaveModifiers(e){var t=e.onSuccess,r=e.onFailure,n=e.transform,o=Object(a.useRef)(t),i=Object(a.useRef)(r),c=Object(a.useRef)(n);return{onSuccessRef:o,setOnSuccess:function setOnSuccess(e){o.current=function(t){return o.current=void 0,e(t)}},onFailureRef:i,setOnFailure:function setOnFailure(e){i.current=function(t){return i.current=void 0,e(t)}},transformRef:c,setTransform:function setTransform(e){c.current=function(t){return c.current=void 0,e(t)}}}}),Ph=function useEditController(e){uo("Edit",["basePath","resource"],e);var t=e.basePath,r=e.hasCreate,n=e.hasEdit,o=e.hasList,i=e.hasShow,c=e.id,l=e.successMessage,s=e.undoable,u=void 0===s||s,d=e.onSuccess,p=e.onFailure,f=e.mutationMode,b=void 0===f?u?"undoable":void 0:f,m=e.transform,h=bi(e),y=Ur(),g=tr(),O=Mc(),v=Gr(),j=ai();var x=Sh({onSuccess:d,onFailure:p,transform:m}),w=x.onSuccessRef,E=x.setOnSuccess,S=x.onFailureRef,P=x.setOnFailure,C=x.transformRef,A=x.setTransform,T=sp(h,c,{action:up,onFailure:function onFailure(){g("ra.notification.item_doesnt_exist","warning"),O("list",t),v()}}),k=T.data,R=T.loading,N=T.loaded,I=T.refetch,F=y("ra.page.edit",{name:In()(h,1),id:c,record:k}),_=Xp(h,c,{},k),D=_[0],L=_[1].loading,B=Object(a.useCallback)((function(e,r,n){void 0===r&&(r=Ch);var a=void 0===n?{}:n,o=a.onSuccess,i=a.onFailure,c=a.transform;return Promise.resolve(c?c(e):C.current?C.current(e):e).then((function(e){return D({payload:{data:e}},{action:Eh,onSuccess:o||(w.current?w.current:function(){g(l||"ra.notification.updated","info",{smart_count:1},"undoable"===b),O(r,t,e.id,e)}),onFailure:i||(S.current?S.current:function(e){g("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0}),"undoable"!==b&&"pessimistic"!==b||v()}),mutationMode:b})}))}),[C,D,w,S,g,l,O,t,v,b]);return{loading:R,loaded:N,saving:L,defaultTitle:F,hasCreate:r,hasEdit:n,hasList:o,hasShow:i,onSuccessRef:w,onFailureRef:S,transformRef:C,save:B,setOnSuccess:E,setOnFailure:P,setTransform:A,refetch:I,resource:h,basePath:t,record:k,redirect:Ch,version:j}},Ch="list",Ah=function EditContextProvider(e){var t=e.children,r=e.value;return a.createElement(Kb.Provider,{value:r},a.createElement(rh,{value:nh(r)},a.createElement(Ts,{value:r&&r.record},t)))},EditBase_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Th=function EditBase(e){var t=e.children,r=EditBase_rest(e,["children"]);return a.createElement(Ah,{value:Ph(r)},t)},kh=r(195),Rh=r.n(kh),Nh=function Spacer(){return Object(n.jsx)(rp.a,{width:20,component:"span"})},Ih=function ContactEditContent(){var e=Xb(),t=e.record,r=e.loaded,a=e.save;return r&&t?Object(n.jsxs)(rp.a,{mt:2,display:"flex",children:[Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(um,{record:t,redirect:"show",save:a,render:function render(e){return Object(n.jsxs)(_a.a,{children:[Object(n.jsx)(Ac.a,{children:Object(n.jsx)(rp.a,{children:Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(rp.a,{mr:2,children:Object(n.jsx)(Pp,{record:t})}),Object(n.jsxs)(rp.a,{flex:"1",mt:-1,children:[Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"first_name"}),Object(n.jsx)(Nh,{}),Object(n.jsx)(Pb,{source:"last_name"})]}),Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"title"}),Object(n.jsx)(Nh,{}),Object(n.jsx)(jm,{source:"company_id",reference:"companies",children:Object(n.jsx)(Um,{optionText:"name"})})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(rp.a,{mt:2,width:430,children:Object(n.jsx)(Pb,{source:"email",fullWidth:!0})}),Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"phone_number1"}),Object(n.jsx)(Nh,{}),Object(n.jsx)(Pb,{source:"phone_number2"})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsxs)(rp.a,{mt:2,width:430,children:[Object(n.jsx)(Pb,{source:"background",multiline:!0,fullWidth:!0}),Object(n.jsx)(Pb,{source:"avatar",fullWidth:!0}),Object(n.jsx)(Km,{source:"has_newsletter"})]})]})]})})}),Object(n.jsx)(wh,Object(l.a)({},Rh()(e,["dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","hasSubmitErrors","hasValidationErrors","initialValues","modifiedSinceLastSubmit","submitError","submitErrors","submitFailed","submitSucceeded","submitting","valid"])))]})}})}),Object(n.jsx)(sf,{record:t,link:"show"})]}):null},Fh=function useCreateController(e){uo("Create",["basePath","resource"],e);var t=e.basePath,r=e.hasEdit,n=e.hasShow,o=e.record,i=void 0===o?{}:o,c=e.successMessage,l=e.onSuccess,s=e.onFailure,u=e.transform,d=bi(e),p=Object(Zt.h)(),f=Ur(),b=tr(),m=Mc(),h=_h(p,i),y=ai();var g=Sh({onSuccess:l,onFailure:s,transform:u}),O=g.onSuccessRef,v=g.setOnSuccess,j=g.onFailureRef,x=g.setOnFailure,w=g.transformRef,E=g.setTransform,S=$p(d),P=S[0],C=S[1].loading,A=Object(a.useCallback)((function(e,r,n){void 0===r&&(r="list");var a=void 0===n?{}:n,o=a.onSuccess,i=a.onFailure,l=a.transform;return Promise.resolve(l?l(e):w.current?w.current(e):e).then((function(e){return P({payload:{data:e}},{action:Pe,onSuccess:o||(O.current?O.current:function(e){var n=e.data;b(c||"ra.notification.created","info",{smart_count:1}),m(r,t,n.id,n)}),onFailure:i||(j.current?j.current:function(e){b("string"===typeof e?e:e.message||"ra.notification.http_error","warning",{_:"string"===typeof e?e:e&&e.message?e.message:void 0})})})}))}),[w,P,O,j,b,c,m,t]);return{loading:!1,loaded:!0,saving:C,defaultTitle:f("ra.page.create",{name:In()(d,1)}),onFailureRef:j,onSuccessRef:O,transformRef:w,save:A,setOnSuccess:v,setOnFailure:x,setTransform:E,resource:d,basePath:t,record:h,redirect:Dh(n,r),version:y}},_h=function getRecord(e,t){var r=e.state,n=e.search;if(void 0===t&&(t={}),r&&r.record)return r.record;if(n)try{var a=Object(po.parse)(n);if(a.source)return Array.isArray(a.source)?void console.error("Failed to parse location search parameter '"+n+'\'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. \'?source={"title":"foo"}\')'):JSON.parse(a.source)}catch(o){console.error("Failed to parse location search parameter '"+n+'\'. To pre-fill some fields in the Create form, pass a stringified source parameter (e.g. \'?source={"title":"foo"}\')')}return t},Dh=function getDefaultRedirectRoute(e,t){return t?"edit":e?"show":"list"},Lh=Object(a.createContext)({basePath:null,record:null,defaultTitle:null,onFailureRef:null,onSuccessRef:null,transformRef:null,loaded:null,loading:null,redirect:null,setOnFailure:null,setOnSuccess:null,setTransform:null,resource:null,save:null,saving:null,successMessage:null,version:null});Lh.displayName="CreateContext";var Bh=function CreateContextProvider(e){var t=e.children,r=e.value;return a.createElement(Lh.Provider,{value:r},a.createElement(rh,{value:nh(r)},a.createElement(Ts,{value:r&&r.record},t)))},CreateBase_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Mh=function CreateBase(e){var t=e.children,r=CreateBase_rest(e,["children"]);return a.createElement(Bh,{value:Fh(r)},t)},Vh=function useCreateContext(e){var t=Object(a.useContext)(Lh);return Object(a.useMemo)((function(){return $i()({},null!=e?Wh(e):{},t)}),[t,e])},Wh=function extractCreateContextProps(e){return{basePath:e.basePath,record:e.record,defaultTitle:e.defaultTitle,onFailureRef:e.onFailureRef,onSuccessRef:e.onSuccessRef,transformRef:e.transformRef,loaded:e.loaded,loading:e.loading,redirect:e.redirect,setOnFailure:e.setOnFailure,setOnSuccess:e.setOnSuccess,setTransform:e.setTransform,resource:e.resource,save:e.save,saving:e.saving,successMessage:e.successMessage,version:e.version}},Uh=function Spacer(){return Object(n.jsx)(rp.a,{width:20,component:"span"})},zh=function ContactCreateContent(){var e=Vh(),t=e.save,r=e.record;return Object(n.jsx)(rp.a,{mt:2,display:"flex",children:Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(um,{redirect:"show",record:r,save:t,render:function render(e){return Object(n.jsxs)(_a.a,{children:[Object(n.jsx)(Ac.a,{children:Object(n.jsx)(rp.a,{children:Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(rp.a,{mr:2,children:Object(n.jsx)(on.a,{})}),Object(n.jsxs)(rp.a,{flex:"1",mt:-1,children:[Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"first_name",validate:[ub()]}),Object(n.jsx)(Uh,{}),Object(n.jsx)(Pb,{source:"last_name",validate:[ub()]})]}),Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"title"}),Object(n.jsx)(Uh,{}),Object(n.jsx)(jm,{source:"company_id",reference:"companies",children:Object(n.jsx)(Um,{optionText:"name"})})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(rp.a,{mt:2,width:430,children:Object(n.jsx)(Pb,{source:"email",fullWidth:!0})}),Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(Pb,{source:"phone_number1"}),Object(n.jsx)(Uh,{}),Object(n.jsx)(Pb,{source:"phone_number2"})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsxs)(rp.a,{mt:2,width:430,children:[Object(n.jsx)(Pb,{source:"background",multiline:!0,fullWidth:!0}),Object(n.jsx)(Pb,{source:"avatar",fullWidth:!0}),Object(n.jsx)(Km,{source:"has_newsletter"})]})]})]})})}),Object(n.jsx)(wh,Object(l.a)({},e))]})}})})})},qh={list:function ContactList(e){var t=nn().identity;return t?Object(n.jsx)(Hf,Object(l.a)(Object(l.a)({},e),{},{actions:Object(n.jsx)(Zb,{}),aside:Object(n.jsx)(Jb,{}),perPage:25,pagination:Object(n.jsx)(Nc,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},sort:{field:"last_seen",order:"DESC"},children:Object(n.jsx)(Qb,{})})):null},show:function ContactShow(e){return Object(n.jsx)(bp,Object(l.a)(Object(l.a)({},e),{},{children:Object(n.jsx)(kf,{})}))},edit:function ContactEdit(e){return Object(n.jsx)(Th,Object(l.a)(Object(l.a)({},e),{},{children:Object(n.jsx)(Ih,{})}))},create:function ContactCreate(e){return Object(n.jsx)(Mh,Object(l.a)(Object(l.a)({},e),{},{transform:function transform(e){return Object(l.a)(Object(l.a)({},e),{},{last_seen:new Date,tags:[]})},children:Object(n.jsx)(zh,{})}))}},Gh=r(246),Hh=r.n(Gh),SelectField_assign=function(){return(SelectField_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SelectField_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Jh=Object(a.memo)((function(e){var t=e.className,r=e.emptyText,n=e.source,o=e.choices,i=e.optionValue,c=e.optionText,l=e.translateChoice,s=SelectField_rest(e,["className","emptyText","source","choices","optionValue","optionText","translateChoice"]),u=ks(e),d=En()(u,n),p=wm({optionText:c,optionValue:i,translateChoice:l}),f=p.getChoiceText,b=p.getChoiceValue,m=o.find((function(e){return b(e)===d}));if(!m)return r?a.createElement(Lr.a,SelectField_assign({component:"span",variant:"body2",className:t},du(s)),r):null;var h=f(m);return a.createElement(Lr.a,SelectField_assign({component:"span",variant:"body2",className:t},du(s)),h)}));Jh.defaultProps={optionText:"name",optionValue:"id",translateChoice:!0},Jh.defaultProps={addLabel:!0},Jh.propTypes=SelectField_assign(SelectField_assign(SelectField_assign({},Lr.a.propTypes),nu),{choices:wr.a.arrayOf(wr.a.object).isRequired,optionText:wr.a.oneOfType([wr.a.string,wr.a.func,wr.a.element]),optionValue:wr.a.string,translateChoice:wr.a.bool}),Jh.displayName="SelectField";var Qh=Jh,Yh=["Communication Services","Consumer Discretionary","Consumer Staples","Energy","Financials","Health Care","Industrials","Information Technology","Materials","Real Estate","Utilities"].map((function(e){return{id:e,name:e}})),Zh=Object(Br.a)({avatar:{width:60,height:60,backgroundColor:"aliceblue"},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}),Kh=function CompanyAvatar(e){var t=e.record,r=e.size,a=void 0===r?"large":r,o=Zh();return t?Object(n.jsx)(on.a,{src:"."+t.logo,alt:t.name,className:o.avatar,imgProps:{className:Object(mf.a)(o.img,o[a])}}):null},Xh=Object(Br.a)((function(e){return{paper:{height:200,width:193.5,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)}}})),$h=function CompanyCard(e){var t=e.record,r=Xh(),o=Object(a.useState)(1),i=Object(qp.a)(o,2),c=i[0],l=i[1];return Object(n.jsx)(xu.a,{component:Dn.a,to:linkToRecord("/companies",t.id,"show"),underline:"none",onMouseEnter:function onMouseEnter(){return l(3)},onMouseLeave:function onMouseLeave(){return l(1)},children:Object(n.jsxs)(km.a,{className:r.paper,elevation:c,children:[Object(n.jsxs)("div",{className:r.identity,children:[Object(n.jsx)(Kh,{record:t}),Object(n.jsxs)("div",{className:r.name,children:[Object(n.jsx)(Lr.a,{variant:"subtitle2",children:t.name}),Object(n.jsx)(Qh,{color:"textSecondary",source:"sector",choices:Yh,record:t})]})]}),Object(n.jsxs)("div",{className:r.stats,children:[Object(n.jsxs)("div",{className:r.singleStat,children:[Object(n.jsx)(sn.a,{color:"disabled",className:r.statIcon}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Lr.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_contacts}),Object(n.jsx)(Lr.a,{variant:"caption",color:"textSecondary",children:t.nb_contacts>1?"contacts":"contact"})]})]}),Object(n.jsxs)("div",{className:r.singleStat,children:[Object(n.jsx)(Hh.a,{color:"disabled",className:r.statIcon}),Object(n.jsxs)("div",{children:[Object(n.jsx)(Lr.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_deals}),Object(n.jsx)(Lr.a,{variant:"caption",color:"textSecondary",children:t.nb_deals>1?"deals":"deal"})]})]})]})]})})},ey=Object(Br.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:1008,gap:"10px"},paper:{height:200,width:194,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[200]}}})),ty=function times(e,t){return Array.from({length:e},(function(e,r){return t(r)}))},ry=function LoadingGridList(){var e=ey();return Object(n.jsx)(rp.a,{className:e.gridList,children:ty(15,(function(t){return Object(n.jsx)(km.a,{className:e.paper},t)}))})},ny=function LoadedGridList(){var e=ec(),t=e.ids,r=e.data,a=ey();return t&&r?Object(n.jsx)(rp.a,{className:a.gridList,children:t.map((function(e){return Object(n.jsx)($h,{record:r[e]},e)}))}):null},ay=function GridList(){return ec().loaded?Object(n.jsx)(ny,{}):Object(n.jsx)(ry,{})},oy=r(247),iy=r.n(oy),cy=r(447),ly=r.n(cy),sy=[{id:1,name:"1 employee"},{id:10,name:"2-9 employees"},{id:50,name:"10-49 employees"},{id:250,name:"50-249 employees"},{id:500,name:"250 or more employees"}],uy=function CompanyListFilter(){var e=nn().identity;return Object(n.jsxs)(rp.a,{width:"15em",order:"-1",marginRight:"1em",children:[Object(n.jsx)(Cb,{}),Object(n.jsx)(Ab,{label:"Size",icon:Object(n.jsx)(iy.a,{}),children:sy.map((function(e){return Object(n.jsx)(Fb,{label:e.name,value:{size:e.id}},e.id)}))}),Object(n.jsx)(Ab,{label:"Sector",icon:Object(n.jsx)(ly.a,{}),children:Yh.map((function(e){return Object(n.jsx)(Fb,{label:e.name,value:{sector:e.id}},e.id)}))}),Object(n.jsx)(Ab,{label:"Account manager",icon:Object(n.jsx)(Ub.a,{}),children:Object(n.jsx)(Fb,{label:"Me",value:{sales_id:e&&e.id}})})]})},dy=Object(Br.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),py=function CompanyListActions(e){var t=dy();return Object(n.jsxs)(xl,{children:[Object(n.jsx)(Wl,{}),Object(n.jsx)(Il,{basePath:"/companies",variant:"contained",label:"New Company",className:t.createButton})]})},fy=function TitleForRecord(e){var t=e.defaultTitle,r=e.record,n=e.title;return r?a.createElement(ia,{title:n,record:r,defaultTitle:t}):null};fy.propTypes={defaultTitle:wr.a.any,record:wr.a.object,title:oa};var by=fy,CreateView_assign=function(){return(CreateView_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},CreateView_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},my=function CreateView(e){var t,r=e.actions,n=e.aside,o=e.children,i=(e.classes,e.className),c=e.component,l=e.title,s=CreateView_rest(e,["actions","aside","children","classes","className","component","title"]),u=hy(e),d=Vh(e),p=d.basePath,f=d.defaultTitle,b=d.hasList,m=d.record,h=d.redirect,y=d.resource,g=d.save,O=d.saving,v=d.version;return a.createElement("div",CreateView_assign({className:Sr()("create-page",u.root,i)},yy(s)),a.createElement(by,{title:l,record:m,defaultTitle:f}),r&&Object(a.cloneElement)(r,CreateView_assign({basePath:p,resource:y,hasList:b},r.props)),a.createElement("div",{className:Sr()(u.main,(t={},t[u.noActions]=!r,t))},a.createElement(c,{className:u.card},Object(a.cloneElement)(a.Children.only(o),{basePath:p,record:m,redirect:"undefined"===typeof o.props.redirect?h:o.props.redirect,resource:y,save:"undefined"===typeof o.props.save?g:o.props.save,saving:O,version:v})),n&&Object(a.cloneElement)(n,{basePath:p,record:m,resource:y,save:"undefined"===typeof o.props.save?g:o.props.save,saving:O,version:v})))};my.propTypes={actions:wr.a.element,aside:wr.a.element,basePath:wr.a.string,children:wr.a.element,classes:wr.a.object,className:wr.a.string,defaultTitle:wr.a.any,hasList:wr.a.bool,hasShow:wr.a.bool,record:wr.a.object,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool]),resource:wr.a.string,save:wr.a.func,title:wr.a.node,onSuccess:wr.a.func,onFailure:wr.a.func,setOnSuccess:wr.a.func,setOnFailure:wr.a.func,setTransform:wr.a.func},my.defaultProps={classes:{},component:_a.a};var hy=Object(Br.a)((function(e){var t;return{root:{},main:{display:"flex"},noActions:(t={},t[e.breakpoints.up("sm")]={marginTop:"1em"},t),card:{flex:"1 1 auto"}}}),{name:"RaCreate"}),yy=function sanitizeRestProps(e){e.basePath,e.defaultTitle,e.hasCreate,e.hasEdit,e.hasList,e.hasShow,e.history,e.loaded,e.loading,e.location,e.match,e.onFailure,e.onFailureRef,e.onSuccess,e.onSuccessRef,e.options,e.permissions,e.save,e.saving,e.setOnFailure,e.setOnSuccess,e.setTransform,e.transform,e.transformRef;return CreateView_rest(e,["basePath","defaultTitle","hasCreate","hasEdit","hasList","hasShow","history","loaded","loading","location","match","onFailure","onFailureRef","onSuccess","onSuccessRef","options","permissions","save","saving","setOnFailure","setOnSuccess","setTransform","transform","transformRef"])},Create_assign=function(){return(Create_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},gy=function Create(e){uo("Create",["children"],e);var t=Fh(e),r=a.createElement(Bh,{value:t},a.createElement(my,Create_assign({},e,t)));return e.resource?a.createElement(oo,{value:e.resource},r):r};gy.propTypes={actions:wr.a.element,aside:wr.a.element,children:wr.a.element,classes:wr.a.object,className:wr.a.string,hasCreate:wr.a.bool,hasEdit:wr.a.bool,hasShow:wr.a.bool,resource:wr.a.string,title:wr.a.node,record:wr.a.object,hasList:wr.a.bool,successMessage:wr.a.string,onSuccess:wr.a.func,onFailure:wr.a.func,transform:wr.a.func};var Oy=r(869),vy=r(834),Labeled_assign=function(){return(Labeled_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Labeled_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},jy=Object(Br.a)((function(e){return{label:{position:"relative"},value:{fontFamily:e.typography.fontFamily,color:"currentColor",padding:e.spacing(1)+"px 0 "+e.spacing(1)/2+"px",border:0,boxSizing:"content-box",verticalAlign:"middle",background:"none",margin:0,display:"block",width:"100%"}}}),{name:"RaLabeled"}),xy=function Labeled(e){var t=e.children,r=e.className,n=(e.classes,e.fullWidth),o=e.id,i=e.input,c=e.isRequired,l=e.label,s=e.margin,u=void 0===s?"dense":s,d=e.meta,p=e.resource,f=e.source,b=Labeled_rest(e,["children","className","classes","fullWidth","id","input","isRequired","label","margin","meta","resource","source"]),m=jy(e);if(!l&&!f){var h=t&&t.type&&t.type.name;throw new Error("Cannot create label for component <"+h+">: You must set either the label or source props. You can also disable automated label insertion by setting 'addLabel: false' in the component default props")}var y=n?Labeled_assign(Labeled_assign({},b),{fullWidth:n}):b;return a.createElement(vy.a,{className:r,fullWidth:n,error:d&&d.touched&&!(!d.error&&!d.submitError),margin:u},a.createElement(Oy.a,{htmlFor:o,shrink:!0,className:m.label},a.createElement(Gl,{label:l,source:f,resource:p,isRequired:c})),a.createElement("div",{className:m.value},t&&"string"!==typeof t.type?a.cloneElement(t,Labeled_assign({input:i,resource:p},y)):t))};xy.propTypes={basePath:wr.a.string,children:wr.a.element,className:wr.a.string,classes:wr.a.object,fullWidth:wr.a.bool,id:wr.a.string,input:wr.a.object,isRequired:wr.a.bool,label:wr.a.oneOfType([wr.a.string,wr.a.element]),meta:wr.a.object,onChange:wr.a.func,record:wr.a.object,resource:wr.a.string,source:wr.a.string,labelStyle:wr.a.object};var wy=xy,FormInput_assign=function(){return(FormInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},FormInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ey=Object(Br.a)((function(e){return{input:{width:e.spacing(32)}}}),{name:"RaFormInput"}),Sy=function FormInput(e){var t,r,n=e.input,o=(e.classes,FormInput_rest(e,["input","classes"])),i=Ey(e),c=n?n.props:{id:void 0,className:void 0},l=c.id,s=c.className,u=FormInput_rest(c,["id","className"]);return n?a.createElement("div",{className:Sr()("ra-input","ra-input-"+n.props.source,n.props.formClassName)},n.props.addLabel?a.createElement(wy,FormInput_assign({id:l||n.props.source},u,function sanitizeRestProps(e){return e.basePath,e.record,FormInput_rest(e,["basePath","record"])}(o)),a.cloneElement(n,FormInput_assign(FormInput_assign({className:Sr()((t={},t[i.input]=!n.props.fullWidth,t),s),id:n.props.id||n.props.source},o),u))):a.cloneElement(n,FormInput_assign(FormInput_assign({className:Sr()((r={},r[i.input]=!n.props.fullWidth,r),s),id:n.props.id||n.props.source},o),u))):null};Sy.propTypes={classes:wr.a.object,input:wr.a.node},Sy.displayName="FormInput";var Py=Sy,Cy=Object(Br.a)((function(e){var t;return{root:{paddingTop:0,paddingBottom:0,"&:first-child":{paddingTop:16},"&:last-child":(t={paddingBottom:16},t[e.breakpoints.only("xs")]={paddingBottom:70},t)}}}),{name:"RaCardContentInner"}),Ay=function CardContentInner(e){var t=e.className,r=e.children,n=Cy(e);return a.createElement(Ac.a,{className:Sr()(n.root,t)},r)};Ay.propTypes={className:wr.a.string,classes:wr.a.object,children:wr.a.node};var Ty=Ay,SimpleFormView_assign=function(){return(SimpleFormView_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SimpleFormView_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},ky=function SimpleFormView(e){var t=e.basePath,r=e.children,n=e.className,o=e.component,i=e.handleSubmit,c=e.handleSubmitWithRedirect,l=e.invalid,s=e.margin,u=e.mutationMode,d=e.pristine,p=e.record,f=e.redirect,b=e.resource,m=e.saving,h=e.submitOnEnter,y=e.toolbar,g=e.undoable,O=e.variant,v=e.validating,j=SimpleFormView_rest(e,["basePath","children","className","component","handleSubmit","handleSubmitWithRedirect","invalid","margin","mutationMode","pristine","record","redirect","resource","saving","submitOnEnter","toolbar","undoable","variant","validating"]);return a.createElement("form",SimpleFormView_assign({className:Sr()("simple-form",n)},Ry(j)),a.createElement(o,null,a.Children.map(r,(function(e){return e&&a.createElement(Py,{basePath:t,input:e,record:p,resource:b,variant:e.props.variant||O,margin:e.props.margin||s})}))),y&&a.cloneElement(y,{basePath:t,handleSubmitWithRedirect:c,handleSubmit:i,invalid:l,mutationMode:u,pristine:d,record:p,redirect:f,resource:b,saving:m,submitOnEnter:h,validating:v,undoable:g}))};ky.propTypes={basePath:wr.a.string,children:wr.a.node,className:wr.a.string,handleSubmit:wr.a.func,invalid:wr.a.bool,mutationMode:wr.a.oneOf(["pessimistic","optimistic","undoable"]),pristine:wr.a.bool,record:wr.a.object,resource:wr.a.string,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),save:wr.a.func,saving:wr.a.bool,submitOnEnter:wr.a.bool,toolbar:wr.a.element,undoable:wr.a.bool,validate:wr.a.func},ky.defaultProps={submitOnEnter:!0,toolbar:a.createElement(wh,null),component:Ty};var Ry=function sanitizeRestProps(e){e.active,e.dirty,e.dirtyFields,e.dirtyFieldsSinceLastSubmit,e.dirtySinceLastSubmit,e.error,e.errors,e.form,e.hasSubmitErrors,e.hasValidationErrors,e.initialValues,e.modified,e.modifiedSinceLastSubmit,e.save,e.submitError,e.submitErrors,e.submitFailed,e.submitSucceeded,e.submitting,e.touched,e.valid,e.values,e.visited,e.__versions;return SimpleFormView_rest(e,["active","dirty","dirtyFields","dirtyFieldsSinceLastSubmit","dirtySinceLastSubmit","error","errors","form","hasSubmitErrors","hasValidationErrors","initialValues","modified","modifiedSinceLastSubmit","save","submitError","submitErrors","submitFailed","submitSucceeded","submitting","touched","valid","values","visited","__versions"])},SimpleForm_assign=function(){return(SimpleForm_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},Ny=function SimpleForm(e){return a.createElement(um,SimpleForm_assign({},e,{render:function render(e){return a.createElement(ky,SimpleForm_assign({},e))}}))};Ny.propTypes={children:wr.a.node,initialValues:wr.a.oneOfType([wr.a.object,wr.a.func]),mutationMode:wr.a.oneOf(["pessimistic","optimistic","undoable"]),record:wr.a.object,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),save:wr.a.func,saving:wr.a.bool,submitOnEnter:wr.a.bool,toolbar:wr.a.element,undoable:wr.a.bool,validate:wr.a.func,version:wr.a.number,sanitizeEmptyValues:wr.a.bool};var Iy=Ny,SelectInput_assign=function(){return(SelectInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SelectInput_awaiter=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function fulfilled(e){try{step(n.next(e))}catch(t){o(t)}}function rejected(e){try{step(n.throw(e))}catch(t){o(t)}}function step(e){e.done?a(e.value):function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))},SelectInput_generator=function(e,t){var r,n,a,o,i={label:0,sent:function sent(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:verb(0),throw:verb(1),return:verb(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function verb(o){return function(c){return function step(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=(a=i.trys).length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},SelectInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Fy=function SelectInput(e){var t=e.allowEmpty,r=e.choices,n=void 0===r?[]:r,o=(e.classes,e.className),i=e.create,c=e.createLabel,l=e.createValue,s=e.disableValue,u=e.emptyText,d=e.emptyValue,p=e.format,f=e.helperText,b=e.label,m=(e.loaded,e.loading),h=e.margin,y=void 0===h?"dense":h,g=e.onBlur,O=e.onChange,v=e.onCreate,j=e.onFocus,x=e.options,w=e.optionText,E=e.optionValue,S=e.parse,P=e.resource,C=e.source,A=e.translateChoice,T=e.validate,k=SelectInput_rest(e,["allowEmpty","choices","classes","className","create","createLabel","createValue","disableValue","emptyText","emptyValue","format","helperText","label","loaded","loading","margin","onBlur","onChange","onCreate","onFocus","options","optionText","optionValue","parse","resource","source","translateChoice","validate"]),R=Ur(),N=Dy(e);util_warning(),util_warning();var I=wm({optionText:w,optionValue:E,translateChoice:A}),F=I.getChoiceText,_=I.getChoiceValue,D=yb(SelectInput_assign({format:p,onBlur:g,onChange:O,onFocus:j,parse:S,resource:P,source:C,validate:T},k)),L=D.id,B=D.input,M=D.isRequired,V=D.meta,W=V.touched,U=V.error,z=V.submitError,q=Object(a.useCallback)((function(){return a.isValidElement(u)?a.cloneElement(u):""===u?"\u2003":R(u,{_:u})}),[u,R]),G=Object(a.useCallback)((function(e){return F(e)}),[F]),H=Object(a.useCallback)((function(e,t){return SelectInput_awaiter(void 0,void 0,void 0,(function(){var r;return SelectInput_generator(this,(function(n){return t?(r=_(t),B.onChange(r),[2]):(B.onChange(e),[2])}))}))}),[B,_]),J=Vm({create:i,createLabel:c,createValue:l,handleChange:H,onCreate:v}),Q=J.getCreateItem,Y=J.handleChange,Z=J.createElement;if(m)return a.createElement(wy,{id:L,label:b,source:C,resource:P,className:o,isRequired:M,meta:V,input:B,margin:y},a.createElement(qu,null));var K=Q();return a.createElement(a.Fragment,null,a.createElement(vb,SelectInput_assign({id:L},B,{onChange:Y,select:!0,label:""!==b&&!1!==b&&a.createElement(Gl,{label:b,source:C,resource:P,isRequired:M}),className:N.input+" "+o,clearAlwaysVisible:!0,error:!(!W||!U&&!z),helperText:a.createElement(wb,{touched:W,error:U||z,helperText:f}),margin:y},x,_y(k)),t?a.createElement(Ln.a,{value:d,key:"null","aria-label":R("ra.action.clear_input_value"),title:R("ra.action.clear_input_value")},q()):null,n.map((function(e){return a.createElement(Ln.a,{key:_(e),value:_(e),disabled:En()(e,s)},G(e))})),v||i?a.createElement(Ln.a,{value:K.id,key:K.id},K.name):null),Z)};Fy.propTypes={allowEmpty:wr.a.bool,emptyText:wr.a.oneOfType([wr.a.string,wr.a.element]),emptyValue:wr.a.any,choices:wr.a.arrayOf(wr.a.object),classes:wr.a.object,className:wr.a.string,label:wr.a.oneOfType([wr.a.string,wr.a.bool]),options:wr.a.object,optionText:wr.a.oneOfType([wr.a.string,wr.a.func,wr.a.element]).isRequired,optionValue:wr.a.string.isRequired,disableValue:wr.a.string,resettable:wr.a.bool,resource:wr.a.string,source:wr.a.string,translateChoice:wr.a.bool},Fy.defaultProps={emptyText:"",emptyValue:"",options:{},optionText:"name",optionValue:"id",translateChoice:!0,disableValue:"disabled"};var _y=function sanitizeRestProps(e){e.addLabel,e.afterSubmit,e.allowNull,e.beforeSubmit,e.choices,e.className,e.crudGetMatching,e.crudGetOne,e.data,e.filter,e.filterToQuery,e.formatOnBlur,e.isEqual,e.limitChoicesToValue,e.multiple,e.name,e.pagination,e.perPage,e.ref,e.reference,e.refetch,e.render,e.setFilter,e.setPagination,e.setSort,e.sort,e.subscription,e.type,e.validateFields,e.validation,e.value;var t=SelectInput_rest(e,["addLabel","afterSubmit","allowNull","beforeSubmit","choices","className","crudGetMatching","crudGetOne","data","filter","filterToQuery","formatOnBlur","isEqual","limitChoicesToValue","multiple","name","pagination","perPage","ref","reference","refetch","render","setFilter","setPagination","setSort","sort","subscription","type","validateFields","validation","value"]);return Eb(t)},Dy=Object(Br.a)((function(e){return{input:{minWidth:e.spacing(20)}}}),{name:"RaSelectInput"}),Ly=Object(Br.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),By=function CustomLayout(e){return Object(n.jsx)(Ac.a,{children:Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(rp.a,{paddingTop:1,children:Object(n.jsx)(on.a,{children:Object(n.jsx)(iy.a,{})})}),Object(n.jsx)(rp.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},My=function CustomDivider(){return Object(n.jsx)(rp.a,{mb:2,children:Object(n.jsx)(Wp.a,{})})},Vy=r(448),Wy=r.n(Vy),Uy=function CompanyAside(e){var t=e.record,r=e.link,a=void 0===r?"edit":r;return t?Object(n.jsxs)(rp.a,{ml:4,width:250,minWidth:250,children:[Object(n.jsx)(rp.a,{textAlign:"center",mb:2,children:"edit"===a?Object(n.jsx)(Np,{basePath:"/companies",record:t,label:"Edit Company"}):Object(n.jsx)(Bp,{basePath:"/companies",record:t,label:"Show Company"})}),Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Company info"}),Object(n.jsx)(Wp.a,{}),Object(n.jsxs)(rp.a,{mt:2,children:["Website: ",Object(n.jsx)(xu.a,{href:t.website,children:t.website}),Object(n.jsx)("br",{}),"LinkedIn: ",Object(n.jsx)(xu.a,{href:t.linkedIn,children:"LinkedIn"})]}),Object(n.jsxs)(rp.a,{mt:1,children:[Object(n.jsx)(gd,{source:"phone_number",record:t})," ",Object(n.jsx)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:"Main"})]}),Object(n.jsxs)(rp.a,{mt:1,mb:3,children:[Object(n.jsx)(gd,{source:"address"}),Object(n.jsx)("br",{}),Object(n.jsx)(gd,{source:"city"})," ",Object(n.jsx)(gd,{source:"zipcode"})," ",Object(n.jsx)(gd,{source:"stateAbbr"})]}),Object(n.jsx)(Lr.a,{variant:"subtitle2",children:"Background"}),Object(n.jsx)(Wp.a,{}),Object(n.jsxs)(rp.a,{mt:1,children:[Object(n.jsx)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:"Added on"})," ",Object(n.jsx)(ju,{source:"created_at",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(n.jsx)("br",{}),Object(n.jsx)(Lr.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(n.jsx)(Ku,{resource:"companies",source:"sales_id",reference:"sales",children:Object(n.jsx)(Vp,{source:"last_name",render:function render(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})]}):null},zy=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],qy={opportunity:"Opportunity","proposal-sent":"Proposal Sent","in-negociation":"In Negociation",won:"Won",lost:"Lost",delayed:"Delayed"},Gy=zy.map((function(e){return{id:e,name:qy[e]}})),Hy=function CompanyShowContent(){var e=mp(),t=e.record,r=e.loaded,o=Object(a.useState)(0),i=Object(qp.a)(o,2),c=i[0],l=i[1];return r&&t?Object(n.jsxs)(rp.a,{mt:2,display:"flex",children:[Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(_a.a,{children:Object(n.jsxs)(Ac.a,{children:[Object(n.jsxs)(rp.a,{display:"flex",mb:1,children:[Object(n.jsx)(ff,{record:t}),Object(n.jsxs)(rp.a,{ml:2,flex:"1",children:[Object(n.jsx)(Lr.a,{variant:"h5",children:t.name}),Object(n.jsxs)(Lr.a,{variant:"body2",children:[Object(n.jsx)(gd,{source:"sector"}),","," ",Object(n.jsx)(Qh,{source:"size",choices:sy})]})]})]}),Object(n.jsxs)(np.a,{value:c,indicatorColor:"primary",textColor:"primary",onChange:function handleChange(e,t){l(t)},children:[t.nb_contacts&&Object(n.jsx)(ap.a,{label:1===t.nb_contacts?"1 Contact":"".concat(t.nb_contacts," Contacts")}),t.nb_deals&&Object(n.jsx)(ap.a,{label:1===t.nb_deals?"1 deal":"".concat(t.nb_deals," Deals")})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(Jy,{value:c,index:0,children:Object(n.jsx)(Sp,{reference:"contacts",target:"company_id",sort:{field:"last_name",order:"ASC"},children:Object(n.jsx)(Qy,{})})}),Object(n.jsx)(Jy,{value:c,index:1,children:Object(n.jsx)(Sp,{reference:"deals",target:"company_id",sort:{field:"name",order:"ASC"},children:Object(n.jsx)(Zy,{})})})]})})}),Object(n.jsx)(Uy,{record:t})]}):null},Jy=function TabPanel(e){var t=e.children,r=e.value,a=e.index,o=Object(Qf.a)(e,["children","value","index"]);return Object(n.jsx)("div",Object(l.a)(Object(l.a)({role:"tabpanel",hidden:r!==a,id:"wrapped-tabpanel-".concat(a),"aria-labelledby":"wrapped-tab-".concat(a)},o),{},{children:t}))},Qy=function ContactsIterator(){var e=ec(),t=e.data,r=e.ids,a=e.loaded,o=ks(),i=Date.now();return a?Object(n.jsxs)(rp.a,{children:[Object(n.jsx)(Up.a,{children:r.map((function(e){var r=t[e];return Object(n.jsxs)(zp.a,{button:!0,component:Dn.a,to:"/contacts/".concat(e,"/show"),children:[Object(n.jsx)(Rf.a,{children:Object(n.jsx)(Pp,{record:r})}),Object(n.jsx)(If.a,{primary:"".concat(r.first_name," ").concat(r.last_name),secondary:Object(n.jsxs)(n.Fragment,{children:[r.title," ",Object(n.jsx)(Kf,{record:r})]})}),Object(n.jsx)(Nf.a,{children:Object(n.jsxs)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity"," ",Object(Jf.a)(new Date(r.last_seen),i)," ","ago ",Object(n.jsx)(yf,{status:r.status})]})})]},e)}))}),Object(n.jsx)(rp.a,{textAlign:"center",mt:1,children:Object(n.jsx)(Yy,{record:o})})]}):null},Yy=function CreateRelatedContactButton(e){var t=e.record;return Object(n.jsx)(an.a,{component:Dn.a,to:{pathname:"/contacts/create",state:{record:{company_id:t.id}}},color:"primary",variant:"contained",size:"small",startIcon:Object(n.jsx)(Wy.a,{}),children:"Add contact"})},Zy=function DealsIterator(){var e=ec(),t=e.data,r=e.ids,a=e.loaded,o=Date.now();return a?Object(n.jsx)(rp.a,{children:Object(n.jsx)(Up.a,{children:r.map((function(e){var r=t[e];return Object(n.jsxs)(zp.a,{button:!0,component:Dn.a,to:"/deals/".concat(e,"/show"),children:[Object(n.jsx)(If.a,{primary:r.name,secondary:Object(n.jsxs)(n.Fragment,{children:[qy[r.stage],","," ",r.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",r.type]})}),Object(n.jsx)(Nf.a,{children:Object(n.jsxs)(Lr.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity"," ",Object(Jf.a)(new Date(r.updated_at),o)," ","ago"," "]})})]},e)}))})}):null},EditActions_assign=function(){return(EditActions_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},EditActions_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Ky=function EditActions(e){var t=e.className,r=EditActions_rest(e,["className"]),n=Xb(r),o=n.basePath,i=n.record,c=Pl(r).hasShow;return a.createElement(xl,EditActions_assign({className:t},Xy(r)),c&&a.createElement(Bp,{basePath:o,record:i}))},Xy=function sanitizeRestProps(e){e.basePath,e.hasCreate,e.hasEdit,e.hasShow,e.hasList;return EditActions_rest(e,["basePath","hasCreate","hasEdit","hasShow","hasList"])};Ky.propTypes={basePath:wr.a.string,className:wr.a.string,data:wr.a.object,hasCreate:wr.a.bool,hasEdit:wr.a.bool,hasShow:wr.a.bool,hasList:wr.a.bool,resource:wr.a.string};var EditView_assign=function(){return(EditView_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},EditView_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},$y=function EditView(e){var t,r=e.actions,n=e.aside,o=e.children,i=(e.classes,e.className),c=e.component,l=e.title,s=e.undoable,u=e.mutationMode,d=EditView_rest(e,["actions","aside","children","classes","className","component","title","undoable","mutationMode"]),p=eg(e),f=Xb(e),b=f.basePath,m=f.defaultTitle,h=f.hasList,y=f.hasShow,g=f.record,O=f.redirect,v=f.resource,j=f.save,x=f.saving,w=f.version,E="undefined"===typeof r&&y?a.createElement(Ky,null):r;return o?a.createElement("div",EditView_assign({className:Sr()("edit-page",p.root,i)},tg(d)),a.createElement(by,{title:l,record:g,defaultTitle:m}),E&&Object(a.cloneElement)(E,EditView_assign({basePath:b,data:g,hasShow:y,hasList:h,resource:v},E.props)),a.createElement("div",{className:Sr()(p.main,(t={},t[p.noActions]=!E,t))},a.createElement(c,{className:p.card},g?Object(a.cloneElement)(a.Children.only(o),{basePath:b,record:g,redirect:"undefined"===typeof o.props.redirect?O:o.props.redirect,resource:v,save:"undefined"===typeof o.props.save?j:o.props.save,saving:x,undoable:s,mutationMode:u,version:w}):a.createElement(Ac.a,null,"\xa0")),n&&a.cloneElement(n,{basePath:b,record:g,resource:v,version:w,save:"undefined"===typeof o.props.save?j:o.props.save,saving:x}))):null};$y.propTypes={actions:wr.a.oneOfType([wr.a.element,wr.a.bool]),aside:wr.a.element,basePath:wr.a.string,children:wr.a.element,classes:wr.a.object,className:wr.a.string,component:ComponentPropType,defaultTitle:wr.a.any,hasList:wr.a.bool,hasShow:wr.a.bool,mutationMode:wr.a.oneOf(["pessimistic","optimistic","undoable"]),record:wr.a.object,redirect:wr.a.oneOfType([wr.a.string,wr.a.bool]),resource:wr.a.string,save:wr.a.func,title:wr.a.node,version:wr.a.number,onSuccess:wr.a.func,onFailure:wr.a.func,setOnSuccess:wr.a.func,setOnFailure:wr.a.func,setTransform:wr.a.func,undoable:wr.a.bool},$y.defaultProps={classes:{},component:_a.a};var eg=Object(Br.a)({root:{},main:{display:"flex"},noActions:{marginTop:"1em"},card:{flex:"1 1 auto"}},{name:"RaEdit"}),tg=function sanitizeRestProps(e){e.basePath,e.defaultTitle,e.hasCreate,e.hasEdit,e.hasList,e.hasShow,e.history,e.id,e.loaded,e.loading,e.location,e.match,e.onFailure,e.onFailureRef,e.onSuccess,e.onSuccessRef,e.options,e.permissions,e.refetch,e.save,e.saving,e.setOnFailure,e.setOnSuccess,e.setTransform,e.successMessage,e.transform,e.transformRef;return EditView_rest(e,["basePath","defaultTitle","hasCreate","hasEdit","hasList","hasShow","history","id","loaded","loading","location","match","onFailure","onFailureRef","onSuccess","onSuccessRef","options","permissions","refetch","save","saving","setOnFailure","setOnSuccess","setTransform","successMessage","transform","transformRef"])},Edit_assign=function(){return(Edit_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},rg=function Edit(e){uo("Edit",["children"],e);var t=Ph(e),r=a.createElement(Ah,{value:t},a.createElement($y,Edit_assign({},e,t)));return e.resource?a.createElement(oo,{value:e.resource},r):r};rg.propTypes={actions:wr.a.oneOfType([wr.a.element,wr.a.bool]),aside:wr.a.element,children:wr.a.node,classes:wr.a.object,className:wr.a.string,hasCreate:wr.a.bool,hasEdit:wr.a.bool,hasShow:wr.a.bool,hasList:wr.a.bool,id:wr.a.any.isRequired,mutationMode:wr.a.oneOf(["pessimistic","optimistic","undoable"]),onSuccess:wr.a.func,onFailure:wr.a.func,resource:wr.a.string,successMessage:wr.a.string,title:wr.a.node,transform:wr.a.func,undoable:wr.a.bool};var ng=Object(Br.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),ag=function CustomLayout(e){var t=ks(e);return Object(n.jsx)(Ac.a,{children:Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsx)(ff,{record:t}),Object(n.jsx)(rp.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},og=function CustomDivider(){return Object(n.jsx)(rp.a,{mb:2,children:Object(n.jsx)(Wp.a,{})})},ig={list:function CompanyList(e){var t=nn().identity;return t?Object(n.jsx)(Hf,Object(l.a)(Object(l.a)({},e),{},{actions:Object(n.jsx)(py,{}),aside:Object(n.jsx)(uy,{}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},pagination:Object(n.jsx)(Nc,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,sort:{field:"name",order:"ASC"},component:"div",children:Object(n.jsx)(ay,{})})):null},create:function CompanyCreate(e){var t=Ly();return Object(n.jsx)(gy,Object(l.a)(Object(l.a)({},e),{},{actions:!1,children:Object(n.jsxs)(Iy,{component:By,redirect:"show",children:[Object(n.jsx)(Pb,{source:"name",validate:ub(),fullWidth:!0}),Object(n.jsx)(Fy,{source:"sector",choices:Yh,formClassName:Object(mf.a)(t.inline,"first-child")}),Object(n.jsx)(Fy,{source:"size",choices:sy,formClassName:t.inline}),Object(n.jsx)(My,{}),Object(n.jsx)(Pb,{source:"address",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"city",formClassName:Object(mf.a)(t.inline,"first-child")}),Object(n.jsx)(Pb,{source:"zipcode",formClassName:t.inline}),Object(n.jsx)(Pb,{source:"stateAbbr",formClassName:t.inline}),Object(n.jsx)(My,{}),Object(n.jsx)(Pb,{source:"website",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"logo",fullWidth:!0}),Object(n.jsx)(My,{}),Object(n.jsx)(Pb,{source:"phone_number",formClassName:Object(mf.a)(t.inline,"first-child"),helperText:!1}),Object(n.jsx)(jm,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(n.jsx)(Fy,{optionText:function optionText(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},edit:function CompanyEdit(e){var t=ng();return Object(n.jsx)(rg,Object(l.a)(Object(l.a)({},e),{},{aside:Object(n.jsx)(Uy,{link:"show"}),actions:!1,children:Object(n.jsxs)(Iy,{component:ag,redirect:"show",children:[Object(n.jsx)(Pb,{source:"name",validate:ub(),fullWidth:!0}),Object(n.jsx)(Fy,{source:"sector",choices:Yh,formClassName:Object(mf.a)(t.inline,"first-child")}),Object(n.jsx)(Fy,{source:"size",choices:sy,formClassName:t.inline}),Object(n.jsx)(og,{}),Object(n.jsx)(Pb,{source:"address",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"city",formClassName:Object(mf.a)(t.inline,"first-child")}),Object(n.jsx)(Pb,{source:"zipcode",formClassName:t.inline}),Object(n.jsx)(Pb,{source:"stateAbbr",formClassName:t.inline}),Object(n.jsx)(og,{}),Object(n.jsx)(Pb,{source:"website",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(n.jsx)(Pb,{source:"logo",fullWidth:!0}),Object(n.jsx)(og,{}),Object(n.jsx)(Pb,{source:"phone_number",formClassName:Object(mf.a)(t.inline,"first-child"),helperText:!1}),Object(n.jsx)(jm,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(n.jsx)(Fy,{optionText:function optionText(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},show:function CompanyShow(e){return Object(n.jsx)(bp,Object(l.a)(Object(l.a)({},e),{},{children:Object(n.jsx)(Hy,{})}))}},SearchInput_assign=function(){return(SearchInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SearchInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},cg=Object(Br.a)({input:{marginTop:32}},{name:"RaSearchInput"}),lg=function SearchInput(e){e.classes;var t=SearchInput_rest(e,["classes"]),r=Ur(),n=cg(e);if(e.label)throw new Error("<SearchInput> isn't designed to be used with a label prop. Use <TextInput> if you need a label.");return a.createElement(Pb,SearchInput_assign({hiddenLabel:!0,label:"",resettable:!0,placeholder:r("ra.action.search"),InputProps:{endAdornment:a.createElement(Xf.a,{position:"end"},a.createElement(eb.a,{color:"disabled"}))},className:n.input},t))};lg.propTypes={classes:wr.a.object};var sg=lg,ug=r(59),dg=r.n(ug),pg=r(120),fg=r(173),bg=Object(Br.a)((function(e){return{root:{marginBottom:e.spacing(1)},cardContent:{padding:e.spacing(1),display:"flex"},cardText:{marginLeft:e.spacing(1)}}})),mg=function DealCard(e){var t=e.deal,r=e.index,a=bg(),o=Mc();if(!t)return null;var i=function handleClick(){o("/deals/".concat(t.id,"/show"))};return Object(n.jsx)(fg.b,{draggableId:String(t.id),index:r,children:function children(e,r){return Object(n.jsx)("div",Object(l.a)(Object(l.a)(Object(l.a)({className:a.root},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,onClick:i,children:Object(n.jsx)(_a.a,{style:{opacity:r.isDragging?.9:1,transform:r.isDragging?"rotate(-2deg)":""},elevation:r.isDragging?3:1,children:Object(n.jsxs)("div",{className:a.cardContent,children:[Object(n.jsx)(Ku,{source:"company_id",record:t,reference:"companies",resource:"deals",basePath:"/deals",children:Object(n.jsx)(ff,{size:"small"})}),Object(n.jsxs)("div",{className:a.cardText,children:[Object(n.jsx)(Lr.a,{variant:"body2",gutterBottom:!0,children:t.name}),Object(n.jsxs)(Lr.a,{variant:"caption",color:"textSecondary",children:[t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",t.type]})]})]})})}))}})},hg=Object(Br.a)({root:{flex:1,paddingTop:8,paddingBottom:16,backgroundColor:"#eaeaee","&:first-child":{paddingLeft:5,borderTopLeftRadius:5},"&:last-child":{paddingRight:5,borderTopRightRadius:5}},droppable:{display:"flex",flexDirection:"column",borderRadius:5,padding:5,"&.isDraggingOver":{backgroundColor:"#dadadf"}}}),yg=function DealColumn(e){var t=e.stage,r=e.dealIds,a=e.data,o=hg();return Object(n.jsxs)("div",{className:o.root,children:[Object(n.jsx)(Lr.a,{align:"center",variant:"subtitle1",children:qy[t]}),Object(n.jsx)(fg.c,{droppableId:t,children:function children(e,t){return Object(n.jsxs)("div",Object(l.a)(Object(l.a)({ref:e.innerRef},e.droppableProps),{},{className:o.droppable+(t.isDraggingOver?" isDraggingOver":""),children:[r.map((function(e,t){return Object(n.jsx)(mg,{index:t,deal:a[e]},e)})),e.placeholder]}))}})]})},gg=zy.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(bf.a)({},t,[]))}),{}),Og=function getDealsByColumn(e,t){var r=e.reduce((function(e,r){return e[t[r].stage].push(r),e}),zy.reduce((function(e,t){return Object(l.a)(Object(l.a)({},e),{},Object(bf.a)({},t,[]))}),{}));return zy.forEach((function(e){r[e]=r[e].sort((function(e,r){return t[e].index-t[r].index}))})),r},vg=function DealListContent(){var e=ec(),t=e.data,r=e.ids,o=e.loaded,i=e.page,c=e.perPage,s=e.currentSort,u=e.filterValues,d=Object(a.useState)(o?Og(r,t):gg),p=Object(qp.a)(d,2),f=p[0],b=p[1],m=Object(a.useContext)(N),h=Hc({resource:"deals",type:"getList",payload:{pagination:{page:i,perPage:c},sort:s,filter:u}}),y=Object(qp.a)(h,1)[0];if(Object(a.useEffect)((function(){if(o){var e=Og(r,t);H()(f,e)||b(e)}}),[t,r,o]),!o)return null;var g=function(){var e=Object(pg.a)(dg.a.mark((function _callee(e){var r,n,a,o,i,c,s,u,d,p,h,g,O,v,j,x,w;return dg.a.wrap((function _callee$(E){for(;;)switch(E.prev=E.next){case 0:if(r=e.destination,n=e.source,a=e.draggableId,r){E.next=3;break}return E.abrupt("return");case 3:if(r.droppableId!==n.droppableId||r.index!==n.index){E.next=5;break}return E.abrupt("return");case 5:if(n.droppableId!==r.droppableId){E.next=27;break}return o=Array.from(f[n.droppableId]),i=t[o[n.index]],c=t[o[r.index]],o.splice(n.index,1),o.splice(r.index,0,Number(a)),b(Object(l.a)(Object(l.a)({},f),{},Object(bf.a)({},n.droppableId,o))),E.next=14,m.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:n.droppableId}});case 14:if(s=E.sent,u=s.data,!(n.index>r.index)){E.next=22;break}return E.next=19,Promise.all([].concat(Object(Cd.a)(u.filter((function(e){return e.index>=c.index&&e.index<i.index})).map((function(e){return m.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[m.update("deals",{id:i.id,data:{index:c.index},previousData:i})]));case 19:y(),E.next=25;break;case 22:return E.next=24,Promise.all([].concat(Object(Cd.a)(u.filter((function(e){return e.index<=c.index&&e.index>i.index})).map((function(e){return m.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),[m.update("deals",{id:i.id,data:{index:c.index},previousData:i})]));case 24:y();case 25:E.next=43;break;case 27:return p=Array.from(f[n.droppableId]),h=Array.from(f[r.droppableId]),g=t[p[n.index]],O=t[h[r.index]],p.splice(n.index,1),h.splice(r.index,0,a),b(Object(l.a)(Object(l.a)({},f),{},(d={},Object(bf.a)(d,n.droppableId,p),Object(bf.a)(d,r.droppableId,h),d))),E.next=36,Promise.all([m.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:n.droppableId}}),m.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:r.droppableId}})]);case 36:return v=E.sent,j=Object(qp.a)(v,2),x=j[0].data,w=j[1].data,E.next=42,Promise.all([].concat(Object(Cd.a)(x.filter((function(e){return e.index>g.index})).map((function(e){return m.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),Object(Cd.a)(w.filter((function(e){return!!O&&e.index>=O.index})).map((function(e){return m.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[m.update("deals",{id:g.id,data:{index:O?O.index:w.pop().index+1,stage:r.droppableId},previousData:g})]));case 42:y();case 43:case"end":return E.stop()}}),_callee)})));return function onDragEnd(t){return e.apply(this,arguments)}}();return Object(n.jsx)(fg.a,{onDragEnd:g,children:Object(n.jsx)(rp.a,{display:"flex",children:zy.map((function(e){return Object(n.jsx)(yg,{stage:e,dealIds:f[e],data:t},e)}))})})},NumberInput_assign=function(){return(NumberInput_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},NumberInput_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},jg=function convertStringToNumber(e){var t=parseFloat(e);return isNaN(t)?null:t},xg=function NumberInput(e){var t=e.format,r=e.helperText,n=e.label,o=e.margin,i=void 0===o?"dense":o,c=e.onBlur,l=e.onFocus,s=e.onChange,u=e.options,d=e.parse,p=void 0===d?jg:d,f=e.resource,b=e.source,m=e.step,h=e.min,y=e.max,g=e.validate,O=e.variant,v=void 0===O?"filled":O,j=e.inputProps,x=NumberInput_rest(e,["format","helperText","label","margin","onBlur","onFocus","onChange","options","parse","resource","source","step","min","max","validate","variant","inputProps"]),w=yb(NumberInput_assign({format:t,onBlur:c,onChange:s,onFocus:l,parse:p,resource:f,source:b,type:"number",validate:g},x)),E=w.id,S=w.input,P=w.isRequired,C=w.meta,A=C.error,T=C.submitError,k=C.touched,R=NumberInput_assign(NumberInput_assign({},j),{step:m,min:h,max:y});return a.createElement(Ma.a,NumberInput_assign({id:E},S,{variant:v,error:!(!k||!A&&!T),helperText:a.createElement(wb,{touched:k,error:A||T,helperText:r}),label:a.createElement(Gl,{label:n,source:b,resource:f,isRequired:P}),margin:i,inputProps:R},u,Eb(x)))};xg.propTypes={label:wr.a.oneOfType([wr.a.string,wr.a.bool]),options:wr.a.object,resource:wr.a.string,source:wr.a.string,step:wr.a.oneOfType([wr.a.string,wr.a.number])},xg.defaultProps={options:{},step:"any",textAlign:"right"};var wg=xg,Eg=["Other","Copywriting","Print project","UI Design","Website design"].map((function(e){return{id:e,name:e}})),Sg=Object(Br.a)({root:{width:500}}),Pg=function DealCreate(e){var t=e.open,r=Sg(),a=Mc(),o=ni();return Object(n.jsx)(Yc.a,{open:t,onClose:function handleClose(){a("/deals")},children:Object(n.jsx)(gy,{resource:"deals",basePath:"/deals",className:r.root,onSuccess:function onSuccess(e){var t=e.data;a("/deals"),o.getList("deals",{pagination:{page:1,perPage:50},sort:{field:"id",order:"ASC"},filter:{stage:t.stage}}).then((function(e){var r=e.data;return Promise.all(r.filter((function(e){return e.id!==t.id})).map((function(e){return o.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})})))}))},children:Object(n.jsxs)(Iy,{initialValues:{index:0},children:[Object(n.jsx)(Pb,{source:"name",label:"Deal name",fullWidth:!0,validate:[ub()]}),Object(n.jsx)(Pb,{source:"description",multiline:!0,rows:3,fullWidth:!0}),Object(n.jsx)(jm,{source:"company_id",reference:"companies",fullWidth:!0,validate:[ub()],children:Object(n.jsx)(Um,{optionText:"name"})}),Object(n.jsx)(Fy,{source:"stage",choices:Gy,fullWidth:!0,validate:[ub()],defaultValue:"opportunity"}),Object(n.jsx)(Fy,{source:"type",choices:Eg,fullWidth:!0}),Object(n.jsx)(wg,{source:"amount",fullWidth:!0,defaultValue:0})]})})})},Cg=r(968),Ag=Object(Br.a)({ul:{listStyle:"none",padding:0,margin:0,display:"inline-block"},li:{display:"inline","&:after":{content:'", "'},"&:last-child:after":{content:'""'}}}),Tg=function ContactList(){var e=ec(),t=e.ids,r=e.data,a=e.loaded,o=Ag();return a?Object(n.jsx)("ul",{className:o.ul,children:t.map((function(e){return Object(n.jsx)("li",{className:o.li,children:Object(n.jsxs)(xu.a,{component:Dn.a,to:"/contacts/".concat(e),variant:"subtitle1",children:[r[e].first_name," ",r[e].last_name]})},e)}))}):Object(n.jsx)("div",{style:{height:"2em"}})},kg=Object(Br.a)({dialog:{position:"absolute",top:50}}),Rg=function DealShow(e){var t=e.open,r=e.id,a=Mc(),o=kg();return Object(n.jsx)(Yc.a,{open:t,onClose:function handleClose(){a("/deals")},fullWidth:!0,maxWidth:"md",classes:{paper:o.dialog},children:Object(n.jsx)(Kc.a,{children:Object(n.jsx)(bp,{resource:"deals",basePath:"/deals",id:r,children:Object(n.jsx)(Ng,{})})})})},Ng=function DealShowContent(){var e=ks();return e?Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(rp.a,{display:"flex",children:[Object(n.jsxs)(rp.a,{width:100,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(n.jsx)(Ku,{source:"company_id",reference:"companies",link:"show",children:Object(n.jsx)(Kh,{})}),Object(n.jsx)(Ku,{source:"company_id",reference:"companies",link:"show",children:Object(n.jsx)(gd,{source:"name",align:"center",component:"div"})})]}),Object(n.jsxs)(rp.a,{ml:2,flex:"1",children:[Object(n.jsx)(Lr.a,{variant:"h5",children:e.name}),Object(n.jsxs)(rp.a,{display:"flex",mt:2,children:[Object(n.jsxs)(rp.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Start"}),Object(n.jsx)(Lr.a,{variant:"subtitle1",children:Object(Cg.a)(new Date(e.start_at),"PP")})]}),Object(n.jsxs)(rp.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Budget"}),Object(n.jsx)(Lr.a,{variant:"subtitle1",children:e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),Object(n.jsxs)(rp.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Type"}),Object(n.jsx)(Lr.a,{variant:"subtitle1",children:e.type})]}),Object(n.jsxs)(rp.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Stage"}),Object(n.jsx)(Lr.a,{variant:"subtitle1",children:qy[e.stage]})]})]}),Object(n.jsx)(rp.a,{mt:2,mb:2,children:Object(n.jsxs)(rp.a,{display:"flex",mr:5,flexDirection:"column",minHeight:48,children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Contacts"}),Object(n.jsx)(hd,{source:"contact_ids",reference:"contacts",children:Object(n.jsx)(Tg,{})})]})}),Object(n.jsxs)(rp.a,{mt:2,mb:2,style:{whiteSpace:"pre-line"},children:[Object(n.jsx)(Lr.a,{color:"textSecondary",variant:"body2",children:"Description"}),Object(n.jsx)(Lr.a,{children:e.description})]}),Object(n.jsx)(Wp.a,{}),Object(n.jsx)(rp.a,{mt:2,children:Object(n.jsx)(Sp,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},children:Object(n.jsx)(Tf,{reference:"deals"})})})]})]})}):null},Ig=Object(Br.a)((function(e){return{root:{marginBottom:e.spacing(1),marginLeft:e.spacing(1)}}})),Fg=function OnlyMineInput(e){e.alwaysOn;var t=tb(),r=t.filterValues,a=t.displayedFilters,o=t.setFilters,i=nn().identity,c=Ig();return Object(n.jsx)("div",{className:c.root,children:Object(n.jsx)(Gm.a,{control:Object(n.jsx)(Qm.a,{checked:"undefined"!==typeof r.sales_id,onChange:function handleChange(){var e=Object(l.a)({},r);"undefined"!==typeof r.sales_id?delete e.sales_id:e.sales_id=i&&(null===i||void 0===i?void 0:i.id),o(e,a)},color:"primary",name:"checkedC"}),label:"Only companies I manage"})})};Fg.defaultProps={source:"sales_id"};var _g=[Object(n.jsx)(sg,{source:"q",alwaysOn:!0}),Object(n.jsx)(Fg,{alwaysOn:!0}),Object(n.jsx)(Fy,{source:"type",choices:Eg})],Dg=Object(Br.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Lg=function DealActions(){var e=Dg();return Object(n.jsxs)(xl,{children:[Object(n.jsx)(Zl,{}),Object(n.jsx)(Wl,{}),Object(n.jsx)(Il,{basePath:"/deals",variant:"contained",label:"New Deal",className:e.createButton})]})},Bg={list:function DealList(e){var t=nn().identity;return t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(Hf,Object(l.a)(Object(l.a)({},e),{},{perPage:100,sort:{field:"index",order:"ASC"},filters:_g,filterDefaultValues:{sales_id:t&&(null===t||void 0===t?void 0:t.id)},actions:Object(n.jsx)(Lg,{}),pagination:!1,component:"div",children:Object(n.jsx)(vg,{})})),Object(n.jsx)(Zt.b,{path:"/deals/create",children:function children(e){var t=e.match;return Object(n.jsx)(Pg,{open:!!t})}}),Object(n.jsx)(Zt.b,{path:"/deals/:id/show",children:function children(e){var t,r=e.match;return r?Object(n.jsx)(Rg,{open:!!r,id:null===r||void 0===r||null===(t=r.params)||void 0===t?void 0:t.id}):null}})]}):null}},Mg=r(450),Vg=r.n(Mg),Wg=r(451),Ug=r.n(Wg),zg=Object(Br.a)((function(e){return{root:{background:"#c5dedd",color:"rgba(0, 0, 0, 0.87)",padding:"1em",marginBottom:"1em",marginTop:"2em"},actions:{padding:e.spacing(2),marginTop:-e.spacing(2),marginBottom:-e.spacing(1),flexDirection:"column","& a":{marginBottom:e.spacing(1),backgroundColor:"white",marginLeft:"0 !important"}}}})),qg=function Welcome(){var e=zg();return Object(n.jsxs)(_a.a,{className:e.root,children:[Object(n.jsxs)(Ac.a,{children:[Object(n.jsx)(Lr.a,{variant:"h5",gutterBottom:!0,children:"CRM demo"}),Object(n.jsx)(Lr.a,{gutterBottom:!0,children:"This app runs in the browser, and relies on a mock REST API. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload."}),Object(n.jsx)(Lr.a,{gutterBottom:!0,children:"It was built using react-admin, an open-source framework. The code for this demo is also open-source. Reading it is a great way to learn react-admin!"})]}),Object(n.jsxs)(Va.a,{className:e.actions,children:[Object(n.jsx)(an.a,{variant:"contained",fullWidth:!0,href:"https://marmelab.com/react-admin",startIcon:Object(n.jsx)(Vg.a,{}),children:"React-admin site"}),Object(n.jsx)(an.a,{variant:"contained",fullWidth:!0,href:"https://github.com/marmelab/react-admin/tree/master/examples/crm",startIcon:Object(n.jsx)(Ug.a,{}),children:"Source for this demo"})]})]})},Gg=r(462),Hg=r.n(Gg),Jg=r(452),Qg={opportunity:.2,"proposal-sent":.5,"in-negociation":.8,delayed:.3},Yg=function DealsChart(){var e=Kp("deals",{perPage:100,page:1},{field:"start_at",order:"ASC"}),t=e.data,r=e.ids,o=e.loaded,i=Object(a.useState)([]),c=Object(qp.a)(i,2),l=c[0],s=c[1];if(Object(a.useEffect)((function(){var e=r.map((function(e){return t[e]})).reduce((function(e,t){var r=Object(Gb.a)(new Date(t.start_at)).toISOString();return e[r]||(e[r]=[]),e[r].push(t),e}),{}),n=Object.keys(e).map((function(t){return{date:Object(Cg.a)(new Date(t),"MMM"),won:e[t].filter((function(e){return"won"===e.stage})).reduce((function(e,t){return e+=t.amount}),0),pending:e[t].filter((function(e){return!["won","lost"].includes(e.stage)})).reduce((function(e,t){return e+=t.amount*Qg[t.stage]}),0),lost:e[t].filter((function(e){return"lost"===e.stage})).reduce((function(e,t){return e-=t.amount}),0)}}));s(n)}),[r,t]),!o)return null;var u=l.reduce((function(e,t){return e.min=Math.min(e.min,t.lost),e.max=Math.max(e.max,t.won+t.pending),e}),{min:0,max:0});return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rp.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(rp.a,{ml:2,mr:2,display:"flex",children:Object(n.jsx)(Hg.a,{color:"disabled",fontSize:"large"})}),Object(n.jsx)(xu.a,{underline:"none",variant:"h5",color:"textSecondary",component:Dn.a,to:"/deals",children:"Upcoming Deal Revenue"})]}),Object(n.jsx)(rp.a,{height:500,children:Object(n.jsx)(Jg.a,{data:l,indexBy:"date",keys:["won","pending","lost"],colors:["#61cdbb","#97e3d5","#e25c3b"],margin:{top:50,right:50,bottom:50,left:0},padding:.3,valueScale:{type:"linear",min:1.2*u.min,max:1.2*u.max},indexScale:{type:"band",round:!0},enableGridX:!0,enableGridY:!1,enableLabel:!1,axisTop:{tickSize:0,tickPadding:12},axisBottom:{legendPosition:"middle",legendOffset:50,tickSize:0,tickPadding:12},axisLeft:null,axisRight:{format:function format(e){return"".concat(Math.abs(e/1e3),"k")},tickValues:8},markers:[{axis:"y",value:0,lineStyle:{strokeOpacity:0},textStyle:{fill:"#2ebca6"},legend:"Won",legendPosition:"top-left",legendOrientation:"vertical"},{axis:"y",value:0,lineStyle:{stroke:"#f47560",strokeWidth:1},textStyle:{fill:"#e25c3b"},legend:"Lost",legendPosition:"bottom-left",legendOrientation:"vertical"}]})})]})},Zg=r(463),Kg=r.n(Zg),SimpleList_assign=function(){return(SimpleList_assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},SimpleList_rest=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},Xg=Object(Br.a)({tertiary:{float:"right",opacity:.541176}},{name:"RaSimpleList"}),$g=function SimpleList(e){var t=e.className,r=(e.classes,e.hasBulkActions,e.leftAvatar),n=e.leftIcon,o=e.linkType,i=void 0===o?"edit":o,c=e.primaryText,l=e.rightAvatar,s=e.rightIcon,u=e.secondaryText,d=e.tertiaryText,p=e.rowStyle,f=SimpleList_rest(e,["className","classes","hasBulkActions","leftAvatar","leftIcon","linkType","primaryText","rightAvatar","rightIcon","secondaryText","tertiaryText","rowStyle"]),b=ec(e),m=b.basePath,h=b.data,y=b.ids,g=b.loaded,O=b.total,v=Xg(e);if(!1===g)return a.createElement(Df,{classes:v,className:t,hasLeftAvatarOrIcon:!!n||!!r,hasRightAvatarOrIcon:!!s||!!l,hasSecondaryText:!!u,hasTertiaryText:!!d});var j=function renderAvatar(e,t){var r=t(h[e],e);return"string"===typeof r&&(r.startsWith("http")||r.startsWith("data:"))?a.createElement(on.a,{src:r}):a.createElement(on.a,null,r)};return O>0&&a.createElement(Up.a,SimpleList_assign({className:t},yi(f)),y.map((function(e,t){return a.createElement(tO,{linkType:i,basePath:m,id:e,key:e,record:h[e]},a.createElement(zp.a,{button:!!i,style:p?p(h[e],t):void 0},n&&a.createElement(Bn.a,null,n(h[e],e)),r&&a.createElement(Rf.a,null,j(e,r)),a.createElement(If.a,{primary:a.createElement("div",null,c(h[e],e),d&&a.createElement("span",{className:v.tertiary},d(h[e],e))),secondary:u&&u(h[e],e)}),(l||s)&&a.createElement(Nf.a,null,l&&a.createElement(on.a,null,j(e,l)),s&&a.createElement(Bn.a,null,s(h[e],e)))))})))};$g.propTypes={className:wr.a.string,classes:wr.a.object,leftAvatar:wr.a.func,leftIcon:wr.a.func,linkType:wr.a.oneOfType([wr.a.string,wr.a.bool,wr.a.func]),primaryText:wr.a.func,rightAvatar:wr.a.func,rightIcon:wr.a.func,secondaryText:wr.a.func,tertiaryText:wr.a.func,rowStyle:wr.a.func};var eO=Object(Br.a)({link:{textDecoration:"none",color:"inherit"}},{name:"RaLinkOrNot"}),tO=function LinkOrNot(e){var t=e.classes,r=e.linkType,n=e.basePath,o=e.id,i=e.children,c=e.record,l=eO({classes:t}),s="function"===typeof r?r(c,o):r;return"edit"===s||!0===s?a.createElement(Dn.a,{to:linkToRecord(n,o),className:l.link},i):"show"===s?a.createElement(Dn.a,{to:linkToRecord(n,o)+"/show",className:l.link},i):a.createElement("span",null,i)},rO=$g,nO=function HotContacts(){var e=nn().identity,t=Kp("contacts",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{status:"hot",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),r=t.data,a=t.ids,o=t.total,i=t.loaded;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rp.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(n.jsx)(rp.a,{ml:2,mr:2,display:"flex",children:Object(n.jsx)(Kg.a,{color:"disabled",fontSize:"large"})}),Object(n.jsx)(xu.a,{underline:"none",variant:"h5",color:"textSecondary",component:Dn.a,to:"/contacts",children:"Hot contacts"})]}),Object(n.jsx)(_a.a,{children:Object(n.jsx)(rO,{basePath:"/contacts",linkType:"show",ids:a,data:r,total:o,loaded:i,primaryText:function primaryText(e){return"".concat(e.first_name," ").concat(e.last_name)},secondaryText:function secondaryText(e){return Object(Jf.a)(new Date(e.last_seen),new Date,{addSuffix:!0})},leftAvatar:function leftAvatar(e){return Object(n.jsx)(Pp,{record:e})}})})]})},aO=r(464),oO=r.n(aO),iO=Object(Br.a)((function(e){return{note:{marginBottom:e.spacing(2)},noteText:{backgroundColor:"#edf3f0",padding:e.spacing(1),borderRadius:10},noteTextText:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}})),cO=function LatestNotes(){var e=iO(),t=nn().identity,r=Kp("contactNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),a=r.data,o=r.ids,i=r.loaded,c=Kp("dealNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),s=c.data,u=c.ids,d=c.loaded;if(!i||!d)return null;if(!o||!a||!u||!s)return null;var p=[].concat(o.map((function(e){return Object(l.a)(Object(l.a)({},a[e]),{},{type:"contactNote"})})),u.map((function(e){return Object(l.a)(Object(l.a)({},s[e]),{},{type:"dealNote"})}))).sort((function(e,t){return new Date(t.date).valueOf()-new Date(e.date).valueOf()})).slice(0,5);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rp.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(n.jsx)(rp.a,{ml:2,mr:2,display:"flex",children:Object(n.jsx)(oO.a,{color:"disabled",fontSize:"large"})}),Object(n.jsx)(Lr.a,{variant:"h5",color:"textSecondary",children:"My Latest Notes"})]}),Object(n.jsx)(_a.a,{children:Object(n.jsx)(Ac.a,{children:p.map((function(t){return Object(n.jsxs)("div",{id:"".concat(t.type,"_").concat(t.id),className:e.note,children:[Object(n.jsxs)(Lr.a,{color:"textSecondary",gutterBottom:!0,children:["on"," ","dealNote"===t.type?Object(n.jsx)(lO,{note:t}):Object(n.jsx)(sO,{note:t}),", added"," ",Object(Jf.a)(new Date(t.date),new Date,{addSuffix:!0})]}),Object(n.jsx)("div",{className:e.noteText,children:Object(n.jsx)(Lr.a,{className:e.noteTextText,children:t.text})})]},"".concat(t.type,"_").concat(t.id))}))})})]})},lO=function Deal(e){var t=e.note;return Object(n.jsxs)(n.Fragment,{children:["Deal"," ",Object(n.jsx)(Ku,{record:t,source:"deal_id",reference:"deals",basePath:"/deals",link:"show",children:Object(n.jsx)(gd,{source:"name",variant:"body1"})})]})},sO=function Contact(e){var t=e.note;return Object(n.jsxs)(n.Fragment,{children:["Contact"," ",Object(n.jsx)(Ku,{record:t,source:"contact_id",reference:"contacts",basePath:"/contacts",link:"show",children:Object(n.jsx)(Vp,{variant:"body1",render:function render(e){return e?"".concat(e.first_name," ").concat(e.last_name):""}})})]})},uO=function DealsPipeline(){var e=nn().identity,t=Kp("deals",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{stage_neq:"lost",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),r=t.data,o=t.ids,i=t.total,c=t.loaded,l=Object(a.useState)(o),s=Object(qp.a)(l,2),u=s[0],d=s[1];return Object(a.useEffect)((function(){var e=o.map((function(e){return r[e]})),t=[];zy.filter((function(e){return"won"!==e})).forEach((function(r){return e.filter((function(e){return e.stage===r})).forEach((function(e){return t.push(e.id)}))})),d(t)}),[o,r]),Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rp.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(n.jsx)(rp.a,{ml:2,mr:2,display:"flex",children:Object(n.jsx)(Hh.a,{color:"disabled",fontSize:"large"})}),Object(n.jsx)(xu.a,{underline:"none",variant:"h5",color:"textSecondary",component:Dn.a,to:"/deals",children:"Deals Pipeline"})]}),Object(n.jsx)(_a.a,{children:Object(n.jsx)(rO,{basePath:"/deals",linkType:"show",ids:u,data:r,total:i,loaded:c,primaryText:function primaryText(e){return e.name},secondaryText:function secondaryText(e){return"".concat(e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})," , ").concat(qy[e.stage])},leftAvatar:function leftAvatar(e){return Object(n.jsx)(Ku,{source:"company_id",record:e,reference:"companies",resource:"deals",basePath:"/deals",link:!1,children:Object(n.jsx)(Kh,{size:"small"})})}})})]})},dO=function Dashboard(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)(rp.a,{display:"flex",mt:"2em",children:[Object(n.jsx)(rp.a,{flex:"3",mr:"1em",children:Object(n.jsx)(Yg,{})}),Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(qg,{})})]}),Object(n.jsxs)(rp.a,{display:"flex",mt:"2em",children:[Object(n.jsx)(rp.a,{flex:"1",mr:"1em",children:Object(n.jsx)(cO,{})}),Object(n.jsxs)(rp.a,{flex:"1",display:"flex",children:[Object(n.jsx)(rp.a,{flex:"1",mr:"1em",children:Object(n.jsx)(nO,{})}),Object(n.jsx)(rp.a,{flex:"1",children:Object(n.jsx)(uO,{})})]})]})]})},pO=Object(ya.a)(s),fO=function App(){return Object(n.jsxs)(no,{dataProvider:Qd,authProvider:Yd,layout:lp,dashboard:dO,theme:pO,children:[Object(n.jsx)(so,Object(l.a)({name:"deals"},Bg)),Object(n.jsx)(so,Object(l.a)({name:"contacts"},qh)),Object(n.jsx)(so,Object(l.a)({name:"companies"},ig)),Object(n.jsx)(so,{name:"contactNotes"}),Object(n.jsx)(so,{name:"dealNotes"}),Object(n.jsx)(so,{name:"tasks",list:xd}),Object(n.jsx)(so,{name:"sales",list:xd}),Object(n.jsx)(so,{name:"tags",list:xd})]})},bO=function reportWebVitals(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,982)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;r(e),n(e),a(e),o(e),i(e)}))};c.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(fO,{})}),document.getElementById("root")),bO()}},[[824,1,2]]]);
//# sourceMappingURL=main.28252a0b.chunk.js.map