(this["webpackJsonpreact-admin-crm"]=this["webpackJsonpreact-admin-crm"]||[]).push([[0],{939:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(34),s=a.n(r),i=a(17),o=a(309),l=a(1097),d=a(1096),j=a(1098),b=a(573),u=a(490),x=a(84),O=a(21),m=[{id:0,name:"football-fan",color:"#eddcd2"},{id:1,name:"holiday-card",color:"#fff1e6"},{id:2,name:"influencer",color:"#fde2e4"},{id:3,name:"manager",color:"#fad2e1"},{id:4,name:"musician",color:"#c5dedd"},{id:5,name:"vip",color:"#dbe7e4"}],h=a(240),p=a.n(h),f=function(e){return p.a.random.number(99)<e},A=function(e,t){var a=e instanceof Date?e.getTime():Date.now()-15768e7,n=(t instanceof Date?t.getTime():Date.now())-a,c=p.a.random.number({max:n}),r=Math.sqrt(c/n)*n;return new Date(a+r)},g=["Communication Services","Consumer Discretionary","Consumer Staples","Energy","Financials","Health Care","Industrials","Information Technology","Materials","Real Estate","Utilities"],y=[1,10,50,250,500],v=/\W+/,w=["male","female"],S=["cold","cold","cold","warm","warm","hot","in-contract"],C={1:1,10:4,50:12,250:25,500:50},k=["Email","Call","Call","Call","Call","Meeting","Reminder"],_=["cold","cold","cold","warm","warm","hot","in-contract"],D=["Email","Email","Email","Email","Email","Email","Call","Call","Call","Call","Call","Call","Call","Call","Call","Call","Call","Demo","Lunch","Meeting","Follow-up","Follow-up","Thank you","Ship","None"],I=a(1113),N=["Other","Copywriting","Print project","UI Design","Website design"],B=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],E=["Email","Call","Call","Call","Call","Meeting","Reminder"],P=Object(u.a)(function(){var e={};return e.sales=function(e){var t=Array.from(Array(10).keys()).map((function(e){var t=O.name.firstName(),a=O.name.lastName();return{id:e+1,first_name:t,last_name:a,email:O.internet.email(t,a)}}));return[{id:0,first_name:"Jane",last_name:"Doe",email:"janedoe@atomic.dev"}].concat(Object(x.a)(t))}(),e.tags=[].concat(m),e.companies=function(e){return Array.from(Array(55).keys()).map((function(t){var a=O.company.companyName();return{id:t,name:a,logo:"/logos/".concat(t,".png"),sector:O.random.arrayElement(g),size:O.random.arrayElement(y),linkedIn:"https://www.linkedin.com/company/".concat(a.toLowerCase().replace(v,"_")),website:O.internet.url(),phone_number:O.phone.phoneNumber(),address:O.address.streetAddress(),zipcode:O.address.zipCode(),city:O.address.city(),stateAbbr:O.address.stateAbbr(),nb_contacts:0,nb_deals:0,sales_id:0===O.random.number(2)?0:O.random.arrayElement(e.sales).id,created_at:A().toISOString()}}))}(e),e.contacts=function(e){var t=0;return Array.from(Array(500).keys()).map((function(a){var n,c=f(25)&&t<223,r=O.random.arrayElement(w),s=O.name.firstName(r),i=O.name.lastName(),o=O.internet.email(s,i),l=c?"https://marmelab.com/posters/avatar-"+(223-t)+".jpeg":void 0,d=O.company.bsAdjective();c&&t++;do{n=O.random.arrayElement(e.companies)}while(n.nb_contacts>=C[n.size]);n.nb_contacts++;var j=A(n.created_at).toISOString(),b=j;return{id:a,first_name:s,last_name:i,gender:r,title:d.charAt(0).toUpperCase()+d.substr(1),company_id:n.id,email:o,phone_number1:O.phone.phoneNumber(),phone_number2:O.phone.phoneNumber(),background:O.lorem.sentence(),acquisition:O.random.arrayElement(["inbound","outbound"]),avatar:l,first_seen:j,last_seen:b,has_newsletter:f(30),status:O.random.arrayElement(S),tags:O.random.arrayElements(e.tags,O.random.arrayElement([0,0,0,1,1,2])).map((function(e){return e.id})),sales_id:n.sales_id,nb_notes:0}}))}(e),e.contactNotes=function(e){return Array.from(Array(1200).keys()).map((function(t){var a=O.random.arrayElement(e.contacts),n=A(new Date(a.first_seen)).toISOString();return a.nb_notes++,a.last_seen=n>a.last_seen?n:a.last_seen,{id:t,contact_id:a.id,type:O.random.arrayElement(k),text:O.lorem.paragraphs(O.random.number({min:1,max:4})),date:n,sales_id:a.sales_id,status:O.random.arrayElement(_)}}))}(e),e.deals=function(e){var t=Array.from(Array(50).keys()).map((function(t){var a=O.random.arrayElement(e.companies);a.nb_deals++;var n=O.random.arrayElements(e.contacts.filter((function(e){return e.company_id===a.id})),O.random.number({min:1,max:3})),c=O.lorem.words(),r=A(new Date(a.created_at)).toISOString();return{id:t,name:c[0].toUpperCase()+c.slice(1),company_id:a.id,contact_ids:n.map((function(e){return e.id})),type:O.random.arrayElement(N),stage:O.random.arrayElement(B),description:O.lorem.paragraphs(O.random.number({min:1,max:4})),amount:100*O.random.number(1e3),created_at:r,updated_at:A(new Date(r)).toISOString(),start_at:A(new Date,Object(I.a)(new Date,{months:6})).toISOString(),sales_id:a.sales_id,index:0,nb_notes:0}}));return B.forEach((function(e){t.filter((function(t){return t.stage===e})).forEach((function(e,a){t[e.id].index=a}))})),t}(e),e.dealNotes=function(e){return Array.from(Array(300).keys()).map((function(t){var a=O.random.arrayElement(e.deals);return a.nb_notes++,{id:t,deal_id:a.id,type:O.random.arrayElement(E),text:O.lorem.paragraphs(O.random.number({min:1,max:4})),date:A(new Date(e.companies[a.company_id].created_at)).toISOString(),sales_id:a.sales_id}}))}(e),e.tasks=function(e){return Array.from(Array(400).keys()).map((function(t){var a=O.random.arrayElement(e.contacts);return{id:t,contact_id:a.id,type:O.random.arrayElement(D),text:O.lorem.sentence(),due_date:A(new Date(a.first_seen)),sales_id:a.sales_id}}))}(e),function(e){e.contactNotes.sort((function(e,t){return new Date(e.date).valueOf()-new Date(t.date).valueOf()})).forEach((function(t){e.contacts[t.contact_id].status=t.status}))}(e),e}(),!0),T=new Proxy(P,{get:function(e,t){return function(e,a){return new Promise((function(n){return setTimeout((function(){return n(P[t](e,a))}),300)}))}}}),W={login:function(e){var t=e.username;return localStorage.setItem("username",t),Promise.resolve()},logout:function(){return localStorage.removeItem("username"),Promise.resolve()},checkError:function(){return Promise.resolve()},checkAuth:function(){return localStorage.getItem("username")?Promise.resolve():Promise.reject()},getPermissions:function(){return Promise.reject("Unknown method")},getIdentity:function(){return Promise.resolve({id:0,fullName:"Jane Doe",avatar:"data:image/jpeg;base64,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"})}},M=a(62),F=a(76),L=a(77),R=a(78),z=a(36),H=a(1046),J=a(1047),U=a(1048),V=a(501),G=a(313),Q=a(69),Z=a(1041),q=a(942),K=a(598),Y=a(59),X=a(1103),$=a(1042),ee=a(27),te=a(577),ae=a(367),ne=a(1045),ce=a(2),re=Object(Q.a)({root:{flexGrow:1},logo:{width:50,height:43.54}}),se=function(){var e,t=re(),a=Object(z.i)(["/contacts","/companies","/deals"]),n=null!==(e=null===a||void 0===a?void 0:a.path)&&void 0!==e?e:"/";return Object(ce.jsx)("nav",{className:t.root,children:Object(ce.jsx)(Z.a,{position:"static",color:"primary",children:Object(ce.jsx)(q.a,{variant:"dense",children:Object(ce.jsxs)(K.a,{flex:1,display:"flex",justifyContent:"space-between",children:[Object(ce.jsxs)(K.a,{display:"flex",alignItems:"center",children:[Object(ce.jsx)("img",{className:t.logo,src:"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg",alt:"Bosch Logo"}),Object(ce.jsx)(Y.a,{component:"span",variant:"h5",children:"Atomic CRM"})]}),Object(ce.jsx)(K.a,{children:Object(ce.jsxs)(X.a,{value:n,"aria-label":"Navigation Tabs",children:[Object(ce.jsx)($.a,{label:"Dashboard",component:ee.a,to:"/",value:"/"}),Object(ce.jsx)($.a,{label:"Contacts",component:ee.a,to:"/contacts",value:"/contacts"}),Object(ce.jsx)($.a,{label:"Companies",component:ee.a,to:"/companies",value:"/companies"}),Object(ce.jsx)($.a,{label:"Deals",component:ee.a,to:"/deals",value:"/deals"})]})}),Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(te.a,{}),Object(ce.jsx)(ae.a,{logout:Object(ce.jsx)(ne.a,{button:!0})})]})]})})})})},ie=function(e){Object(L.a)(a,e);var t=Object(R.a)(a);function a(e){var n;return Object(M.a)(this,a),(n=t.call(this,e)).state={hasError:!1,errorMessage:void 0,errorInfo:void 0},e.history.listen((function(){n.state.hasError&&n.setState({hasError:!1})})),n}return Object(F.a)(a,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorMessage:e,errorInfo:t})}},{key:"render",value:function(){var e=this.props,t=e.theme,a=e.title,n=e.children,c=this.state,r=c.hasError,s=c.errorMessage,i=c.errorInfo;return Object(ce.jsxs)(H.a,{theme:Object(b.a)(t),children:[Object(ce.jsx)(J.a,{}),Object(ce.jsx)(se,{}),Object(ce.jsx)(U.a,{children:Object(ce.jsx)("main",{id:"main-content",children:r?Object(ce.jsx)(V.a,{error:s,errorInfo:i,title:a}):n})}),Object(ce.jsx)(G.a,{})]})}}]),a}(n.Component),oe=Object(z.j)(ie),le=a(1112),de=a(1064),je=a(580),be=a(241),ue=a(1109),xe=a(1065),Oe=a(1066),me=a(246),he=function(e){var t=e.record;return Object(ce.jsxs)(me.a,{src:t.avatar,children:[t.first_name.charAt(0),t.last_name.charAt(0)]})},pe=a(1055),fe=a(1056),Ae=a(511),ge=a(512),ye=a(1058),ve=a(589),we=a(1057),Se=a(390),Ce=a(322),ke=a(24),_e=a(505),De=a(990),Ie=a(1049),Ne=a(948),Be=a(991),Ee=a(387),Pe=a(321),Te=a(1051),We=a(1052),Me=a(1053),Fe=a(586),Le=a(1054),Re=a(389),ze=a(508),He=a.n(ze),Je=a(285),Ue=a.n(Je),Ve=["#eddcd2","#fff1e6","#fde2e4","#fad2e1","#c5dedd","#dbe7e4","#f0efeb","#d6e2e9","#bcd4e6","#99c1de"],Ge=function(e){var t=e.record,a=Object(n.useState)(!1),c=Object(ke.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),o=Object(ke.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(Ve[0]),b=Object(ke.a)(j,2),u=b[0],O=b[1],m=Object(n.useState)(null),h=Object(ke.a)(m,2),p=h[0],f=h[1],A=Object(n.useState)(0),g=Object(ke.a)(A,2),y=g[0],v=g[1],w=Object(n.useState)(!1),S=Object(ke.a)(w,2),C=S[0],k=S[1],_=Object(_e.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"},{},{version:y}),D=_.data,I=_.ids,N=Object(De.a)("tags",t.tags,{enabled:t.tags&&t.tags.length>0}),B=N.data,E=N.loaded,P=Object(Ie.a)(),T=Object(ke.a)(P,1)[0],W=Object(Ne.a)(),M=Object(ke.a)(W,1)[0],F=I&&I.filter((function(e){return!t.tags.includes(e)})),L=function(e){var a=[].concat(Object(x.a)(t.tags),[e]);T("contacts",t.id,{tags:a},t),f(null)},R=function(){s(!0),f(null),k(!1)};return E&&B?Object(ce.jsxs)(ce.Fragment,{children:[B.map((function(e){return Object(ce.jsx)(K.a,{mt:1,mb:1,children:Object(ce.jsx)(Be.a,{size:"small",variant:"outlined",onDelete:function(){return function(e){var a=t.tags.filter((function(t){return t!==e}));T("contacts",t.id,{tags:a},t)}(e.id)},label:e.name,style:{backgroundColor:e.color,border:0}})},e.id)})),Object(ce.jsx)(K.a,{mt:1,children:Object(ce.jsx)(Be.a,{icon:Object(ce.jsx)(He.a,{}),size:"small",variant:"outlined",onClick:function(e){f(e.currentTarget)},label:"Add tag",color:"primary"})}),Object(ce.jsxs)(Ee.a,{open:Boolean(p),onClose:function(){f(null)},anchorEl:p,children:[null===F||void 0===F?void 0:F.map((function(e){return Object(ce.jsx)(Pe.a,{onClick:function(){return L(e)},children:Object(ce.jsx)(Be.a,{size:"small",variant:"outlined",label:D&&D[e].name,style:{backgroundColor:D&&D[e].color,border:0},onClick:function(){return L(e)}})},e)})),Object(ce.jsx)(Pe.a,{onClick:R,children:Object(ce.jsx)(Be.a,{icon:Object(ce.jsx)(Ue.a,{}),size:"small",variant:"outlined",onClick:R,color:"primary",label:"Create new tag"})})]}),Object(ce.jsx)(Te.a,{open:r,onClose:function(){return s(!1)},"aria-labelledby":"form-dialog-title",children:Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),k(!0),M("tags",{name:l,color:u},{onSuccess:function(e){var a=e.data;T("contacts",t.id,{tags:[].concat(Object(x.a)(t.tags),[a.id])},t,{onSuccess:function(){d(""),O(Ve[0]),s(!1),v((function(e){return e+1}))}})}})},children:[Object(ce.jsx)(We.a,{id:"form-dialog-title",children:"Create a new tag"}),Object(ce.jsxs)(Me.a,{children:[Object(ce.jsx)(Fe.a,{autoFocus:!0,label:"Tag name",fullWidth:!0,value:l,onChange:function(e){d(e.target.value)}}),Object(ce.jsx)(K.a,{display:"flex",flexWrap:"wrap",width:230,mt:2,children:Ve.map((function(e){return Object(ce.jsx)(Ze,{color:e,selected:e===u,handleClick:function(){O(e)}},e)}))})]}),Object(ce.jsxs)(Le.a,{children:[Object(ce.jsx)(Re.a,{onClick:function(){return s(!1)},color:"primary",children:"Cancel"}),Object(ce.jsx)(Re.a,{type:"submit",color:"primary",disabled:C,children:"Add tag"})]})]})})]}):null},Qe=Object(Q.a)({root:{width:30,height:30,borderRadius:15,display:"inline-block",margin:8}}),Ze=function(e){var t=e.color,a=e.handleClick,n=e.selected,c=Qe();return Object(ce.jsx)("button",{type:"button",className:c.root,style:{backgroundColor:t,border:n?"2px solid grey":"none"},onClick:a})},qe=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return Object(ce.jsxs)(K.a,{ml:4,width:250,minWidth:250,children:[Object(ce.jsx)(K.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ce.jsx)(pe.a,{basePath:"/contacts",record:t,label:"Edit Contact"}):Object(ce.jsx)(fe.a,{basePath:"/contacts",record:t,label:"Show Contact"})}),Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Personal info"}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(K.a,{mt:2,children:Object(ce.jsx)(Ae.a,{source:"email"})}),Object(ce.jsxs)(K.a,{mt:1,children:[Object(ce.jsx)(be.a,{source:"phone_number1"})," ",Object(ce.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:"Work"})]}),Object(ce.jsxs)(K.a,{mb:1,children:[Object(ce.jsx)(be.a,{source:"phone_number2"})," ",Object(ce.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:"Home"})]}),Object(ce.jsx)(K.a,{mb:3,children:Object(ce.jsx)(Y.a,{variant:"body2",children:"male"===t.gender?"He/Him":"She/Her"})}),Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Background"}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(K.a,{mt:2,children:t&&t.background}),Object(ce.jsxs)(K.a,{mt:1,mb:3,children:[Object(ce.jsx)(Y.a,{component:"span",variant:"body2",color:"textSecondary",children:"Added on"})," ",Object(ce.jsx)(ge.a,{source:"first_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Y.a,{component:"span",variant:"body2",color:"textSecondary",children:"Last seen on"})," ",Object(ce.jsx)(ge.a,{source:"last_seen",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Y.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ce.jsx)(je.a,{resource:"contacts",source:"sales_id",reference:"sales",children:Object(ce.jsx)(ye.a,{source:"last_name",render:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]}),Object(ce.jsxs)(K.a,{mb:3,children:[Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Tags"}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(Ge,{record:t})]}),Object(ce.jsx)(ue.a,{resource:"contacts",target:"contact_id",reference:"tasks",children:Object(ce.jsx)(Ke,{})})]})},Ke=function(){var e=Object(ve.a)(),t=e.data,a=e.ids;return e.loading||0===a.length?null:Object(ce.jsxs)(K.a,{children:[Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Tasks"}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(Se.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsx)(Ce.a,{disableGutters:!0,children:Object(ce.jsxs)(K.a,{children:[Object(ce.jsx)(Y.a,{variant:"body2",children:a.text}),Object(ce.jsxs)(Y.a,{variant:"body2",color:"textSecondary",children:["due ",Object(ce.jsx)(ge.a,{source:"due_date",record:a})]})]})},e)}))})]})},Ye=Object(Q.a)({image:{objectFit:"contain"}}),Xe={medium:42,small:20},$e=function(e){var t=e.record,a=(e.source,e.size),n=void 0===a?"medium":a,c=Ye();return t?Object(ce.jsx)("img",{src:"/react-admin-crm"+t.logo,alt:t.name,title:t.name,width:Xe[n],height:Xe[n],className:c.image}):null},et=a(98),tt=a(88),at=a(208),nt=a(1043),ct=a(228),rt=a(946),st=a(5),it=function(e){return"cold"===e?"#7dbde8":"warm"===e?"#e8cb7d":"hot"===e?"#e88b7d":"in-contract"===e?"#a4e87d":"#000"},ot=function(e){var t=e.status;return Object(ce.jsx)(K.a,{width:10,height:10,display:"inline-block",borderRadius:5,bgcolor:it(t),component:"span"})},lt=Object(Q.a)({root:{width:150}}),dt=function(e){var t=e.status,a=e.setStatus,n=e.className,c=void 0===n?"":n,r=lt();return Object(ce.jsxs)(Fe.a,{select:!0,value:t,onChange:function(e){a(e.target.value)},variant:"filled",label:!1,margin:"none",size:"small",className:Object(st.a)(c,r.root),children:[Object(ce.jsxs)(Pe.a,{value:"cold",children:["Cold ",Object(ce.jsx)(ot,{status:"cold"})]}),Object(ce.jsxs)(Pe.a,{value:"warm",children:["Warm ",Object(ce.jsx)(ot,{status:"warm"})]}),Object(ce.jsxs)(Pe.a,{value:"hot",children:["Hot ",Object(ce.jsx)(ot,{status:"hot"})]}),Object(ce.jsxs)(Pe.a,{value:"in-contract",children:["In Contract ",Object(ce.jsx)(ot,{status:"in-contract"})]})]})},jt=Object(Q.a)((function(e){return{root:{marginTop:e.spacing(4),marginBottom:e.spacing(1)},toolbar:{display:"flex",justifyContent:"space-between",marginTop:e.spacing(1)},small:{marginRight:"1em","& .MuiFilledInput-input":{paddingTop:10}}}})),bt=function(e){var t=e.showStatus,a=e.reference,c=jt(),r=Object(tt.b)(),s=Object(at.a)(),i=Object(n.useState)(""),o=Object(ke.a)(i,2),l=o[0],d=o[1],j=Object(n.useState)(r&&r.status),b=Object(ke.a)(j,2),u=b[0],x=b[1],O=Object(n.useState)((new Date).toISOString().slice(0,-1)),m=Object(ke.a)(O,2),h=m[0],p=m[1],f=Object(Ne.a)(),A=Object(ke.a)(f,2),g=A[0],y=A[1].loading,v=Object(Ie.a)(),w=Object(ke.a)(v,1)[0],S=Object(nt.a)(),C=Object(ct.a)(),k=Object(rt.a)().identity;if(!r||!k)return null;return Object(ce.jsx)("div",{className:c.root,children:Object(ce.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault();var c=(n={},Object(et.a)(n,ut[a],r.id),Object(et.a)(n,"sales_id",k.id),Object(et.a)(n,"date",h),Object(et.a)(n,"text",l),n);return t&&(c.status=u),w(a,r&&r.id,{last_seen:h,status:u,nb_notes:r.nb_notes+1},r),g(s,c,{onSuccess:function(){d(""),C("Note added successfully"),S()}}),!1},children:[Object(ce.jsx)(Fe.a,{label:"Add a note",variant:"filled",size:"small",fullWidth:!0,multiline:!0,value:l,onChange:function(e){return d(e.target.value)},rows:3}),Object(ce.jsxs)("div",{className:c.toolbar,children:[Object(ce.jsx)("span",{children:l?Object(ce.jsxs)(ce.Fragment,{children:[t&&Object(ce.jsx)(dt,{status:u,setStatus:x,className:c.small}),Object(ce.jsx)(Fe.a,{type:"datetime-local",variant:"filled",size:"small",value:h,onChange:function(e){p(e.target.value)},className:c.small})]}):null}),Object(ce.jsx)(Re.a,{type:"submit",variant:"contained",color:"primary",disabled:!l||y,children:"Add this note"})]})]})})},ut={contacts:"contact_id",deals:"deal_id"},xt=a(1059),Ot=a(951),mt=a(583),ht=a(179),pt=a(117),ft=a.n(pt),At=Object(Q.a)((function(e){return{root:{marginBottom:e.spacing(2)},metadata:{marginBottom:e.spacing(1),color:e.palette.text.secondary},textarea:{paddingTop:16,paddingLeft:14,paddingRight:60,paddingBottom:14,lineHeight:1.3},buttons:{display:"flex",justifyContent:"flex-end",marginTop:e.spacing(1)},cancel:{marginRight:e.spacing(1)},content:{backgroundColor:"#edf3f0",padding:"0 1em",borderRadius:10,display:"flex",alignItems:"stretch",marginBottom:e.spacing(1)},text:{flex:1},paragraph:{fontFamily:e.typography.fontFamily,fontSize:e.typography.body1.fontSize,lineHeight:1.3,marginBottom:e.spacing(2.4)},toolbar:{marginLeft:e.spacing(2),visibility:"hidden",display:"flex",flexDirection:"column",justifyContent:"space-around"}}})),gt=function(e){var t=e.showStatus,a=e.note,c=(e.isLast,e.reference),r=Object(n.useState)(!1),s=Object(ke.a)(r,2),i=s[0],o=s[1],l=Object(n.useState)(!1),d=Object(ke.a)(l,2),j=d[0],b=d[1],u=Object(n.useState)(a.text),x=Object(ke.a)(u,2),O=x[0],m=x[1],h=Object(at.a)(),p=Object(tt.b)(),f=Object(ct.a)(),A=At(),g=Object(Ie.a)(),y=Object(ke.a)(g,2),v=y[0],w=y[1].loading,S=Object(xt.a)(h,a.id,a,{mutationMode:"undoable",onSuccess:function(){f("Note deleted",void 0,void 0,!0),v(c,p.id,{nb_notes:p.nb_notes-1},p)}}),C=Object(ke.a)(S,1)[0];return Object(ce.jsxs)("div",{className:A.root,onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)},children:[Object(ce.jsxs)("div",{className:A.metadata,children:[Object(ce.jsx)(je.a,{record:a,resource:"contactNotes",source:"sales_id",reference:"sales",basePath:"/contactNotes",children:Object(ce.jsx)(be.a,{source:"first_name",variant:"body1"})})," ",Object(ce.jsxs)(Y.a,{component:"span",variant:"body1",children:["added a note on"," "]}),Object(ce.jsx)(ge.a,{source:"date",record:a,variant:"body1",showTime:!0,locales:"en",options:{dateStyle:"full",timeStyle:"short"}})," ",t&&Object(ce.jsx)(ot,{status:a.status})]}),j?Object(ce.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(h,a.id,{text:O},a,{onSuccess:function(){b(!1),m(a.text),o(!1)}})},children:[Object(ce.jsx)(Ot.a,{value:O,onChange:function(e){m(e.target.value)},fullWidth:!0,multiline:!0,className:A.textarea,autoFocus:!0}),Object(ce.jsxs)("div",{className:A.buttons,children:[Object(ce.jsx)(Re.a,{className:A.cancel,onClick:function(){b(!1),m(a.text),o(!1)},color:"primary",children:"Cancel"}),Object(ce.jsx)(Re.a,{type:"submit",color:"primary",variant:"contained",disabled:w,children:"Update Note"})]})]}):Object(ce.jsxs)("div",{className:A.content,children:[Object(ce.jsx)("div",{className:A.text,children:a.text.split("\n").map((function(e,t){return Object(ce.jsx)("p",{className:A.paragraph,children:e},t)}))}),Object(ce.jsxs)("div",{className:A.toolbar,style:{visibility:i?"visible":"hidden"},children:[Object(ce.jsx)(mt.a,{title:"Edit note",children:Object(ce.jsx)(ht.a,{size:"small",onClick:function(){b(!0)},children:Object(ce.jsx)(Ue.a,{})})}),Object(ce.jsx)(mt.a,{title:"Delete note",children:Object(ce.jsx)(ht.a,{size:"small",onClick:C,children:Object(ce.jsx)(ft.a,{})})})]})]})]})},yt=Object(Q.a)({root:{marginTop:"0.5em"}}),vt=function(e){var t=e.showStatus,a=e.reference,n=yt(),c=Object(ve.a)(),r=c.data,s=c.ids;return c.loaded?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(bt,{showStatus:t,reference:a}),Object(ce.jsx)("div",{className:n.root,children:s.map((function(e,n){return Object(ce.jsx)(gt,{note:r[e],isLast:n===s.length-1,showStatus:t,reference:a},n)}))})]}):null},wt=function(){var e=Object(de.a)(),t=e.record;return e.loaded&&t?Object(ce.jsxs)(K.a,{mt:2,display:"flex",children:[Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(xe.a,{children:Object(ce.jsxs)(Oe.a,{children:[Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(he,{record:t}),Object(ce.jsxs)(K.a,{ml:2,flex:"1",children:[Object(ce.jsxs)(Y.a,{variant:"h5",children:[t.first_name," ",t.last_name]}),Object(ce.jsxs)(Y.a,{variant:"body2",children:[t.title," at"," ",Object(ce.jsx)(je.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(be.a,{source:"name"})})]})]}),Object(ce.jsx)(K.a,{children:Object(ce.jsx)(je.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)($e,{})})})]}),Object(ce.jsx)(ue.a,{target:"contact_id",reference:"contactNotes",sort:{field:"date",order:"DESC"},children:Object(ce.jsx)(vt,{showStatus:!0,reference:"contacts"})})]})})}),Object(ce.jsx)(qe,{record:t})]}):null},St=a(528),Ct=a(197),kt=a(1114),_t=a(1115),Dt=a(1116),It=a(1074),Nt=a(575),Bt=a(391),Et=a(1107),Pt=a(592),Tt=a(392),Wt=a(393),Mt=a(1100),Ft=a(314),Lt=a(517),Rt=a(578),zt=a(518),Ht=function(e){var t=e.record,a=Object(Ft.a)(e,["record"]);return t?Object(ce.jsx)(Lt.a,Object(i.a)(Object(i.a)({record:t},a),{},{style:{backgroundColor:t.color,border:0},component:"span"})):null},Jt=Object(Q.a)({root:{display:"inline-block"}}),Ut=function(e){var t=e.record,a=Jt();return t?Object(ce.jsx)(Rt.a,{record:t,basePath:"/contacts",resource:"contacts",source:"tags",reference:"tags",className:a.root,children:Object(ce.jsx)(zt.a,{linkType:!1,component:"span",children:Object(ce.jsx)(Ht,{source:"name",variant:"outlined",size:"small"})})}):null},Vt=a(1067),Gt=a(1068),Qt=a(1069),Zt=a(523),qt=a.n(Zt),Kt=a(526),Yt=a.n(Kt),Xt=a(527),$t=a.n(Xt),ea=a(295),ta=a.n(ea),aa=a(1070),na=a(1071),ca=a(1072),ra=a(1073),sa=function(){var e=Object(rt.a)().identity,t=Object(_e.a)("tags",{page:1,perPage:10},{field:"name",order:"ASC"}),a=t.data,n=t.ids;return Object(ce.jsxs)(K.a,{width:"15em",order:"-1",marginRight:"1em",children:[Object(ce.jsx)(Vt.a,{}),Object(ce.jsxs)(Gt.a,{label:"Last seen",icon:Object(ce.jsx)(qt.a,{}),children:[Object(ce.jsx)(Qt.a,{label:"Today",value:{last_seen_gte:Object(aa.a)().toISOString(),last_seen_lte:void 0}}),Object(ce.jsx)(Qt.a,{label:"This week",value:{last_seen_gte:Object(na.a)(new Date).toISOString(),last_seen_lte:void 0}}),Object(ce.jsx)(Qt.a,{label:"Before this week",value:{last_seen_gte:void 0,last_seen_lte:Object(na.a)(new Date).toISOString()}}),Object(ce.jsx)(Qt.a,{label:"Before this month",value:{last_seen_gte:void 0,last_seen_lte:Object(ca.a)(new Date).toISOString()}}),Object(ce.jsx)(Qt.a,{label:"Before last month",value:{last_seen_gte:void 0,last_seen_lte:Object(ra.a)(Object(ca.a)(new Date),1).toISOString()}})]}),Object(ce.jsxs)(Gt.a,{label:"Status",icon:Object(ce.jsx)(Yt.a,{}),children:[Object(ce.jsx)(Qt.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Cold ",Object(ce.jsx)(ot,{status:"cold"})]}),value:{status:"cold"}}),Object(ce.jsx)(Qt.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Warm ",Object(ce.jsx)(ot,{status:"warm"})]}),value:{status:"warm"}}),Object(ce.jsx)(Qt.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["Hot ",Object(ce.jsx)(ot,{status:"hot"})]}),value:{status:"hot"}}),Object(ce.jsx)(Qt.a,{label:Object(ce.jsxs)(ce.Fragment,{children:["In contract ",Object(ce.jsx)(ot,{status:"in-contract"})]}),value:{status:"in-contract"}})]}),Object(ce.jsx)(Gt.a,{label:"Tags",icon:Object(ce.jsx)($t.a,{}),children:n&&a&&n.map((function(e){var t,n;return Object(ce.jsx)(Qt.a,{label:Object(ce.jsx)(Be.a,{label:null===(t=a[e])||void 0===t?void 0:t.name,size:"small",style:{backgroundColor:null===(n=a[e])||void 0===n?void 0:n.color,border:0,cursor:"pointer"}}),value:{tags:[e]}},e)}))}),Object(ce.jsx)(Gt.a,{label:"Account manager",icon:Object(ce.jsx)(ta.a,{}),children:Object(ce.jsx)(Qt.a,{label:"Me",value:{sales_id:e&&e.id}})})]})},ia=function(e){var t=Object(ve.a)(e),a=t.data,n=t.ids,c=t.loaded,r=t.onToggleItem,s=t.selectedIds,i=Date.now();return!1===c?Object(ce.jsx)(St.a,{hasLeftAvatarOrIcon:!0,hasSecondaryText:!0}):Object(ce.jsx)(Se.a,{children:n.map((function(e){var t=a[e];return Object(ce.jsxs)(Ce.a,{button:!0,component:ee.a,to:"/contacts/".concat(e,"/show"),children:[Object(ce.jsx)(Bt.a,{children:Object(ce.jsx)(Et.a,{edge:"start",checked:s.includes(e),tabIndex:-1,disableRipple:!0,onClick:function(t){t.stopPropagation(),r(e)}})}),Object(ce.jsx)(Pt.a,{children:Object(ce.jsx)(he,{record:t})}),Object(ce.jsx)(Tt.a,{primary:"".concat(t.first_name," ").concat(t.last_name),secondary:Object(ce.jsxs)(ce.Fragment,{children:[t.title," at"," ",Object(ce.jsx)(je.a,{record:t,source:"company_id",reference:"companies",basePath:"/companies",link:!1,children:Object(ce.jsx)(be.a,{source:"name"})})," ",t.nb_notes&&"- ".concat(t.nb_notes," notes "),Object(ce.jsx)(Ut,{record:t})]})}),Object(ce.jsx)(Wt.a,{children:Object(ce.jsxs)(Y.a,{variant:"body2",color:"textSecondary",children:["last activity ",Object(Mt.a)(new Date(t.last_seen),i)," ","ago ",Object(ce.jsx)(ot,{status:t.status})]})})]},e)}))})},oa=Object(Q.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),la=function(e){var t=oa();return Object(ce.jsxs)(Ct.a,{children:[Object(ce.jsx)(kt.a,{fields:["last_name","first_name","last_seen"]}),Object(ce.jsx)(_t.a,{}),Object(ce.jsx)(Dt.a,{basePath:"/contacts",variant:"contained",label:"New Contact",className:t.createButton})]})},da=a(1077),ja=a(1101),ba=a(291),ua=a(1104),xa=a(1102),Oa=a(1110),ma=a(574),ha=a(1080),pa=function(){return Object(ce.jsx)(K.a,{width:20,component:"span"})},fa=function(){var e=Object(da.a)(),t=e.record;return e.loaded&&t?Object(ce.jsxs)(K.a,{mt:2,display:"flex",children:[Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(ja.a,{record:t,redirect:"show",render:function(e){return Object(ce.jsxs)(xe.a,{children:[Object(ce.jsx)(Oe.a,{children:Object(ce.jsx)(K.a,{children:Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(K.a,{mr:2,children:Object(ce.jsx)(he,{record:t})}),Object(ce.jsxs)(K.a,{flex:"1",mt:-1,children:[Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"first_name"}),Object(ce.jsx)(pa,{}),Object(ce.jsx)(ba.a,{source:"last_name"})]}),Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"title"}),Object(ce.jsx)(pa,{}),Object(ce.jsx)(ua.a,{source:"company_id",reference:"companies",children:Object(ce.jsx)(xa.a,{optionText:"name"})})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(K.a,{mt:2,width:430,children:Object(ce.jsx)(ba.a,{source:"email",fullWidth:!0})}),Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"phone_number1"}),Object(ce.jsx)(pa,{}),Object(ce.jsx)(ba.a,{source:"phone_number2"})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsxs)(K.a,{mt:2,width:430,children:[Object(ce.jsx)(ba.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ce.jsx)(ba.a,{source:"avatar",fullWidth:!0}),Object(ce.jsx)(Oa.a,{source:"has_newsletter"})]})]})]})})}),Object(ce.jsx)(ma.a,Object(i.a)({},e))]})}})}),Object(ce.jsx)(qe,{record:t,link:"show"})]}):null},Aa=a(1081),ga=a(1082),ya=a(521),va=function(){return Object(ce.jsx)(K.a,{width:20,component:"span"})},wa=function(){var e=Object(ga.a)(),t=e.save,a=e.record;return Object(ce.jsx)(K.a,{mt:2,display:"flex",children:Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(ja.a,{redirect:"show",record:a,save:t,render:function(e){return Object(ce.jsxs)(xe.a,{children:[Object(ce.jsx)(Oe.a,{children:Object(ce.jsx)(K.a,{children:Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(K.a,{mr:2,children:Object(ce.jsx)(me.a,{})}),Object(ce.jsxs)(K.a,{flex:"1",mt:-1,children:[Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"first_name",validate:[Object(ya.b)()]}),Object(ce.jsx)(va,{}),Object(ce.jsx)(ba.a,{source:"last_name",validate:[Object(ya.b)()]})]}),Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"title"}),Object(ce.jsx)(va,{}),Object(ce.jsx)(ua.a,{source:"company_id",reference:"companies",children:Object(ce.jsx)(xa.a,{optionText:"name"})})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(K.a,{mt:2,width:430,children:Object(ce.jsx)(ba.a,{source:"email",fullWidth:!0})}),Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(ba.a,{source:"phone_number1"}),Object(ce.jsx)(va,{}),Object(ce.jsx)(ba.a,{source:"phone_number2"})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsxs)(K.a,{mt:2,width:430,children:[Object(ce.jsx)(ba.a,{source:"background",multiline:!0,fullWidth:!0}),Object(ce.jsx)(ba.a,{source:"avatar",fullWidth:!0}),Object(ce.jsx)(Oa.a,{source:"has_newsletter"})]})]})]})})}),Object(ce.jsx)(ma.a,Object(i.a)({},e))]})}})})})},Sa={list:function(e){var t=Object(rt.a)().identity;return t?Object(ce.jsx)(It.a,Object(i.a)(Object(i.a)({},e),{},{actions:Object(ce.jsx)(la,{}),aside:Object(ce.jsx)(sa,{}),perPage:25,pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[10,25,50,100]}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},sort:{field:"last_seen",order:"DESC"},children:Object(ce.jsx)(ia,{})})):null},show:function(e){return Object(ce.jsx)(le.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(ce.jsx)(wt,{})}))},edit:function(e){return Object(ce.jsx)(ha.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(ce.jsx)(fa,{})}))},create:function(e){return Object(ce.jsx)(Aa.a,Object(i.a)(Object(i.a)({},e),{},{transform:function(e){return Object(i.a)(Object(i.a)({},e),{},{last_seen:new Date,tags:[]})},children:Object(ce.jsx)(wa,{})}))}},Ca=a(388),ka=a(953),_a=a(279),Da=a.n(_a),Ia=a(303),Na=a.n(Ia),Ba=a(162),Ea=a(1083),Pa=["Communication Services","Consumer Discretionary","Consumer Staples","Energy","Financials","Health Care","Industrials","Information Technology","Materials","Real Estate","Utilities"].map((function(e){return{id:e,name:e}})),Ta=Object(Q.a)({avatar:{width:60,height:60,backgroundColor:"aliceblue"},img:{objectFit:"contain"},small:{width:20,height:20},large:{width:40,height:40}}),Wa=function(e){var t=e.record,a=e.size,n=void 0===a?"large":a,c=Ta();return t?Object(ce.jsx)(me.a,{src:"/react-admin-crm"+t.logo,alt:t.name,className:c.avatar,imgProps:{className:Object(st.a)(c.img,c[n])}}):null},Ma=Object(Q.a)((function(e){return{paper:{height:200,width:193.5,display:"flex",flexDirection:"column",justifyContent:"space-between",padding:"1em"},identity:{display:"flex",flexDirection:"column",alignItems:"center"},name:{textAlign:"center",marginTop:e.spacing(1)},stats:{display:"flex",justifyContent:"space-around",width:"100%"},singleStat:{display:"flex",alignItems:"center"},statIcon:{marginRight:e.spacing(1)}}})),Fa=function(e){var t=e.record,a=Ma(),c=Object(n.useState)(1),r=Object(ke.a)(c,2),s=r[0],i=r[1];return Object(ce.jsx)(ka.a,{component:ee.a,to:Object(Ba.a)("/companies",t.id,"show"),underline:"none",onMouseEnter:function(){return i(3)},onMouseLeave:function(){return i(1)},children:Object(ce.jsxs)(Ca.a,{className:a.paper,elevation:s,children:[Object(ce.jsxs)("div",{className:a.identity,children:[Object(ce.jsx)(Wa,{record:t}),Object(ce.jsxs)("div",{className:a.name,children:[Object(ce.jsx)(Y.a,{variant:"subtitle2",children:t.name}),Object(ce.jsx)(Ea.a,{color:"textSecondary",source:"sector",choices:Pa,record:t})]})]}),Object(ce.jsxs)("div",{className:a.stats,children:[Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Da.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Y.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_contacts}),Object(ce.jsx)(Y.a,{variant:"caption",color:"textSecondary",children:t.nb_contacts>1?"contacts":"contact"})]})]}),Object(ce.jsxs)("div",{className:a.singleStat,children:[Object(ce.jsx)(Na.a,{color:"disabled",className:a.statIcon}),Object(ce.jsxs)("div",{children:[Object(ce.jsx)(Y.a,{variant:"subtitle2",style:{marginBottom:-8},children:t.nb_deals}),Object(ce.jsx)(Y.a,{variant:"caption",color:"textSecondary",children:t.nb_deals>1?"deals":"deal"})]})]})]})]})})},La=Object(Q.a)((function(e){return{gridList:{display:"flex",flexWrap:"wrap",width:1008,gap:10},paper:{height:200,width:194,display:"flex",flexDirection:"column",backgroundColor:e.palette.grey[200]}}})),Ra=function(){var e,t,a=La();return Object(ce.jsx)(K.a,{className:a.gridList,children:(e=15,t=function(e){return Object(ce.jsx)(Ca.a,{className:a.paper},e)},Array.from({length:e},(function(e,a){return t(a)})))})},za=function(){var e=Object(ve.a)(),t=e.ids,a=e.data,n=La();return t&&a?Object(ce.jsx)(K.a,{className:n.gridList,children:t.map((function(e){return Object(ce.jsx)(Fa,{record:a[e]},e)}))}):null},Ha=function(){return Object(ve.a)().loaded?Object(ce.jsx)(za,{}):Object(ce.jsx)(Ra,{})},Ja=a(304),Ua=a.n(Ja),Va=a(543),Ga=a.n(Va),Qa=[{id:1,name:"1 employee"},{id:10,name:"2-9 employees"},{id:50,name:"10-49 employees"},{id:250,name:"50-249 employees"},{id:500,name:"250 or more employees"}],Za=function(){var e=Object(rt.a)().identity;return Object(ce.jsxs)(K.a,{width:"15em",order:"-1",marginRight:"1em",children:[Object(ce.jsx)(Vt.a,{}),Object(ce.jsx)(Gt.a,{label:"Size",icon:Object(ce.jsx)(Ua.a,{}),children:Qa.map((function(e){return Object(ce.jsx)(Qt.a,{label:e.name,value:{size:e.id}},e.id)}))}),Object(ce.jsx)(Gt.a,{label:"Sector",icon:Object(ce.jsx)(Ga.a,{}),children:Pa.map((function(e){return Object(ce.jsx)(Qt.a,{label:e.name,value:{sector:e.id}},e.id)}))}),Object(ce.jsx)(Gt.a,{label:"Account manager",icon:Object(ce.jsx)(ta.a,{}),children:Object(ce.jsx)(Qt.a,{label:"Me",value:{sales_id:e&&e.id}})})]})},qa=Object(Q.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),Ka=function(e){var t=qa();return Object(ce.jsxs)(Ct.a,{children:[Object(ce.jsx)(_t.a,{}),Object(ce.jsx)(Dt.a,{basePath:"/companies",variant:"contained",label:"New Company",className:t.createButton})]})},Ya=a(1117),Xa=a(1108),$a=a(1084),en=Object(Q.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),tn=function(e){return Object(ce.jsx)(Oe.a,{children:Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)(K.a,{paddingTop:1,children:Object(ce.jsx)(me.a,{children:Object(ce.jsx)(Ua.a,{})})}),Object(ce.jsx)(K.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},an=function(){return Object(ce.jsx)(K.a,{mb:2,children:Object(ce.jsx)(we.a,{})})},nn=a(545),cn=a.n(nn),rn=function(e){var t=e.record,a=e.link,n=void 0===a?"edit":a;return t?Object(ce.jsxs)(K.a,{ml:4,width:250,minWidth:250,children:[Object(ce.jsx)(K.a,{textAlign:"center",mb:2,children:"edit"===n?Object(ce.jsx)(pe.a,{basePath:"/companies",record:t,label:"Edit Company"}):Object(ce.jsx)(fe.a,{basePath:"/companies",record:t,label:"Show Company"})}),Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Company info"}),Object(ce.jsx)(we.a,{}),Object(ce.jsxs)(K.a,{mt:2,children:["Website: ",Object(ce.jsx)(ka.a,{href:t.website,children:t.website}),Object(ce.jsx)("br",{}),"LinkedIn: ",Object(ce.jsx)(ka.a,{href:t.linkedIn,children:"LinkedIn"})]}),Object(ce.jsxs)(K.a,{mt:1,children:[Object(ce.jsx)(be.a,{source:"phone_number",record:t})," ",Object(ce.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:"Main"})]}),Object(ce.jsxs)(K.a,{mt:1,mb:3,children:[Object(ce.jsx)(be.a,{source:"address"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(be.a,{source:"city"})," ",Object(ce.jsx)(be.a,{source:"zipcode"})," ",Object(ce.jsx)(be.a,{source:"stateAbbr"})]}),Object(ce.jsx)(Y.a,{variant:"subtitle2",children:"Background"}),Object(ce.jsx)(we.a,{}),Object(ce.jsxs)(K.a,{mt:1,children:[Object(ce.jsx)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:"Added on"})," ",Object(ce.jsx)(ge.a,{source:"created_at",options:{year:"numeric",month:"long",day:"numeric"},color:"textSecondary"}),Object(ce.jsx)("br",{}),Object(ce.jsx)(Y.a,{component:"span",variant:"body2",color:"textSecondary",children:"Followed by"})," ",Object(ce.jsx)(je.a,{resource:"companies",source:"sales_id",reference:"sales",children:Object(ce.jsx)(ye.a,{source:"last_name",render:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})]}):null},sn=["opportunity","proposal-sent","in-negociation","won","lost","delayed"],on={opportunity:"Opportunity","proposal-sent":"Proposal Sent","in-negociation":"In Negociation",won:"Won",lost:"Lost",delayed:"Delayed"},ln=sn.map((function(e){return{id:e,name:on[e]}})),dn=function(e){var t=Object(de.a)(),a=t.record,c=t.loaded,r=Object(n.useState)(0),s=Object(ke.a)(r,2),i=s[0],o=s[1];return c&&a?Object(ce.jsxs)(K.a,{mt:2,display:"flex",children:[Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(xe.a,{children:Object(ce.jsxs)(Oe.a,{children:[Object(ce.jsxs)(K.a,{display:"flex",mb:1,children:[Object(ce.jsx)($e,{record:a}),Object(ce.jsxs)(K.a,{ml:2,flex:"1",children:[Object(ce.jsx)(Y.a,{variant:"h5",children:a.name}),Object(ce.jsxs)(Y.a,{variant:"body2",children:[Object(ce.jsx)(be.a,{source:"sector"}),","," ",Object(ce.jsx)(Ea.a,{source:"size",choices:Qa})]})]})]}),Object(ce.jsxs)(X.a,{value:i,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){o(t)},children:[a.nb_contacts&&Object(ce.jsx)($.a,{label:1===a.nb_contacts?"1 Contact":"".concat(a.nb_contacts," Contacts")}),a.nb_deals&&Object(ce.jsx)($.a,{label:1===a.nb_deals?"1 deal":"".concat(a.nb_deals," Deals")})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(jn,{value:i,index:0,children:Object(ce.jsx)(ue.a,{reference:"contacts",target:"company_id",sort:{field:"last_name",order:"ASC"},children:Object(ce.jsx)(bn,{})})}),Object(ce.jsx)(jn,{value:i,index:1,children:Object(ce.jsx)(ue.a,{reference:"deals",target:"company_id",sort:{field:"name",order:"ASC"},children:Object(ce.jsx)(xn,{})})})]})})}),Object(ce.jsx)(rn,{record:a})]}):null},jn=function(e){var t=e.children,a=e.value,n=e.index,c=Object(Ft.a)(e,["children","value","index"]);return Object(ce.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:a!==n,id:"wrapped-tabpanel-".concat(n),"aria-labelledby":"wrapped-tab-".concat(n)},c),{},{children:t}))},bn=function(){var e=Object(ve.a)(),t=e.data,a=e.ids,n=e.loaded,c=Object(tt.b)(),r=Date.now();return n?Object(ce.jsxs)(K.a,{children:[Object(ce.jsx)(Se.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(Ce.a,{button:!0,component:ee.a,to:"/contacts/".concat(e,"/show"),children:[Object(ce.jsx)(Pt.a,{children:Object(ce.jsx)(he,{record:a})}),Object(ce.jsx)(Tt.a,{primary:"".concat(a.first_name," ").concat(a.last_name),secondary:Object(ce.jsxs)(ce.Fragment,{children:[a.title," ",Object(ce.jsx)(Ut,{record:a})]})}),Object(ce.jsx)(Wt.a,{children:Object(ce.jsxs)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity"," ",Object(Mt.a)(new Date(a.last_seen),r)," ago"," ",Object(ce.jsx)(ot,{status:a.status})]})})]},e)}))}),Object(ce.jsx)(K.a,{textAlign:"center",mt:1,children:Object(ce.jsx)(un,{record:c})})]}):null},un=function(e){var t=e.record;return Object(ce.jsx)(Re.a,{component:ee.a,to:{pathname:"/contacts/create",state:{record:{company_id:t.id}}},color:"primary",variant:"contained",size:"small",startIcon:Object(ce.jsx)(cn.a,{}),children:"Add contact"})},xn=function(){var e=Object(ve.a)(),t=e.data,a=e.ids,n=e.loaded,c=Date.now();return n?Object(ce.jsx)(K.a,{children:Object(ce.jsx)(Se.a,{children:a.map((function(e){var a=t[e];return Object(ce.jsxs)(Ce.a,{button:!0,component:ee.a,to:"/deals/".concat(e,"/show"),children:[Object(ce.jsx)(Tt.a,{primary:a.name,secondary:Object(ce.jsxs)(ce.Fragment,{children:[on[a.stage],","," ",a.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",a.type]})}),Object(ce.jsx)(Wt.a,{children:Object(ce.jsxs)(Y.a,{variant:"body2",color:"textSecondary",component:"span",children:["last activity ",Object(Mt.a)(new Date(a.updated_at),c)," ","ago"," "]})})]},e)}))})}):null},On=a(1111),mn=Object(Q.a)({inline:{display:"inline-block",marginLeft:"1em","&.first-child":{marginLeft:0}}}),hn=function(e){var t=Object(tt.b)(e);return Object(ce.jsx)(Oe.a,{children:Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsx)($e,{record:t}),Object(ce.jsx)(K.a,{ml:2,flex:"1",maxWidth:796,children:e.children})]})})},pn=function(){return Object(ce.jsx)(K.a,{mb:2,children:Object(ce.jsx)(we.a,{})})},fn={list:function(e){var t=Object(rt.a)().identity;return t?Object(ce.jsx)(It.a,Object(i.a)(Object(i.a)({},e),{},{actions:Object(ce.jsx)(Ka,{}),aside:Object(ce.jsx)(Za,{}),filterDefaultValues:{sales_id:null===t||void 0===t?void 0:t.id},pagination:Object(ce.jsx)(Nt.a,{rowsPerPageOptions:[15,25,50,100]}),perPage:25,sort:{field:"name",order:"ASC"},component:"div",children:Object(ce.jsx)(Ha,{})})):null},create:function(e){var t=en();return Object(ce.jsx)(Ya.a,Object(i.a)(Object(i.a)({},e),{},{actions:!1,children:Object(ce.jsxs)(Xa.a,{component:tn,redirect:"show",children:[Object(ce.jsx)(ba.a,{source:"name",validate:Object(ya.b)(),fullWidth:!0}),Object(ce.jsx)($a.a,{source:"sector",choices:Pa,formClassName:Object(st.a)(t.inline,"first-child")}),Object(ce.jsx)($a.a,{source:"size",choices:Qa,formClassName:t.inline}),Object(ce.jsx)(an,{}),Object(ce.jsx)(ba.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"city",formClassName:Object(st.a)(t.inline,"first-child")}),Object(ce.jsx)(ba.a,{source:"zipcode",formClassName:t.inline}),Object(ce.jsx)(ba.a,{source:"stateAbbr",formClassName:t.inline}),Object(ce.jsx)(an,{}),Object(ce.jsx)(ba.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"logo",fullWidth:!0}),Object(ce.jsx)(an,{}),Object(ce.jsx)(ba.a,{source:"phone_number",formClassName:Object(st.a)(t.inline,"first-child"),helperText:!1}),Object(ce.jsx)(ua.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ce.jsx)($a.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},edit:function(e){var t=mn();return Object(ce.jsx)(On.a,Object(i.a)(Object(i.a)({},e),{},{aside:Object(ce.jsx)(rn,{link:"show"}),actions:!1,children:Object(ce.jsxs)(Xa.a,{component:hn,redirect:"show",children:[Object(ce.jsx)(ba.a,{source:"name",validate:Object(ya.b)(),fullWidth:!0}),Object(ce.jsx)($a.a,{source:"sector",choices:Pa,formClassName:Object(st.a)(t.inline,"first-child")}),Object(ce.jsx)($a.a,{source:"size",choices:Qa,formClassName:t.inline}),Object(ce.jsx)(pn,{}),Object(ce.jsx)(ba.a,{source:"address",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"city",formClassName:Object(st.a)(t.inline,"first-child")}),Object(ce.jsx)(ba.a,{source:"zipcode",formClassName:t.inline}),Object(ce.jsx)(ba.a,{source:"stateAbbr",formClassName:t.inline}),Object(ce.jsx)(pn,{}),Object(ce.jsx)(ba.a,{source:"website",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"linkedIn",fullWidth:!0,helperText:!1}),Object(ce.jsx)(ba.a,{source:"logo",fullWidth:!0}),Object(ce.jsx)(pn,{}),Object(ce.jsx)(ba.a,{source:"phone_number",formClassName:Object(st.a)(t.inline,"first-child"),helperText:!1}),Object(ce.jsx)(ua.a,{source:"sales_id",reference:"sales",label:"Account manager",formClassName:t.inline,helperText:!1,children:Object(ce.jsx)($a.a,{optionText:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})}))},show:function(e){return Object(ce.jsx)(le.a,Object(i.a)(Object(i.a)({},e),{},{children:Object(ce.jsx)(dn,{})}))}},An=a(1105),gn=a(1086),yn=a(65),vn=a.n(yn),wn=a(138),Sn=a(506),Cn=a(156),kn=a(200),_n=a(49),Dn=a.n(_n),In=a(947),Nn=Object(Q.a)((function(e){return{root:{marginBottom:e.spacing(1)},cardContent:{padding:e.spacing(1),display:"flex"},cardText:{marginLeft:e.spacing(1)}}})),Bn=function(e){var t=e.deal,a=e.index,n=Nn(),c=Object(In.a)();if(!t)return null;var r=function(){c("/deals/".concat(t.id,"/show"))};return Object(ce.jsx)(kn.b,{draggableId:String(t.id),index:a,children:function(e,a){return Object(ce.jsx)("div",Object(i.a)(Object(i.a)(Object(i.a)({className:n.root},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,onClick:r,children:Object(ce.jsx)(xe.a,{style:{opacity:a.isDragging?.9:1,transform:a.isDragging?"rotate(-2deg)":""},elevation:a.isDragging?3:1,children:Object(ce.jsxs)("div",{className:n.cardContent,children:[Object(ce.jsx)(je.a,{source:"company_id",record:t,reference:"companies",resource:"deals",basePath:"/deals",children:Object(ce.jsx)($e,{size:"small"})}),Object(ce.jsxs)("div",{className:n.cardText,children:[Object(ce.jsx)(Y.a,{variant:"body2",gutterBottom:!0,children:t.name}),Object(ce.jsxs)(Y.a,{variant:"caption",color:"textSecondary",children:[t.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3}),", ",t.type]})]})]})})}))}})},En=Object(Q.a)({root:{flex:1,paddingTop:8,paddingBottom:16,backgroundColor:"#eaeaee","&:first-child":{paddingLeft:5,borderTopLeftRadius:5},"&:last-child":{paddingRight:5,borderTopRightRadius:5}},droppable:{display:"flex",flexDirection:"column",borderRadius:5,padding:5,"&.isDraggingOver":{backgroundColor:"#dadadf"}}}),Pn=function(e){var t=e.stage,a=e.dealIds,n=e.data,c=En();return Object(ce.jsxs)("div",{className:c.root,children:[Object(ce.jsx)(Y.a,{align:"center",variant:"subtitle1",children:on[t]}),Object(ce.jsx)(kn.c,{droppableId:t,children:function(e,t){return Object(ce.jsxs)("div",Object(i.a)(Object(i.a)({ref:e.innerRef},e.droppableProps),{},{className:c.droppable+(t.isDraggingOver?" isDraggingOver":""),children:[a.map((function(e,t){return Object(ce.jsx)(Bn,{index:t,deal:n[e]},e)})),e.placeholder]}))}})]})},Tn=sn.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(et.a)({},t,[]))}),{}),Wn=function(e,t){var a=e.reduce((function(e,a){return e[t[a].stage].push(a),e}),sn.reduce((function(e,t){return Object(i.a)(Object(i.a)({},e),{},Object(et.a)({},t,[]))}),{}));return sn.forEach((function(e){a[e]=a[e].sort((function(e,a){return t[e].index-t[a].index}))})),a},Mn=function(){var e=Object(ve.a)(),t=e.data,a=e.ids,c=e.loaded,r=e.page,s=e.perPage,o=e.currentSort,l=e.filterValues,d=Object(n.useState)(c?Wn(a,t):Tn),j=Object(ke.a)(d,2),b=j[0],u=j[1],O=Object(n.useContext)(Sn.a),m=Object(Cn.a)({resource:"deals",type:"getList",payload:{pagination:{page:r,perPage:s},sort:o,filter:l}}),h=Object(ke.a)(m,1)[0];if(Object(n.useEffect)((function(){if(c){var e=Wn(a,t);Dn()(b,e)||u(e)}}),[t,a,c]),!c)return null;var p=function(){var e=Object(wn.a)(vn.a.mark((function e(a){var n,c,r,s,o,l,d,j,m,p,f,A,g,y,v,w,S;return vn.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.destination,c=a.source,r=a.draggableId,n){e.next=3;break}return e.abrupt("return");case 3:if(n.droppableId!==c.droppableId||n.index!==c.index){e.next=5;break}return e.abrupt("return");case 5:if(c.droppableId!==n.droppableId){e.next=27;break}return s=Array.from(b[c.droppableId]),o=t[s[c.index]],l=t[s[n.index]],s.splice(c.index,1),s.splice(n.index,0,Number(r)),u(Object(i.a)(Object(i.a)({},b),{},Object(et.a)({},c.droppableId,s))),e.next=14,O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}});case 14:if(d=e.sent,j=d.data,!(c.index>n.index)){e.next=22;break}return e.next=19,Promise.all([].concat(Object(x.a)(j.filter((function(e){return e.index>=l.index&&e.index<o.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:o.id,data:{index:l.index},previousData:o})]));case 19:h(),e.next=25;break;case 22:return e.next=24,Promise.all([].concat(Object(x.a)(j.filter((function(e){return e.index<=l.index&&e.index>o.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),[O.update("deals",{id:o.id,data:{index:l.index},previousData:o})]));case 24:h();case 25:e.next=43;break;case 27:return p=Array.from(b[c.droppableId]),f=Array.from(b[n.droppableId]),A=t[p[c.index]],g=t[f[n.index]],p.splice(c.index,1),f.splice(n.index,0,r),u(Object(i.a)(Object(i.a)({},b),{},(m={},Object(et.a)(m,c.droppableId,p),Object(et.a)(m,n.droppableId,f),m))),e.next=36,Promise.all([O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:c.droppableId}}),O.getList("deals",{sort:{field:"index",order:"ASC"},pagination:{page:1,perPage:100},filter:{stage:n.droppableId}})]);case 36:return y=e.sent,v=Object(ke.a)(y,2),w=v[0].data,S=v[1].data,e.next=42,Promise.all([].concat(Object(x.a)(w.filter((function(e){return e.index>A.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index-1},previousData:e})}))),Object(x.a)(S.filter((function(e){return!!g&&e.index>=g.index})).map((function(e){return O.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})}))),[O.update("deals",{id:A.id,data:{index:g?g.index:S.pop().index+1,stage:n.droppableId},previousData:A})]));case 42:h();case 43:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ce.jsx)(kn.a,{onDragEnd:p,children:Object(ce.jsx)(K.a,{display:"flex",children:sn.map((function(e){return Object(ce.jsx)(Pn,{stage:e,dealIds:b[e],data:t},e)}))})})},Fn=a(154),Ln=a(1085),Rn=["Other","Copywriting","Print project","UI Design","Website design"].map((function(e){return{id:e,name:e}})),zn=Object(Q.a)({root:{width:500}}),Hn=function(e){var t=e.open,a=zn(),n=Object(In.a)(),c=Object(Fn.a)();return Object(ce.jsx)(Te.a,{open:t,onClose:function(){n("/deals")},children:Object(ce.jsx)(Ya.a,{resource:"deals",basePath:"/deals",className:a.root,onSuccess:function(e){var t=e.data;n("/deals"),c.getList("deals",{pagination:{page:1,perPage:50},sort:{field:"id",order:"ASC"},filter:{stage:t.stage}}).then((function(e){var a=e.data;return Promise.all(a.filter((function(e){return e.id!==t.id})).map((function(e){return c.update("deals",{id:e.id,data:{index:e.index+1},previousData:e})})))}))},children:Object(ce.jsxs)(Xa.a,{initialValues:{index:0},children:[Object(ce.jsx)(ba.a,{source:"name",label:"Deal name",fullWidth:!0,validate:[Object(ya.b)()]}),Object(ce.jsx)(ba.a,{source:"description",multiline:!0,rows:3,fullWidth:!0}),Object(ce.jsx)(ua.a,{source:"company_id",reference:"companies",fullWidth:!0,validate:[Object(ya.b)()],children:Object(ce.jsx)(xa.a,{optionText:"name"})}),Object(ce.jsx)($a.a,{source:"stage",choices:ln,fullWidth:!0,validate:[Object(ya.b)()],defaultValue:"opportunity"}),Object(ce.jsx)($a.a,{source:"type",choices:Rn,fullWidth:!0}),Object(ce.jsx)(Ln.a,{source:"amount",fullWidth:!0,defaultValue:0})]})})})},Jn=a(1099),Un=Object(Q.a)({ul:{listStyle:"none",padding:0,margin:0,display:"inline-block"},li:{display:"inline","&:after":{content:'", "'},"&:last-child:after":{content:'""'}}}),Vn=function(){var e=Object(ve.a)(),t=e.ids,a=e.data,n=e.loaded,c=Un();return n?Object(ce.jsx)("ul",{className:c.ul,children:t.map((function(e){return Object(ce.jsx)("li",{className:c.li,children:Object(ce.jsxs)(ka.a,{component:ee.a,to:"/contacts/".concat(e),variant:"subtitle1",children:[a[e].first_name," ",a[e].last_name]})},e)}))}):Object(ce.jsx)("div",{style:{height:"2em"}})},Gn=Object(Q.a)({dialog:{position:"absolute",top:50}}),Qn=function(e){var t=e.open,a=e.id,n=Object(In.a)(),c=Gn();return Object(ce.jsx)(Te.a,{open:t,onClose:function(){n("/deals")},fullWidth:!0,maxWidth:"md",classes:{paper:c.dialog},children:Object(ce.jsx)(Me.a,{children:Object(ce.jsx)(le.a,{resource:"deals",basePath:"/deals",id:a,children:Object(ce.jsx)(Zn,{})})})})},Zn=function(){var e=Object(tt.b)();return e?Object(ce.jsx)(ce.Fragment,{children:Object(ce.jsxs)(K.a,{display:"flex",children:[Object(ce.jsxs)(K.a,{width:100,display:"flex",flexDirection:"column",alignItems:"center",children:[Object(ce.jsx)(je.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(Wa,{})}),Object(ce.jsx)(je.a,{source:"company_id",reference:"companies",link:"show",children:Object(ce.jsx)(be.a,{source:"name",align:"center",component:"div"})})]}),Object(ce.jsxs)(K.a,{ml:2,flex:"1",children:[Object(ce.jsx)(Y.a,{variant:"h5",children:e.name}),Object(ce.jsxs)(K.a,{display:"flex",mt:2,children:[Object(ce.jsxs)(K.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Start"}),Object(ce.jsx)(Y.a,{variant:"subtitle1",children:Object(Jn.a)(new Date(e.start_at),"PP")})]}),Object(ce.jsxs)(K.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Budget"}),Object(ce.jsx)(Y.a,{variant:"subtitle1",children:e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})})]}),Object(ce.jsxs)(K.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Type"}),Object(ce.jsx)(Y.a,{variant:"subtitle1",children:e.type})]}),Object(ce.jsxs)(K.a,{display:"flex",mr:5,flexDirection:"column",children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Stage"}),Object(ce.jsx)(Y.a,{variant:"subtitle1",children:on[e.stage]})]})]}),Object(ce.jsx)(K.a,{mt:2,mb:2,children:Object(ce.jsxs)(K.a,{display:"flex",mr:5,flexDirection:"column",minHeight:48,children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Contacts"}),Object(ce.jsx)(Rt.a,{source:"contact_ids",reference:"contacts",children:Object(ce.jsx)(Vn,{})})]})}),Object(ce.jsxs)(K.a,{mt:2,mb:2,style:{whiteSpace:"pre-line"},children:[Object(ce.jsx)(Y.a,{color:"textSecondary",variant:"body2",children:"Description"}),Object(ce.jsx)(Y.a,{children:e.description})]}),Object(ce.jsx)(we.a,{}),Object(ce.jsx)(K.a,{mt:2,children:Object(ce.jsx)(ue.a,{target:"deal_id",reference:"dealNotes",sort:{field:"date",order:"DESC"},children:Object(ce.jsx)(vt,{reference:"deals"})})})]})]})}):null},qn=a(591),Kn=a(1078),Yn=a(1079),Xn=Object(Q.a)((function(e){return{root:{marginBottom:e.spacing(1),marginLeft:e.spacing(1)}}})),$n=function(e){e.alwaysOn;var t=Object(qn.a)(),a=t.filterValues,n=t.displayedFilters,c=t.setFilters,r=Object(rt.a)().identity,s=Xn();return Object(ce.jsx)("div",{className:s.root,children:Object(ce.jsx)(Kn.a,{control:Object(ce.jsx)(Yn.a,{checked:"undefined"!==typeof a.sales_id,onChange:function(){var e=Object(i.a)({},a);"undefined"!==typeof a.sales_id?delete e.sales_id:e.sales_id=r&&(null===r||void 0===r?void 0:r.id),c(e,n)},color:"primary",name:"checkedC"}),label:"Only companies I manage"})})};$n.defaultProps={source:"sales_id"};var ec=function(e){return Object(ce.jsxs)(An.a,Object(i.a)(Object(i.a)({},e),{},{children:[Object(ce.jsx)(gn.a,{source:"q",alwaysOn:!0}),Object(ce.jsx)($n,{alwaysOn:!0}),Object(ce.jsx)($a.a,{source:"type",choices:Rn})]}))},tc=Object(Q.a)((function(e){return{createButton:{marginLeft:e.spacing(2)}}})),ac=function(e){var t=tc();return Object(ce.jsxs)(Ct.a,{children:[Object(ce.jsx)(ec,{context:"button"}),Object(ce.jsx)(_t.a,{}),Object(ce.jsx)(Dt.a,{basePath:"/deals",variant:"contained",label:"New Deal",className:t.createButton})]})},nc={list:function(e){var t=Object(rt.a)().identity;return t?Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(It.a,Object(i.a)(Object(i.a)({},e),{},{perPage:100,sort:{field:"index",order:"ASC"},filters:Object(ce.jsx)(ec,{}),filterDefaultValues:{sales_id:t&&(null===t||void 0===t?void 0:t.id)},actions:Object(ce.jsx)(ac,{}),pagination:!1,component:"div",children:Object(ce.jsx)(Mn,{})})),Object(ce.jsx)(z.b,{path:"/deals/create",children:function(e){var t=e.match;return Object(ce.jsx)(Hn,{open:!!t})}}),Object(ce.jsx)(z.b,{path:"/deals/:id/show",children:function(e){var t,a=e.match;return a?Object(ce.jsx)(Qn,{open:!!a,id:null===a||void 0===a||null===(t=a.params)||void 0===t?void 0:t.id}):null}})]}):null}},cc=a(1087),rc=a(548),sc=a.n(rc),ic=a(549),oc=a.n(ic),lc=Object(Q.a)((function(e){return{root:{background:"#c5dedd",color:"rgba(0, 0, 0, 0.87)",padding:"1em",marginBottom:"1em",marginTop:"2em"},actions:{padding:e.spacing(2),marginTop:-e.spacing(2),marginBottom:-e.spacing(1),flexDirection:"column","& a":{marginBottom:e.spacing(1),backgroundColor:"white",marginLeft:"0 !important"}}}})),dc=function(){var e=lc();return Object(ce.jsxs)(xe.a,{className:e.root,children:[Object(ce.jsxs)(Oe.a,{children:[Object(ce.jsx)(Y.a,{variant:"h5",gutterBottom:!0,children:"CRM demo"}),Object(ce.jsx)(Y.a,{gutterBottom:!0,children:"This app runs in the browser, and relies on a mock REST API. Feel free to explore and modify the data - it's local to your computer, and will reset each time you reload."}),Object(ce.jsx)(Y.a,{gutterBottom:!0,children:"It was built using react-admin, an open-source framework. The code for this demo is also open-source. Reading it is a great way to learn react-admin!"})]}),Object(ce.jsxs)(cc.a,{className:e.actions,children:[Object(ce.jsx)(Re.a,{variant:"contained",fullWidth:!0,href:"https://marmelab.com/react-admin",startIcon:Object(ce.jsx)(sc.a,{}),children:"React-admin site"}),Object(ce.jsx)(Re.a,{variant:"contained",fullWidth:!0,href:"https://github.com/marmelab/react-admin/tree/master/examples/crm",startIcon:Object(ce.jsx)(oc.a,{}),children:"Source for this demo"})]})]})},jc=a(559),bc=a.n(jc),uc=a(550),xc={opportunity:.2,"proposal-sent":.5,"in-negociation":.8,delayed:.3},Oc=function(){var e=Object(_e.a)("deals",{perPage:100,page:1},{field:"start_at",order:"ASC"}),t=e.data,a=e.ids,c=e.loaded,r=Object(n.useState)([]),s=Object(ke.a)(r,2),i=s[0],o=s[1];if(Object(n.useEffect)((function(){var e=a.map((function(e){return t[e]})).reduce((function(e,t){var a=Object(ca.a)(new Date(t.start_at)).toISOString();return e[a]||(e[a]=[]),e[a].push(t),e}),{}),n=Object.keys(e).map((function(t){return{date:Object(Jn.a)(new Date(t),"MMM"),won:e[t].filter((function(e){return"won"===e.stage})).reduce((function(e,t){return e+=t.amount}),0),pending:e[t].filter((function(e){return!["won","lost"].includes(e.stage)})).reduce((function(e,t){return e+=t.amount*xc[t.stage]}),0),lost:e[t].filter((function(e){return"lost"===e.stage})).reduce((function(e,t){return e-=t.amount}),0)}}));o(n)}),[a,t]),!c)return null;var l=i.reduce((function(e,t){return e.min=Math.min(e.min,t.lost),e.max=Math.max(e.max,t.won+t.pending),e}),{min:0,max:0});return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(K.a,{display:"flex",alignItems:"center",children:[Object(ce.jsx)(K.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(bc.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(ka.a,{underline:"none",variant:"h5",color:"textSecondary",component:ee.a,to:"/deals",children:"Upcoming Deal Revenue"})]}),Object(ce.jsx)(K.a,{height:500,children:Object(ce.jsx)(uc.a,{data:i,indexBy:"date",keys:["won","pending","lost"],colors:["#61cdbb","#97e3d5","#e25c3b"],margin:{top:50,right:50,bottom:50,left:0},padding:.3,valueScale:{type:"linear",min:1.2*l.min,max:1.2*l.max},indexScale:{type:"band",round:!0},enableGridX:!0,enableGridY:!1,enableLabel:!1,axisTop:{tickSize:0,tickPadding:12},axisBottom:{legendPosition:"middle",legendOffset:50,tickSize:0,tickPadding:12},axisLeft:null,axisRight:{format:function(e){return"".concat(Math.abs(e/1e3),"k")},tickValues:8},markers:[{axis:"y",value:0,lineStyle:{strokeOpacity:0},textStyle:{fill:"#2ebca6"},legend:"Won",legendPosition:"top-left",legendOrientation:"vertical"},{axis:"y",value:0,lineStyle:{stroke:"#f47560",strokeWidth:1},textStyle:{fill:"#e25c3b"},legend:"Lost",legendPosition:"bottom-left",legendOrientation:"vertical"}]})})]})},mc=a(560),hc=a.n(mc),pc=a(1095),fc=function(){var e=Object(rt.a)().identity,t=Object(_e.a)("contacts",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{status:"hot",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),a=t.data,n=t.ids,c=t.total,r=t.loaded;return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(K.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ce.jsx)(K.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(hc.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(ka.a,{underline:"none",variant:"h5",color:"textSecondary",component:ee.a,to:"/contacts",children:"Hot contacts"})]}),Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(pc.a,{basePath:"/contacts",linkType:"show",ids:n,data:a,total:c,loaded:r,primaryText:function(e){return"".concat(e.first_name," ").concat(e.last_name)},secondaryText:function(e){return Object(Mt.a)(new Date(e.last_seen),new Date,{addSuffix:!0})},leftAvatar:function(e){return Object(ce.jsx)(he,{record:e})}})})]})},Ac=a(561),gc=a.n(Ac),yc=Object(Q.a)((function(e){return{note:{marginBottom:e.spacing(2)},noteText:{backgroundColor:"#edf3f0",padding:e.spacing(1),borderRadius:10},noteTextText:{display:"-webkit-box","-webkit-line-clamp":3,"-webkit-box-orient":"vertical",overflow:"hidden"}}})),vc=function(){var e=yc(),t=Object(rt.a)().identity,a=Object(_e.a)("contactNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),n=a.data,c=a.ids,r=a.loaded,s=Object(_e.a)("dealNotes",{page:1,perPage:5},{field:"date",order:"DESC"},{sales_id:null===t||void 0===t?void 0:t.id},{enabled:Number.isInteger(null===t||void 0===t?void 0:t.id)}),o=s.data,l=s.ids,d=s.loaded;if(!r||!d)return null;if(!c||!n||!l||!o)return null;var j=[].concat(c.map((function(e){return Object(i.a)(Object(i.a)({},n[e]),{},{type:"contactNote"})})),l.map((function(e){return Object(i.a)(Object(i.a)({},o[e]),{},{type:"dealNote"})}))).sort((function(e,t){return new Date(t.date).valueOf()-new Date(e.date).valueOf()})).slice(0,5);return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(K.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ce.jsx)(K.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(gc.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(Y.a,{variant:"h5",color:"textSecondary",children:"My Latest Notes"})]}),Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(Oe.a,{children:j.map((function(t){return Object(ce.jsxs)("div",{id:"".concat(t.type,"_").concat(t.id),className:e.note,children:[Object(ce.jsxs)(Y.a,{color:"textSecondary",gutterBottom:!0,children:["on"," ","dealNote"===t.type?Object(ce.jsx)(wc,{note:t}):Object(ce.jsx)(Sc,{note:t}),", added"," ",Object(Mt.a)(new Date(t.date),new Date,{addSuffix:!0})]}),Object(ce.jsx)("div",{className:e.noteText,children:Object(ce.jsx)(Y.a,{className:e.noteTextText,children:t.text})})]})}))})})]})},wc=function(e){var t=e.note;return Object(ce.jsxs)(ce.Fragment,{children:["Deal"," ",Object(ce.jsx)(je.a,{record:t,source:"deal_id",reference:"deals",basePath:"/deals",link:"show",children:Object(ce.jsx)(be.a,{source:"name",variant:"body1"})})]})},Sc=function(e){var t=e.note;return Object(ce.jsxs)(ce.Fragment,{children:["Contact"," ",Object(ce.jsx)(je.a,{record:t,source:"contact_id",reference:"contacts",basePath:"/contacts",link:"show",children:Object(ce.jsx)(ye.a,{variant:"body1",render:function(e){return"".concat(e.first_name," ").concat(e.last_name)}})})]})},Cc=function(){var e=Object(rt.a)().identity,t=Object(_e.a)("deals",{page:1,perPage:10},{field:"last_seen",order:"DESC"},{stage_neq:"lost",sales_id:null===e||void 0===e?void 0:e.id},{enabled:Number.isInteger(null===e||void 0===e?void 0:e.id)}),a=t.data,c=t.ids,r=t.total,s=t.loaded,i=Object(n.useState)(c),o=Object(ke.a)(i,2),l=o[0],d=o[1];return Object(n.useEffect)((function(){var e=c.map((function(e){return a[e]})),t=[];sn.filter((function(e){return"won"!==e})).forEach((function(a){return e.filter((function(e){return e.stage===a})).forEach((function(e){return t.push(e.id)}))})),d(t)}),[c,a]),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(K.a,{display:"flex",alignItems:"center",marginBottom:"1em",children:[Object(ce.jsx)(K.a,{ml:2,mr:2,display:"flex",children:Object(ce.jsx)(Na.a,{color:"disabled",fontSize:"large"})}),Object(ce.jsx)(ka.a,{underline:"none",variant:"h5",color:"textSecondary",component:ee.a,to:"/deals",children:"Deals Pipeline"})]}),Object(ce.jsx)(xe.a,{children:Object(ce.jsx)(pc.a,{basePath:"/deals",linkType:"show",ids:l,data:a,total:r,loaded:s,primaryText:function(e){return e.name},secondaryText:function(e){return"".concat(e.amount.toLocaleString("en-US",{notation:"compact",style:"currency",currency:"USD",currencyDisplay:"narrowSymbol",minimumSignificantDigits:3})," , ").concat(on[e.stage])},leftAvatar:function(e){return Object(ce.jsx)(je.a,{source:"company_id",record:e,reference:"companies",resource:"deals",basePath:"/deals",children:Object(ce.jsx)(Wa,{size:"small"})})}})})]})},kc=function(){return Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsxs)(K.a,{display:"flex",mt:"2em",children:[Object(ce.jsx)(K.a,{flex:"3",mr:"1em",children:Object(ce.jsx)(Oc,{})}),Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(dc,{})})]}),Object(ce.jsxs)(K.a,{display:"flex",mt:"2em",children:[Object(ce.jsx)(K.a,{flex:"1",mr:"1em",children:Object(ce.jsx)(vc,{})}),Object(ce.jsxs)(K.a,{flex:"1",display:"flex",children:[Object(ce.jsx)(K.a,{flex:"1",mr:"1em",children:Object(ce.jsx)(fc,{})}),Object(ce.jsx)(K.a,{flex:"1",children:Object(ce.jsx)(Cc,{})})]})]})]})},_c=Object(b.a)(o.a),Dc=function(){return Object(ce.jsxs)(l.a,{dataProvider:T,authProvider:W,layout:oe,dashboard:kc,theme:_c,children:[Object(ce.jsx)(d.a,Object(i.a)({name:"deals"},nc)),Object(ce.jsx)(d.a,Object(i.a)({name:"contacts"},Sa)),Object(ce.jsx)(d.a,Object(i.a)({name:"companies"},fn)),Object(ce.jsx)(d.a,{name:"contactNotes"}),Object(ce.jsx)(d.a,{name:"dealNotes"}),Object(ce.jsx)(d.a,{name:"tasks",list:j.a}),Object(ce.jsx)(d.a,{name:"sales",list:j.a}),Object(ce.jsx)(d.a,{name:"tags",list:j.a})]})},Ic=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,1119)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(ce.jsx)(c.a.StrictMode,{children:Object(ce.jsx)(Dc,{})}),document.getElementById("root")),Ic()}},[[939,1,2]]]);
//# sourceMappingURL=main.bd5878b5.chunk.js.map